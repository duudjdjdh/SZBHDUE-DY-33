/*! For license information please see out.js.LICENSE.txt */
https://nettleweb.com/


/*! Copyright (C) 2024 nettleweb.com; All rights reserved. !*/
"use strict";

(()=>{function e(){try{return"object"==typeof indexedDB}catch(e){return!1}}function t(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function n(e,t){if(e===t)return!0;const o=Object.keys(e),a=Object.keys(t)
;for(const i of o){if(!a.includes(i))return!1;const o=e[i],s=t[i];if(r(o)&&r(s)){if(!n(o,s))return!1}else if(o!==s)return!1}for(const e of a)if(!o.includes(e))return!1;return!0}function r(e){return null!==e&&"object"==typeof e}function o(e,t=1e3,n=2){const r=t*Math.pow(n,e),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}function a(e){return e&&e._delegate?e._delegate:e}function i(e){
return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vt||(Vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Zt(this),t),c(Gt.get(this))}:function(...t){return c(e.apply(Zt(this),t))}:function(t,...n){const r=e.call(Zt(this),t,...n);return Yt.set(r,t.sort?t.sort():[t]),c(r)}}function s(e){return"function"==typeof e?i(e):(e instanceof IDBTransaction&&function(e){
if(Kt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kt.set(e,t)}(e),t=e,(qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Jt):e);var t}
function c(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(c(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Gt.set(t,e)})).catch((()=>{})),Xt.set(t,e),t}(e);if($t.has(e))return $t.get(e);const t=s(e);return t!==e&&($t.set(e,t),Xt.set(t,e)),t}
function l(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(e,t),s=c(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(c(i.result),e.oldVersion,e.newVersion,c(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}function d(e,t){
if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(tn.get(t))return tn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=en.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Qt.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),o&&a.done]))[0]};return tn.set(t,a),a}function u(e,t){try{e.container.addComponent(t)}catch(n){
sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function h(e){const t=e.name;if(Dn.has(t))return sn.debug(`There were multiple attempts to register component ${t}.`),!1;Dn.set(t,e);for(const t of Fn.values())u(t,e);for(const t of Bn.values())u(t,e);return!0}function p(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function f(e,t={}){let r=e;"object"!=typeof t&&(t={name:t})
;const o=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),a=o.name;if("string"!=typeof a||!a)throw Hn.create("bad-app-name",{appName:a+""});if(r||(r=Mt()),!r)throw Hn.create("no-options");const i=Fn.get(a);if(i){if(n(r,i.options)&&n(o,i.config))return i;throw Hn.create("duplicate-app",{appName:a})}const s=new Ft(a);for(const e of Dn.values())s.addComponent(e);const c=new Un(r,o,s);return Fn.set(a,c),c}function m(e,t,n){var r;let o=null!==(r=Nn[e])&&void 0!==r?r:e;n&&(o+="-"+n)
;const a=o.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=[`Unable to register library "${o}" with version "${t}":`];return a&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void sn.warn(e.join(" "))}h(new Ot(o+"-version",(()=>({library:o,version:t})),"VERSION"))}function g(){return zn||(zn=l("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{
e.createObjectStore(Rn)}catch(e){}}}).catch((e=>{throw Hn.create("idb-open",{originalErrorMessage:e.message})}))),zn}async function b(e,t){try{const n=(await g()).transaction(Rn,"readwrite"),r=n.objectStore(Rn);await r.put(t,y(e)),await n.done}catch(e){if(e instanceof Lt)sn.warn(e.message);else{const t=Hn.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});sn.warn(t.message)}}}function y(e){return`${e.name}!${e.options.appId}`}function v(){
return(new Date).toISOString().substring(0,10)}function w(e){return At(JSON.stringify({version:2,heartbeats:e})).length}function k(e){return e instanceof Lt&&e.code.includes("request-failed")}function C({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function E(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function A(e,t){const n=(await t.json()).error
;return Jn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function x({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=x(e);return n.append("Authorization",function(e){return`${Xn} ${e}`}(t)),n}async function S(e){const t=await e();return t.status>=500&&t.status<600?e():t}function M(e){return new Promise((t=>{setTimeout(t,e)}))}
function j(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Zn.test(t)?t:""}catch(e){return""}}function L(e){return`${e.appName}!${e.appId}`}function I(e,t){const n=L(e);_(n,t),function(e,t){const n=O();n&&n.postMessage({key:e,fid:t}),P()}(n,t)}function _(e,t){const n=Qn.get(e);if(n)for(const e of n)e(t)}
function O(){return!er&&"BroadcastChannel"in self&&(er=new BroadcastChannel("[Firebase] FID Change"),er.onmessage=e=>{_(e.data.key,e.data.fid)}),er}function P(){0===Qn.size&&er&&(er.close(),er=null)}function N(){return nr||(nr=l("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(tr)}})),nr}async function F(e,t){const n=L(e),r=(await N()).transaction(tr,"readwrite"),o=r.objectStore(tr),a=await o.get(n);return await o.put(t,n),await r.done,a&&a.fid===t.fid||I(e,t.fid),
t}async function B(e){const t=L(e),n=(await N()).transaction(tr,"readwrite");await n.objectStore(tr).delete(t),await n.done}async function D(e,t){const n=L(e),r=(await N()).transaction(tr,"readwrite"),o=r.objectStore(tr),a=await o.get(n),i=t(a);return void 0===i?await o.delete(n):await o.put(i,n),await r.done,!i||a&&a.fid===i.fid||I(e,i.fid),i}async function H(e){let t;const n=await D(e.appConfig,(n=>{const r=function(e){const t=e||{fid:j(),registrationStatus:0};return z(t)}(n),o=function(e,t){
if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Jn.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=C(e),o=x(e),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const i={fid:n,authVersion:Xn,appId:e.appId,
sdkVersion:$n},s={method:"POST",headers:o,body:JSON.stringify(i)},c=await S((()=>fetch(r,s)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:E(e.authToken)}}throw await A("Create Installation",c)}(e,t);return F(e.appConfig,n)}catch(n){throw k(n)&&409===n.customData.serverCode?await B(e.appConfig):await F(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}
return 1===t.registrationStatus?{installationEntry:t,registrationPromise:U(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function U(e){let t=await R(e.appConfig);for(;1===t.registrationStatus;)await M(100),t=await R(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await H(e);return n||t}return t}function R(e){
return D(e,(e=>{if(!e)throw Jn.create("installation-not-found");return z(e)}))}function z(e){return 1===(t=e).registrationStatus&&t.registrationTime+Yn<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function W({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${C(e)}/${t}/authTokens:generate`}(e,n),o=T(e,n),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const i={installation:{sdkVersion:$n,
appId:e.appId}},s={method:"POST",headers:o,body:JSON.stringify(i)},c=await S((()=>fetch(r,s)));if(c.ok)return E(await c.json());throw await A("Generate Auth Token",c)}async function q(e,t=!1){let n;const r=await D(e.appConfig,(r=>{if(!G(r))throw Jn.create("not-registered");const o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(o))return r
;if(1===o.requestStatus)return n=async function(e,t){let n=await V(e.appConfig);for(;1===n.authToken.requestStatus;)await M(100),n=await V(e.appConfig);const r=n.authToken;return 0===r.requestStatus?q(e,t):r}(e,t),r;{if(!navigator.onLine)throw Jn.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await W(e,t),r=Object.assign(Object.assign({},t),{authToken:n
});return await F(e.appConfig,r),n}catch(n){if(!k(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await F(e.appConfig,n)}else await B(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function V(e){return D(e,(e=>{if(!G(e))throw Jn.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Yn<Date.now()?Object.assign(Object.assign({},e),{authToken:{
requestStatus:0}}):e;var n}))}function G(e){return void 0!==e&&2===e.registrationStatus}async function K(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await H(e);t&&await t}(n),(await q(n,t)).token}function Y(e){return Jn.create("missing-app-config-values",{valueName:e})}function $(e){if(!e.startsWith(ir)){const t=cr.create("invalid-gtag-resource",{gtagURL:e});return sr.warn(t.message),""}return e}function X(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}
function J(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:$}),r=document.createElement("script"),o=`${ir}?l=${e}&id=${t}`;r.src=n?null==n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Z(e,t,n,r){return async function(o,...a){try{if("event"===o){const[r,o]=a;await async function(e,t,n,r,o){try{let a=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e])
;const r=await X(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),o=e&&t[e.appId];if(!o){a=[];break}a.push(o)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,o||{})}catch(e){sr.error(e)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=a;await async function(e,t,n,r,o,a){const i=r[o];try{if(i)await t[i];else{const e=(await X(n)).find((e=>e.measurementId===o));e&&await t[e.appId]}}catch(e){sr.error(e)}e("config",o,a)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=a
;e("consent",t,n)}else if("get"===o){const[t,n,r]=a;e("get",t,n,r)}else if("set"===o){const[t]=a;e("set",t)}else e(o,...a)}catch(e){sr.error(e)}}}function Q(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ee(e,t=lr,n){const{appId:r,apiKey:o,measurementId:a}=e.options;if(!r)throw cr.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw cr.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()
},s=new dr;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),te({appId:r,apiKey:o,measurementId:a},i,s,t)}async function te(e,{throttleEndTimeMillis:t,backoffCount:n},r,a=lr){var i;const{appId:s,measurementId:c}=e;try{await function(e,t){return new Promise(((n,r)=>{const o=Math.max(t-Date.now(),0),a=setTimeout(n,o);e.addEventListener((()=>{clearTimeout(a),r(cr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){
if(c)return sr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+` provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:s,measurementId:c};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,o={method:"GET",headers:Q(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),i=await fetch(a,o)
;if(200!==i.status&&304!==i.status){let e="";try{const n=await i.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw cr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return a.deleteThrottleMetadata(s),t}catch(t){const l=t;if(!function(e){if(!(e instanceof Lt&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(a.deleteThrottleMetadata(s),
c)return sr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+` provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:s,measurementId:c};throw t}const d=503===Number(null===(i=null==l?void 0:l.customData)||void 0===i?void 0:i.httpStatus)?o(n,a.intervalMillis,30):o(n,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return a.setThrottleMetadata(s,u),
sr.debug(`Calling attemptFetch again in ${d} millis`),te(e,u,r,a)}}function ne(e){hr=e}function re(e){ur=e}async function oe(n,r,o,a,i,s,c){var l;const d=ee(n);d.then((e=>{o[e.measurementId]=e.appId,
n.options.measurementId&&e.measurementId!==n.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>sr.error(e))),r.push(d);const u=async function(){
if(!e())return sr.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await t()}catch(e){return sr.warn(cr.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?a.getId():void 0)),[h,p]=await Promise.all([d,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ir)&&n.src.includes(e))return n;return null
})(s)||J(s,h.measurementId),hr&&(i("consent","default",hr),ne(void 0)),i("js",new Date);const f=null!==(l=null==c?void 0:c.config)&&void 0!==l?l:{};return f.origin="firebase",f.update=!0,null!=p&&(f.firebase_id=p),i("config",h.measurementId,f),ur&&(i("set",ur),re(void 0)),h.measurementId}function ae(){const e=[];if(function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id
}()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=cr.create("invalid-analytics-context",{errorInfo:t});sr.warn(n.message)}}function ie(e,t,n){ae();const r=e.options.appId;if(!r)throw cr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw cr.create("no-api-key")
;sr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=fr[r])throw cr.create("already-exists",{id:r});if(!kr){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(vr);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let a=function(){
window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(a=window[o]),window[o]=Z(a,e,t,n),{gtagCore:a,wrappedGtag:window[o]}}(fr,mr,gr,vr,wr);yr=e,br=t,kr=!0}return fr[r]=oe(e,mr,gr,t,br,vr,n),new pr(e)}function se(e=function(e=Pn){const t=Fn.get(e);if(!t&&e===Pn&&Mt())return f();if(!t)throw Hn.create("no-app",{appName:e});return t}()){const t=p(e=a(e),ar);return t.isInitialized()?t.getImmediate():function(e,t={}){const r=p(e,ar);if(r.isInitialized()){const e=r.getImmediate()
;if(n(t,r.getOptions()))return e;throw cr.create("already-initialized")}const o=r.initialize({options:t});return o}(e)}function ce(e,t,n){e=a(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(yr,fr[e.app.options.appId],t,n).catch((e=>sr.error(e)))}function le(e,t,n){e=a(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties."+e]=n[e];return e("set",t),Promise.resolve()
}e("config",await t,{update:!0,user_properties:n})}(yr,fr[e.app.options.appId],t,n).catch((e=>sr.error(e)))}function de(e,t,n,r){e=a(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}(yr,fr[e.app.options.appId],t,n,r).catch((e=>sr.error(e)))}function ue(e){if("string"!=typeof e||!e)throw Error("expected a non-empty string, got: "+e)}function he(e){
if("number"!=typeof e)throw Error("expected a number, got: "+e)}function pe(e){return function(e,t){const n=new Set,r=[];for(const o of e){const e=t(o);n.has(e)||(n.add(e),r.push(o))}return r}(e,(e=>e.unicode))}function fe(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function me(e){const t=await new Promise(((t,n)=>{const r=indexedDB.open(e,1);Fr[e]=r,r.onupgradeneeded=e=>{e.oldVersion<1&&function(e){function t(t,n,r){
const o=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(r)for(const[e,[t,n]]of Object.entries(r))o.createIndex(e,t,{multiEntry:n});return o}t(xr),t(Ar,"unicode",{[Sr]:["tokens",!0],[jr]:[["group","order"]],[Nr]:["skinUnicodes",!0]}),t(Tr,void 0,{[Mr]:[""]})}(r.result)},fe(t,n,r)}));return t.onclose=()=>be(e),t}function ge(e,t,n,r){return new Promise(((o,a)=>{const i=e.transaction(t,n,{durability:"relaxed"}),s="string"==typeof t?i.objectStore(t):t.map((e=>i.objectStore(e)));let c
;r(s,i,(e=>{c=e})),i.oncomplete=()=>o(c),i.onerror=()=>a(i.error)}))}function be(e){const t=Fr[e],n=t&&t.result;if(n){n.close();const t=Dr[e];if(t)for(const e of t)e()}delete Fr[e],delete Br[e],delete Dr[e]}function ye(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||Hr.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/\u2019/g,"'").toLowerCase())).filter(Boolean)}function ve(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=2))}function we(e,t,n,r){
e[t](n).onsuccess=e=>r&&r(e.target.result)}function ke(e,t,n){we(e,"get",t,n)}function Ce(e,t,n){we(e,"getAll",t,n)}function Ee(e){e.commit&&e.commit()}function Ae(e,t){const n=function(e,t){let n=e[0];for(let r=1;r<e.length;r++){const o=e[r];t(n)>t(o)&&(n=o)}return n}(e,(e=>e.length)),r=[];for(const o of n)e.some((e=>-1===e.findIndex((e=>t(e)===t(o)))))||r.push(o);return r}async function xe(e,t,n,r){try{const o=function(e){
const t=e.map((({annotation:e,emoticon:t,group:n,order:r,shortcodes:o,skins:a,tags:i,emoji:s,version:c})=>{const l={annotation:e,group:n,order:r,tags:i,tokens:[...new Set(ve([...(o||[]).map(ye).flat(),...(i||[]).map(ye).flat(),...ye(e),t]))].sort(),unicode:s,version:c};if(t&&(l.emoticon=t),o&&(l.shortcodes=o),a){l.skinTones=[],l.skinUnicodes=[],l.skinVersions=[];for(const{tone:e,emoji:t,version:n}of a)l.skinTones.push(e),l.skinUnicodes.push(t),l.skinVersions.push(n)}return l}));return t}(t)
;await ge(e,[Ar,xr],Pr,(([e,t],a)=>{function i(){2===++l&&function(){if(s!==r||c!==n){e.clear();for(const t of o)e.put(t);t.put(r,Lr),t.put(n,Ir),Ee(a)}}()}let s,c,l=0;ke(t,Lr,(e=>{s=e,i()})),ke(t,Ir,(e=>{c=e,i()}))}))}finally{}}async function Te(e,t){const n=ve(ye(t));return n.length?ge(e,Ar,Or,((e,t,r)=>{const o=[],a=()=>{const e=Ae(o,(e=>e.unicode));r(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let t=0;t<n.length;t++){
const r=n[t],i=t===n.length-1?IDBKeyRange.bound(r,r+"\uffff",!1,!0):IDBKeyRange.only(r);Ce(e.index(Sr),i,(e=>{o.push(e),o.length===n.length&&a()}))}})):[]}async function Se(e,t){const n=await Te(e,t);if(!n.length){const n=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return ge(e,Ar,Or,((e,n,r)=>{let o;const a=()=>{e.getAll(o&&IDBKeyRange.lowerBound(o,!0),50).onsuccess=e=>{const n=e.target.result;for(const e of n)if(o=e.unicode,t(e))return r(e)
;if(n.length<50)return r();a()}};a()}))}(e,n)||null}return n.filter((e=>{const n=(e.shortcodes||[]).map((e=>e.toLowerCase()));return n.includes(t.toLowerCase())}))[0]||null}function Me(e,t,n){return ge(e,t,Or,((e,t,r)=>ke(e,n,r)))}function je(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||Ur.some((t=>!(t in e[0]))));if(!t||n)throw Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),r=function(e,t){
const n=new Map;for(const r of e){const e=t(r);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const r=t.charAt(n);let o=e.get(r);o||(o=new Map,e.set(r,o)),e=o}let o=e.get("");o||(o=[],e.set("",o)),o.push(r)}}return(e,t)=>{let r=n;for(let t=0;t<e.length;t++){const n=e.charAt(t),o=r.get(n);if(!o)return[];r=o}if(t)return r.get("")||[];const o=[],a=[r];for(;a.length;){const e=[...a.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,n]of e)""===t?o.push(...n):a.push(n)}return o}
}(e,(e=>{const t=new Set;if(e.shortcodes)for(const n of e.shortcodes)for(const e of ye(n))t.add(e);return t})),o=e=>r(e,!0),a=e=>r(e,!1),i=new Map,s=new Map;for(const t of e){s.set(t.name.toLowerCase(),t);for(const e of t.shortcodes||[])i.set(e.toLowerCase(),t)}return{all:n,search:e=>{const n=ye(e),r=n.map(((e,t)=>(t<n.length-1?o:a)(e)));return Ae(r,(e=>e.name)).sort(t)},byShortcode:e=>i.get(e.toLowerCase()),byName:e=>s.get(e.toLowerCase())}}function Le(e){if(!e)return e
;if(Rr&&(e=structuredClone(e)),delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function Ie(e,t){if(2!==Math.floor(e.status/100))throw Error("Failed to fetch: "+t+":  "+e.status)}async function _e(e){const t=await fetch(e);Ie(t,e);const n=t.headers.get("etag"),r=await t.json();return function(e){
if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||zr.some((t=>!(t in e[0]))))throw Error("Emoji data is in the wrong format")}(r),[n,r]}async function Oe(e){let t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=-1;++o<t;)r[o]=e.charCodeAt(o);return n}(JSON.stringify(e));const n=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=-1;++o<r;)t+=String.fromCharCode(n[o]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function Pe(e,t){
let n,r=await async function(e){const t=await fetch(e,{method:"HEAD"});Ie(t,e);const n=t.headers.get("etag");return n}(t);if(!r){const e=await _e(t);r=e[0],n=e[1],r||(r=await Oe(n))}await async function(e,t,n){const[r,o]=await Promise.all([Lr,Ir].map((t=>Me(e,xr,t))));return r===n&&o===t}(e,t,r)||(n||(n=(await _e(t))[1]),await xe(e,n,t,r))}function Ne(e){return e.unicode.includes("\u200d")}function Fe(e){const t=Jr(e,"#000"),n=Jr(e,"#fff");return t&&n&&((e,t)=>{
const n=[...e].join(","),r=[...t].join(",");return n===r&&!n.startsWith("0,0,0,")})(t,n)}function Be(e){e.preventDefault(),e.stopPropagation()}function De(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function He(e,t){const n=new Set,r=[];for(const o of e){const e=t(o);n.has(e)||(n.add(e),r.push(o))}return r}function Ue(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}function Re(e,t,n){let r=e.get(t);return r||(r=n(),
e.set(t,r)),r}function ze(e){return""+e}function We(e,t){const{targetNode:n}=t;let{targetParentNode:r}=t,o=!1;r?o=function(e,t){let n=e.firstChild,r=0;for(;n;){if(t[r]!==n)return!0;n=n.nextSibling,r++}return r!==t.length}(r,e):(o=!0,t.targetNode=void 0,t.targetParentNode=r=n.parentNode),o&&function(e,t){so?e.replaceChildren(...t):(e.innerHTML="",e.append(...t))}(r,e)}function qe(e){let t="",n=!1,r=!1,o=-1;const a=new Map,i=[];let s=0;for(let c=0,l=e.length;c<l;c++){const d=e[c];if(t+=d.slice(s),
c===l-1)break;for(let e=0;e<d.length;e++)switch(d.charAt(e)){case"<":"/"===d.charAt(e+1)?i.pop():(n=!0,i.push(++o));break;case">":n=!1,r=!1;break;case"=":r=!0}const u=Re(a,i[i.length-1],(()=>[]));let h,p,f;if(r){const n=/(\S+)="?([^"=]*)$/.exec(d);h=n[1],p=n[2];const r=/^([^">]*)("?)/.exec(e[c+1]);f=r[1],t=t.slice(0,-1*n[0].length),s=r[0].length}else s=0;const m={attributeName:h,attributeValuePre:p,attributeValuePost:f,expressionIndex:c};u.push(m),n||r||(t+=" ")}const c=function(e){
const t=document.createElement("template");return t.innerHTML=e,t}(t);return{template:c,elementsToBindings:a}}function Ve(e,t,n){for(let r=0;r<e.length;r++){const o=e[r],a={binding:o,targetNode:o.attributeName?t:t.firstChild,targetParentNode:void 0,currentExpression:void 0};n.push(a)}}function Ge(e){const{template:t,elementsToBindings:n}=Re(oo,e,(()=>qe(e))),r=t.cloneNode(!0).content.firstElementChild,o=function(e,t){const n=[];let r;if(1===t.size&&(r=t.get(0)))Ve(r,e,n);else{
const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let o=e,a=-1;do{const e=t.get(++a);e&&Ve(e,o,n)}while(o=r.nextNode())}return n}(r,n);return function(e){return function(e,t){for(const n of t){const{targetNode:t,currentExpression:r,binding:{expressionIndex:o,attributeName:a,attributeValuePre:i,attributeValuePost:s}}=n,c=e[o];if(r!==c)if(n.currentExpression=c,a)if(null===c)t.removeAttribute(a);else{const e=i+ze(c)+s;t.setAttribute(a,e)}else{let e
;Array.isArray(c)?We(c,n):c instanceof Element?(e=c,t.replaceWith(e)):t.nodeValue=ze(c),e&&(n.targetNode=e)}}}(e,o),r}}function Ke(e,t,n,r,o,a,i,s,c){function l(e,n,r){
return f(e,((e,o)=>p`<button role="${n?"option":"menuitem"}" aria-selected="${n?o===t.activeSearchItem:null}" aria-label="${d(e,t.currentSkinTone)}" title="${u(e)}" class="${"emoji"+(n&&o===t.activeSearchItem?" active":"")+(e.unicode?"":" custom-emoji")}" id="${`${r}-${e.id}`}" style="${e.unicode?null:`--custom-emoji-background: url(${JSON.stringify(e.url)})`}">${e.unicode?h(e,t.currentSkinTone):""}</button>`),(e=>`${r}-${e.id}`))}
const{labelWithSkin:d,titleForEmoji:u,unicodeWithSkin:h}=n,{html:p,map:f}=function(e){const t=Re(ao,e,(()=>new Map));let n=io;return{map:function(e,t,r){return e.map(((e,o)=>{const a=n;n=r(e);try{return t(e,o)}finally{n=a}}))},html:function(e,...r){const o=Re(t,e,(()=>new Map));return Re(o,n,(()=>Ge(e)))(r)}}
}(t),m=p`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!(!t.searchMode||!t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?"emo-"+t.activeSearchItemId:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${f(t.skinTones,((e,n)=>p`<div id="skintone-${n}" class="emoji ${n===t.activeSkinTone?"active":""}" aria-selected="${n===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[n]}" aria-label="${t.i18n.skinTones[n]}">${e}</div>`),(e=>e))}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${f(t.groups,(e=>p`<button role="tab" class="nav-button" aria-controls="tab-${e.id}" aria-label="${t.i18n.categories[e.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===e.id}" title="${t.i18n.categories[e.name]}" data-group-id="${e.id}"><div class="nav-emoji emoji">${e.emoji}</div></button>`),(e=>e.id))}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?null:"tab-"+t.currentGroup.id}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${f(t.currentEmojisWithCategories,((e,n)=>p`<div><div id="menu-label-${n}" class="category ${1===t.currentEmojisWithCategories.length&&""===t.currentEmojisWithCategories[0].category?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:e.category?e.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${0===n||t.searchMode||-1!==t.currentGroup.id?"":"visibility-auto"}" style="${"--num-rows: "+Math.ceil(e.emojis.length/t.numColumns)}" data-action="updateOnIntersection" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${n}" id="${t.searchMode?"search-results":null}">${l(e.emojis,t.searchMode,"emo")}</div></div>`),(e=>e.category))}</div></div><div class="favorites onscreen emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${l(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">ðŸ˜€</button></section>`,g=(t,n)=>{
for(const r of e.querySelectorAll(`[${t}]`))n(r,r.getAttribute(t))};if(c){e.appendChild(m);for(const e of["click","focusout","input","keydown","keyup"])g("data-on-"+e,((t,n)=>{t.addEventListener(e,r[n])}));g("data-ref",((e,t)=>{a[t]=e})),i.addEventListener("abort",(()=>{e.removeChild(m)}))}g("data-action",((e,t)=>{let n=s.get(t);n||s.set(t,n=new WeakSet),n.has(e)||(n.add(e),o[t](e))}))}function Ye(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1
;return!0}function $e(e,t){function n(){const{customEmoji:e,database:t}=h,n=e||uo;t.customEmoji!==n&&(t.customEmoji=n)}function r(e){const t=function(e,t,n){let r=!0;for(const o of e){const e=n(o);if(!e)continue;const a=Ue(e);void 0===no&&(no=Ue(t));const i=a/1.8<no;eo.set(o.unicode,i),i||(r=!1)}return r}(e,l.baselineEmoji,g);t?S():h.currentEmojis=[...h.currentEmojis]}function o(e){return!e.unicode||!Ne(e)||eo.get(e.unicode)}async function a(e){const t=h.emojiVersion||await Qr()
;return e.filter((({version:e})=>!e||e<=t))}async function i(e){return function(e,t){const n=e=>{const n={};for(const r of e)"number"==typeof r.tone&&r.version<=t&&(n[r.tone]=r.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:r,url:o,name:a,category:i,annotation:s})=>({unicode:e,name:a,shortcodes:r,url:o,category:i,annotation:s,id:e||a,skins:t&&n(t)})))}(e,h.emojiVersion||await Qr())}async function s(e){
const t=await h.database.getEmojiByUnicodeOrName(e),n=[...h.currentEmojis,...h.currentFavorites].find((t=>t.id===e)),r=n.unicode&&C(n,h.currentSkinTone);await h.database.incrementFavoriteEmojiCount(e),b("emoji-click",{emoji:t,skinTone:h.currentSkinTone,...r&&{unicode:r},...n.name&&{name:n.name}})}function c(e){h.currentSkinTone=e,h.skinTonePickerExpanded=!1,m("skintone-button"),b("skin-tone-change",{skinTone:e}),h.database.setPreferredSkinTone(e)}
const l={},d=new AbortController,u=d.signal,{state:h,createEffect:p}=function(e){let t,n=!1;const r=new Map,o=new Set;let a;const i=()=>{if(n)return;const e=[...o];o.clear();try{for(const t of e)t()}finally{a=!1,o.size&&(a=!0,co(i))}},s=new Proxy({},{get(e,n){if(t){let e=r.get(n);e||(e=new Set,r.set(n,e)),e.add(t)}return e[n]},set(e,t,n){if(e[t]!==n){e[t]=n;const s=r.get(t);if(s){for(const e of s)o.add(e);a||(a=!0,co(i))}}return!0}});return e.addEventListener("abort",(()=>{n=!0})),{state:s,
createEffect:e=>{const n=()=>{const r=t;t=n;try{return e()}finally{t=r}};return n()}}}(u),f=new Map;ho(h,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),ho(h,t),ho(h,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,
skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,currentGroupIndex:0,groups:Vr,databaseLoaded:!1,activeSearchItemId:void 0}),p((()=>{h.currentGroup!==h.groups[h.currentGroupIndex]&&(h.currentGroup=h.groups[h.currentGroupIndex])}));const m=t=>{e.getElementById(t).focus()},g=t=>e.getElementById("emo-"+t.id),b=(e,t)=>{l.rootElement.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0
}))},y=(e,t)=>e.id===t.id,v=(e,t)=>{const{category:n,emojis:r}=e,{category:o,emojis:a}=t;return n===o&&Ye(r,a,y)},w=e=>{Ye(h.currentEmojis,e,y)||(h.currentEmojis=e)},k=e=>{h.searchMode!==e&&(h.searchMode=e)},C=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,E={labelWithSkin:(e,t)=>{return(n=[e.name||C(e,t),e.annotation,...e.shortcodes||uo].filter(Boolean),He(n,(e=>e))).join(", ");var n},titleForEmoji:e=>e.annotation||(e.shortcodes||uo).join(", "),unicodeWithSkin:C},A={onClickSkinToneButton:function(e){
h.skinTonePickerExpanded=!h.skinTonePickerExpanded,h.activeSkinTone=h.currentSkinTone,h.skinTonePickerExpanded&&(Be(e),to((()=>m("skintone-list"))))},onEmojiClick:async function(e){const{target:t}=e;t.classList.contains("emoji")&&(Be(e),s(t.id.substring(4)))},onNavClick:function(e){const{target:t}=e,n=t.closest(".nav-button");if(!n)return;const r=parseInt(n.dataset.groupId,10);l.searchElement.value="",h.rawSearchText="",h.searchText="",h.activeSearchItem=-1,
h.currentGroupIndex=h.groups.findIndex((e=>e.id===r))},onNavKeydown:function(e){const{target:t,key:n}=e,r=t=>{t&&(Be(e),t.focus())};switch(n){case"ArrowLeft":return r(t.previousElementSibling);case"ArrowRight":return r(t.nextElementSibling);case"Home":return r(t.parentElement.firstElementChild);case"End":return r(t.parentElement.lastElementChild)}},onSearchKeydown:function(e){if(!h.searchMode||!h.currentEmojis.length)return;const t=t=>{Be(e),
h.activeSearchItem=De(t,h.activeSearchItem,h.currentEmojis)};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==h.activeSearchItem)return Be(e),s(h.currentEmojis[h.activeSearchItem].id);h.activeSearchItem=0}},onSkinToneOptionsClick:function(e){const{target:{id:t}}=e,n=t&&t.match(/^skintone-(\d)/);n&&(Be(e),c(parseInt(n[1],10)))},onSkinToneOptionsFocusOut:async function(e){const{relatedTarget:t}=e;t&&"skintone-list"===t.id||(h.skinTonePickerExpanded=!1)},
onSkinToneOptionsKeydown:function(e){if(!h.skinTonePickerExpanded)return;const t=async t=>{Be(e),h.activeSkinTone=t};switch(e.key){case"ArrowUp":return t(De(!0,h.activeSkinTone,h.skinTones));case"ArrowDown":return t(De(!1,h.activeSkinTone,h.skinTones));case"Home":return t(0);case"End":return t(h.skinTones.length-1);case"Enter":return Be(e),c(h.activeSkinTone);case"Escape":return Be(e),h.skinTonePickerExpanded=!1,m("skintone-button")}},onSkinToneOptionsKeyup:function(e){
if(h.skinTonePickerExpanded)return" "===e.key?(Be(e),c(h.activeSkinTone)):void 0},onSearchInput:function(e){h.rawSearchText=e.target.value}},x={calculateEmojiGridStyle:function(e){!function(e,t,n){let r;ro?(r=new ResizeObserver(n),r.observe(e)):to(n),t.addEventListener("abort",(()=>{r&&r.disconnect()}))}(e,u,(()=>{{const e=getComputedStyle(l.rootElement),t=parseInt(e.getPropertyValue("--num-columns"),10),n="rtl"===e.getPropertyValue("direction");h.numColumns=t,h.isRtl=n}}))},
updateOnIntersection:function(e){!function(e,t,n){{const r=e.closest(".tabpanel");let o=lo.get(r);o||(o=new IntersectionObserver(n,{root:r,rootMargin:"50% 0px 50% 0px",threshold:0}),lo.set(r,o),t.addEventListener("abort",(()=>{o.disconnect()}))),o.observe(e)}}(e,u,(e=>{for(const{target:t,isIntersecting:n}of e)t.classList.toggle("onscreen",n)}))}};let T=!0;p((()=>{Ke(e,h,E,A,x,l,u,f,T),T=!1})),h.emojiVersion||Qr().then((e=>{e||(h.message=h.i18n.emojiUnsupportedMessage)})),p((()=>{
h.database&&async function(){let e=!1;const t=setTimeout((()=>{e=!0,h.message=h.i18n.loadingMessage}),1e3);try{await h.database.ready(),h.databaseLoaded=!0}catch(e){h.message=h.i18n.networkErrorMessage}finally{clearTimeout(t),e&&(e=!1,h.message="")}}()})),p((()=>{h.pickerStyle=`\n      --num-groups: ${h.groups.length}; \n      --indicator-opacity: ${h.searchMode?0:1}; \n      --num-skintones: 6;`})),p((()=>{h.customEmoji&&h.database&&n()})),p((()=>{
h.customEmoji&&h.customEmoji.length?h.groups!==qr&&(h.groups=qr):h.groups!==Vr&&(h.currentGroupIndex&&h.currentGroupIndex--,h.groups=Vr)})),p((()=>{!async function(){h.databaseLoaded&&(h.currentSkinTone=await h.database.getPreferredSkinTone())}()})),p((()=>{h.skinTones=[,,,,,,].fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf("\u200d");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("\ufe0f")&&(e=e.substring(0,e.length-1)),
e+"\ud83c"+String.fromCodePoint(57339+t-1))}(h.skinToneEmoji,t)))})),p((()=>{h.skinToneButtonText=h.skinTones[h.currentSkinTone]})),p((()=>{h.skinToneButtonLabel=h.i18n.skinToneLabel.replace("{skinTone}",h.i18n.skinTones[h.currentSkinTone])})),p((()=>{h.databaseLoaded&&async function(){const{database:e}=h,t=(await Promise.all(Yr.map((t=>e.getEmojiByUnicodeOrName(t))))).filter(Boolean);h.defaultFavoriteEmojis=t}()})),p((()=>{h.databaseLoaded&&h.defaultFavoriteEmojis&&async function(){n()
;const{database:e,defaultFavoriteEmojis:t,numColumns:r}=h,o=await e.getTopFavoriteEmoji(r),a=await i(He([...o,...t],(e=>e.unicode||e.name)).slice(0,r));h.currentFavorites=a}()})),p((()=>{!async function(){const{searchText:e,currentGroup:t,databaseLoaded:n,customEmoji:r}=h;if(n)if(e.length>=2){const t=await async function(e){return i(await a(await h.database.getEmojiBySearchQuery(e)))}(e);h.searchText===e&&(w(t),k(!0))}else{const{id:e}=t;if(-1!==e||r&&r.length){const t=await async function(e){
const t=-1===e?h.customEmoji:await h.database.getEmojiByGroup(e);return i(await a(t))}(e);h.currentGroup.id===e&&(w(t),k(!1))}}else h.currentEmojis=[],h.searchMode=!1}()}));const S=()=>{to((()=>{var e;(e=l.tabpanelElement)&&(e.scrollTop=0)}))};return p((()=>{const{currentEmojis:e,emojiVersion:t}=h,n=e.filter((e=>e.unicode)).filter((e=>Ne(e)&&!eo.has(e.unicode)));if(!t&&n.length)w(e),to((()=>r(n)));else{const n=t?e:e.filter(o);w(n),S()}})),p((()=>{})),p((()=>{const e=function(){
const{searchMode:e,currentEmojis:t}=h;if(e)return[{category:"",emojis:t}];const n=new Map;for(const e of t){const t=e.category||"";let r=n.get(t);r||(r=[],n.set(t,r)),r.push(e)}return[...n.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>h.customCategorySorting(e.category,t.category)))}();(e=>{Ye(h.currentEmojisWithCategories,e,v)||(h.currentEmojisWithCategories=e)})(e)})),p((()=>{h.activeSearchItemId=-1!==h.activeSearchItem&&h.currentEmojis[h.activeSearchItem].id})),p((()=>{
const{rawSearchText:e}=h;Gr((()=>{h.searchText=(e||"").trim(),h.activeSearchItem=-1}))})),p((()=>{h.skinTonePickerExpanded?l.skinToneDropdown.addEventListener("transitionend",(()=>{h.skinTonePickerExpandedAfterAnimation=!0}),{once:!0}):h.skinTonePickerExpandedAfterAnimation=!1})),{$set(e){ho(h,e)},$destroy(){d.abort()}}}function Xe(e){if(null==e){const e=Array(16);return e[15]=1,e}if("number"==typeof e){let t=e;const n=Array(16);for(let e=15;e>=0;--e)n[e]=t%256,t=Math.floor(t/256);return n}{
const t=Array.from(e);if(16!==t.length)throw Error("Counter state must have a length of 16.");return t}}function Je(e){for(let t=15;t>=0;t--){if(e[t]<255){e[t]++;break}e[t]=0}}function Ze(e){try{return new DataView(e,0,0),!0}catch(e){return!1}}function Qe(e,t){if(null==e||"object"!=typeof e)throw Error("Invalid buffer data");if(Array.isArray(e)||(e=Array.from(e)),"number"!=typeof t||t<0){t=0;for(const{byteLength:n}of e)t+=n}const n=new Uint8Array(t);let r=0;for(const t of e){const e=t.byteLength
;n.set("length"in t?t:new Uint8Array("buffer"in t?t.buffer:t,t.byteOffset||0,e),r),r+=e}return n}function et(){return Math.floor(4294967296*Math.random())}function tt(){return[et(),et(),et(),et()]}function nt(e){const t=Math.floor(e.length/4),n=Array(t);for(let r=0,o=0;r<t;r++)n[r]=(255&e[o++])<<24|(255&e[o++])<<16|(255&e[o++])<<8|255&e[o++];return n}function rt(e,t,n){switch(typeof t){case"undefined":e.push(0),n++;break;case"boolean":e.push(t?1:2),n++;break;case"string":{
const r=So.encode(t),o=r.byteLength;e.push(101,255&o,o>>8&255,o>>16&255,o>>24&255,r),n+=o+5}break;case"number":{if(Number.isSafeInteger(t))if(t>=0){if(t<256)return e.push(10,t),n+2;if(t<65536)return e.push(11,255&t,t>>8&255),n+3;if(t<4294967296)return e.push(12,255&t,t>>8&255,t>>16&255,t>>24&255),n+5}else{if(t>=-128&&t<128)return e.push(20,t),n+2;if(t>=-32768&&t<32768)return e.push(21,255&t,t>>8&255),n+3;if(t>=-2147483648&&t<2147483648)return e.push(22,255&t,t>>8&255,t>>16&255,t>>24&255),n+5}
e.push(33);const r=new ArrayBuffer(8);new DataView(r,0,8).setFloat64(0,t,!0),e.push(new Uint8Array(r,0,8)),n+=9}break;case"bigint":e.push(t>=0n?13:23,Number(0xffn&t),Number(t>>8n&0xffn),Number(t>>16n&0xffn),Number(t>>24n&0xffn),Number(t>>32n&0xffn),Number(t>>40n&0xffn),Number(t>>48n&0xffn),Number(t>>56n&0xffn)),n+=9;break;case"object":if(null===t)e.push(255),n++;else if(Array.isArray(t)){const r=t.length;e.push(99,255&r,r>>8&255,r>>16&255,r>>24&255),n+=5;for(const r of t)n=rt(e,r,n)
}else if(ArrayBuffer.isView(t)){const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o=r.byteLength;e.push(102,255&o,o>>8&255,o>>16&255,o>>24&255,r),n+=o+5}else if(Ze(t)){const r=new Uint8Array(t),o=r.byteLength;e.push(102,255&o,o>>8&255,o>>16&255,o>>24&255,r),n+=o+5}else{const r=Object.keys(t),o=r.length;e.push(100,255&o,o>>8&255,o>>16&255,o>>24&255),n+=5;for(const o of r){const r=t[o];switch(typeof r){case"bigint":case"number":case"object":case"string":case"boolean":case"undefined":break
;default:continue}const a=So.encode(o),i=a.byteLength;e.push(255&i,i>>8&255,i>>16&255,i>>24&255,a),n=rt(e,r,n+=i+4)}}}return n}function ot(e,t){return e>>>t|e<<32-t}function at(e,t){return e>>>t}function it(e,t){return vi(e,t||{},0,0)}function st(e,t){return si(e,{i:2},t&&t.out,t&&t.dictionary)}function ct(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function lt(){return new TransformStream({transform(e,t){
!function(e,t){ys&&e.data instanceof Blob?e.data.arrayBuffer().then(ct).then(t):vs&&(e.data instanceof ArrayBuffer||ws(e.data))?t(ct(e.data)):ks(e,!1,(e=>{Es||(Es=new TextEncoder),t(Es.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))
}e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}function dt(e){return e.reduce(((e,t)=>e+t.length),0)}function ut(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function ht(e){if(e)return function(e){for(var t in ht.prototype)e[t]=ht.prototype[t];return e}(e)}function pt(e,...t){
return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}function ft(e,t){t.useNativeTimers?(e.setTimeoutFn=Os.bind(_s),e.clearTimeoutFn=Ps.bind(_s)):(e.setTimeoutFn=_s.setTimeout.bind(_s),e.clearTimeoutFn=_s.clearTimeout.bind(_s))}function mt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gt(){}function bt(){for(let e in Rs.requests)Rs.requests.hasOwnProperty(e)&&Rs.requests[e].abort()}function yt(e){const t=e.xdomain;try{
if("undefined"!=typeof XMLHttpRequest&&(!t||Hs))return new XMLHttpRequest}catch(e){}if(!t)try{return new(_s[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function vt(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=Ks.exec(e||""),a={},i=14;for(;i--;)a[Ys[i]]=o[i]||"";return-1!=n&&-1!=r&&(a.source=t,
a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}var wt={};wt.g=function(){
if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}();const kt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,
t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter")
;this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],a=t+1<e.length,i=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=o>>2,d=(3&o)<<4|i>>4;let u=(15&i)<<2|c>>6,h=63&c;s||(h=64,a||(u=64)),r.push(n[l],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){
const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&a)}else if(o>239&&o<365){const a=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_()
;const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==a||null==i||null==s)throw new Et;const c=o<<2|a>>4;if(r.push(c),64!==i){const e=a<<4&240|i>>2;if(r.push(e),64!==s){const e=i<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},
this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}}
;class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const At=function(e){return function(e){const t=kt(e);return Ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xt=function(e){try{return Ct.decodeString(e,!0)}catch(e){}return null},Tt=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==wt.g)return wt.g;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,St=()=>{try{
return Tt()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&xt(e[1]);return t&&JSON.parse(t)})()}catch(e){return}},Mt=()=>{var e;return null===(e=St())||void 0===e?void 0:e.config};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},
this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}class Lt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(e,t,n){this.service=e,this.serviceName=t,
this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?function(e,t){return e.replace(_t,((e,n)=>{const r=t[n];return null!=r?r+"":`<${n}?>`}))}(o,n):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new Lt(r,i,n)}}const _t=/\{\$([^}]+)}/g;class Ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){
return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pt="[DEFAULT]";class Nt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e)
;if(!this.instancesDeferred.has(t)){const e=new jt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null
;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{
this.getOrInitializeService({instanceIdentifier:Pt})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values())
;await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`)
;if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{
o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Pt?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{
this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`)
;t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bt=[];var Dt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dt||(Dt={}))
;const Ht={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Ut=Dt.INFO,Rt={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},zt=(e,t)=>{if(!(t<e.logLevel||((new Date).toISOString(),Rt[t])))throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wt{constructor(e){this.name=e,this._logLevel=Ut,this._logHandler=zt,this._userLogHandler=null,Bt.push(this)}get logLevel(){
return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){
this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){
this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}let qt,Vt;const Gt=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,$t=new WeakMap,Xt=new WeakMap;let Jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return c(e[t])},set:(e,t,n)=>(e[t]=n,!0),
has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};const Zt=e=>Xt.get(e),Qt=["get","getKey","getAll","getAllKeys","count"],en=["put","add","delete","clear"],tn=new Map;var nn;nn=Jt,Jt={...nn,get:(e,t,n)=>d(e,t)||nn.get(e,t,n),has:(e,t)=>!!d(e,t)||nn.has(e,t)};class rn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){
const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}
const on="@firebase/app",an="0.12.3",sn=new Wt("@firebase/app"),cn="@firebase/app-compat",ln="@firebase/analytics-compat",dn="@firebase/analytics",un="@firebase/app-check-compat",hn="@firebase/app-check",pn="@firebase/auth",fn="@firebase/auth-compat",mn="@firebase/database",gn="@firebase/data-connect",bn="@firebase/database-compat",yn="@firebase/functions",vn="@firebase/functions-compat",wn="@firebase/installations",kn="@firebase/installations-compat",Cn="@firebase/messaging",En="@firebase/messaging-compat",An="@firebase/performance",xn="@firebase/performance-compat",Tn="@firebase/remote-config",Sn="@firebase/remote-config-compat",Mn="@firebase/storage",jn="@firebase/storage-compat",Ln="@firebase/firestore",In="@firebase/vertexai",_n="@firebase/firestore-compat",On="firebase",Pn="[DEFAULT]",Nn={
[on]:"fire-core",[cn]:"fire-core-compat",[dn]:"fire-analytics",[ln]:"fire-analytics-compat",[hn]:"fire-app-check",[un]:"fire-app-check-compat",[pn]:"fire-auth",[fn]:"fire-auth-compat",[mn]:"fire-rtdb",[gn]:"fire-data-connect",[bn]:"fire-rtdb-compat",[yn]:"fire-fn",[vn]:"fire-fn-compat",[wn]:"fire-iid",[kn]:"fire-iid-compat",[Cn]:"fire-fcm",[En]:"fire-fcm-compat",[An]:"fire-perf",[xn]:"fire-perf-compat",[Tn]:"fire-rc",[Sn]:"fire-rc-compat",[Mn]:"fire-gcs",[jn]:"fire-gcs-compat",[Ln]:"fire-fst",
[_n]:"fire-fst-compat",[In]:"fire-vertex","fire-js":"fire-js",[On]:"fire-js-all"},Fn=new Map,Bn=new Map,Dn=new Map,Hn=new It("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted",
"no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
"idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Un{constructor(e,t,n){this._isDeleted=!1,
this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ot("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}
get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Rn="firebase-heartbeat-store";let zn=null;class Wn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate()
;this._storage=new qn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return
;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){
sn.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=v(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),w(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]
}),w(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=At(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sn.warn(e),""}}}class qn{constructor(e){this.app=e,
this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!e()&&t().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await g()).transaction(Rn),n=await t.objectStore(Rn).get(y(e));return await t.done,n}catch(e){if(e instanceof Lt)sn.warn(e.message);else{const t=Hn.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});sn.warn(t.message)}}}(this.app)
;return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return b(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return b(this.app,{
lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}var Vn;Vn="",h(new Ot("platform-logger",(e=>new rn(e)),"PRIVATE")),h(new Ot("heartbeat",(e=>new Wn(e)),"PRIVATE")),m(on,an,Vn),m(on,an,"esm2017"),m("fire-js","");const Gn="@firebase/installations",Kn="0.6.16",Yn=1e4,$n="w:"+Kn,Xn="FIS_v2",Jn=new It("installations","Installations",{
"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."
}),Zn=/^[cdef][\w-]{21}$/,Qn=new Map;let er=null;const tr="firebase-installations-store";let nr=null;const rr="installations",or=e=>{const t=p(e.getProvider("app").getImmediate(),rr).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await H(t);return r?r.catch(console.error):q(t).catch(console.error),n.fid}(t),getToken:e=>K(t,e)}};h(new Ot(rr,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){
if(!e||!e.options)throw Y("App Configuration");if(!e.name)throw Y("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Y(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:p(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),h(new Ot("installations-internal",or,"PRIVATE")),m(Gn,Kn),m(Gn,Kn,"esm2017")
;const ar="analytics",ir="https://www.googletagmanager.com/gtag/js",sr=new Wt("@firebase/analytics"),cr=new It("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",
"already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",
"interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",
"indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",
"no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."}),lr=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}
getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};class dr{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let ur,hr;class pr{constructor(e){this.app=e}_delete(){return delete fr[this.app.options.appId],Promise.resolve()}}let fr={},mr=[];const gr={};let br,yr,vr="dataLayer",wr="gtag",kr=!1
;const Cr="@firebase/analytics",Er="0.10.15";h(new Ot(ar,((e,{options:t})=>ie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),h(new Ot("analytics-internal",(function(e){try{const t=e.getProvider(ar).getImmediate();return{logEvent:(e,n,r)=>de(t,e,n,r)}}catch(e){throw cr.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),m(Cr,Er),m(Cr,Er,"esm2017"),m("firebase","11.7.3","app")
;const Ar="emoji",xr="keyvalue",Tr="favorites",Sr="tokens",Mr="count",jr="group-order",Lr="eTag",Ir="url",_r="skinTone",Or="readonly",Pr="readwrite",Nr="skinUnicodes",Fr={},Br={},Dr={},Hr=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]),Ur=["name","url"],Rr="undefined"!=typeof wrappedJSObject,zr=["annotation","emoji","group","order","version"];class Wr{
constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName="emoji-picker-element-"+this.locale,this._db=void 0,this._lazyUpdate=void 0,this._custom=je(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,Br[t]||(Br[t]=me(t)),Br[t]);var t;!function(e,t){let n=Dr[e];n||(n=Dr[e]=[]),n.push(t)
}(this._dbName,this._clear);const n=this.dataSource,r=await async function(e){return!await Me(e,xr,Ir)}(e);r?await async function(e,t){let[n,r]=await _e(t);n||(n=await Oe(r)),await xe(e,r,t,n)}(e,n):this._lazyUpdate=async function(e,t){try{await Pe(e,t)}catch(e){if("InvalidStateError"!==e.name)throw e}}(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return he(e),await this.ready(),
pe(await async function(e,t){return ge(e,Ar,Or,((e,n,r)=>{const o=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);Ce(e.index(jr),o,r)}))}(this._db,e)).map(Le)}async getEmojiBySearchQuery(e){return ue(e),await this.ready(),[...this._custom.search(e),...pe(await Te(this._db,e)).map(Le)]}async getEmojiByShortcode(e){ue(e),await this.ready();const t=this._custom.byShortcode(e);return t||Le(await Se(this._db,e))}async getEmojiByUnicodeOrName(e){ue(e),await this.ready();const t=this._custom.byName(e)
;return t||Le(await async function(e,t){return ge(e,Ar,Or,((e,n,r)=>ke(e,t,(n=>{if(n)return r(n);ke(e.index(Nr),t,(e=>r(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await Me(this._db,xr,_r)||0}async setPreferredSkinTone(e){return he(e),await this.ready(),function(e,t,n,r){return ge(e,t,Pr,((e,t)=>{e.put(r,n),Ee(t)}))}(this._db,xr,_r,e)}async incrementFavoriteEmojiCount(e){return ue(e),await this.ready(),t=this._db,n=e,ge(t,Tr,Pr,((e,t)=>ke(e,n,(r=>{
e.put((r||0)+1,n),Ee(t)}))));var t,n}async getTopFavoriteEmoji(e){return he(e),await this.ready(),(await function(e,t,n){return 0===n?[]:ge(e,[Tr,Ar],Or,(([e,r],o,a)=>{const i=[];e.index(Mr).openCursor(void 0,"prev").onsuccess=e=>{function o(e){if(i.push(e),i.length===n)return a(i);s.continue()}const s=e.target.result;if(!s)return a(i);const c=s.primaryKey,l=t.byName(c);if(l)return o(l);ke(r,c,(e=>{if(e)return o(e);s.continue()}))}}))}(this._db,this._custom,e)).map(Le)}set customEmoji(e){
this._custom=je(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await be(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,n)=>{be(e),fe(t,n,indexedDB.deleteDatabase(e))})))}}
const qr=[[-1,"\u2728","custom"],[0,"\u{1f600}","smileys-emotion"],[1,"\u{1f44b}","people-body"],[3,"\u{1f431}","animals-nature"],[4,"\u{1f34e}","food-drink"],[5,"\u{1f3e0}\ufe0f","travel-places"],[6,"\u26bd","activities"],[7,"\u{1f4dd}","objects"],[8,"\u26d4\ufe0f","symbols"],[9,"\u{1f3c1}","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),Vr=qr.slice(1),Gr="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout,Kr={"\u{1fae9}":16,"\u{1fae8}":15.1,"\u{1fae0}":14,
"\u{1f972}":13.1,"\u{1f97b}":12.1,"\u{1f970}":11,"\u{1f929}":5,"\u{1f471}\u200d\u2640\ufe0f":4,"\u{1f923}":3,"\u{1f441}\ufe0f\u200d\u{1f5e8}\ufe0f":2,"\u{1f600}":1,"\u{1f610}\ufe0f":.7,"\u{1f603}":.6
},Yr=["\u{1f60a}","\u{1f612}","\u2764\ufe0f","\u{1f44d}\ufe0f","\u{1f60d}","\u{1f602}","\u{1f62d}","\u263a\ufe0f","\u{1f614}","\u{1f629}","\u{1f60f}","\u{1f495}","\u{1f64c}","\u{1f618}"],$r='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Xr=(e,t)=>e<t?-1:e>t?1:0,Jr=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const r=n.getContext("2d",{willReadFrequently:!0})
;return r.textBaseline="top",r.font="100px "+$r,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data};let Zr;const Qr=()=>(Zr||(Zr=new Promise((e=>Gr((()=>e(function(){const e=Object.entries(Kr);try{for(const[t,n]of e)if(Fe(t))return n}catch(e){}return e[0][1]}())))))),Zr),eo=new Map,to=requestAnimationFrame;let no,ro="function"==typeof ResizeObserver
;const oo=new WeakMap,ao=new WeakMap,io=Symbol("un-keyed"),so="replaceChildren"in Element.prototype,co="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e),lo=new WeakMap,uo=[],{assign:ho}=Object;var po={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",
searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons",
"people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const fo=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],mo=`:host{--emoji-font-family:${$r}}`;class go extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style")
;t.textContent=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}'+mo,
this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"\u{1f590}\ufe0f",customCategorySorting:Xr,customEmoji:null,i18n:po,emojiVersion:null,...e};for(const e of fo)"database"!==e&&Object.prototype.hasOwnProperty.call(this,e)&&(this._ctx[e]=this[e],delete this[e]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=$e(this.shadowRoot,this._ctx))}disconnectedCallback(){co((()=>{
if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch((()=>{}))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),"emoji-version"===e?parseFloat(n):n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){
const{locale:e,dataSource:t,database:n}=this._ctx;n&&n.locale===e&&n.dataSource===t||this._set("database",new Wr({locale:e,dataSource:t}))}_dbFlush(){co((()=>this._dbCreate()))}}const bo={};for(const e of fo)bo[e]={get(){return"database"===e&&this._dbCreate(),this._ctx[e]},set(t){if("database"===e)throw Error("database is read-only");this._set(e,t)}};Object.defineProperties(go.prototype,bo),customElements.get("emoji-picker")||customElements.define("emoji-picker",go);const yo=()=>{
throw Error("Function not implemented!")},vo=new Uint8Array(new ArrayBuffer(0),0,0),wo=Object.setPrototypeOf((function(){const e=new.target;return Reflect.construct(Uint8Array,arguments,null==e||e===wo?Uint8Array:e)}),null),ko=Object.freeze(Object.create(null,{[Symbol.toStringTag]:{value:"Buffer",writable:!1,enumerable:!1,configurable:!1}}));Object.defineProperty(wo,"from",{value:function(e,t){if(null==e||"object"!=typeof e)throw Error("INvalid buffer source");if(Ze(e)){const n=new Uint8Array(e)
;if(null!=t)for(let e=0;e<n.byteLength;e++)n[e]=t(n[e],e);return n}if(ArrayBuffer.isView(e)){const n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(null!=t)for(let e=0;e<n.byteLength;e++)n[e]=t(n[e],e);return n}return Uint8Array.from(e,t||void 0)},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(wo,"concat",{value:Qe,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(wo,"prototype",{value:ko,writable:!1,enumerable:!1,configurable:!1}),
Object.defineProperty(wo,"emptyBuffer",{value:vo,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(wo,"isArrayBuffer",{value:Ze,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(wo,Symbol.hasInstance,{value:e=>{if(ArrayBuffer.isView(e)){const t=e[Symbol.toStringTag];return"Uint8Array"===t||"Buffer"===t}return!1},writable:!1,enumerable:!1,configurable:!1});const Co=Object.freeze(wo),Eo=Object.setPrototypeOf((function(){
if("function"!=typeof new.target)return Object.create(Ao);for(let e=Object.getPrototypeOf(this);null!=e;e=Object.getPrototypeOf(e))try{delete e.constructor}catch(e){}}),null),Ao=Object.freeze(Object.create(null));Object.defineProperty(Eo,"prototype",{value:Ao,writable:!1,enumerable:!1,configurable:!1});const xo=Object.freeze(Eo),To={name:"ascii",encode:e=>Uint8Array.from(e,(e=>e.charCodeAt(0))),decode:e=>Array.from(e,(e=>String.fromCharCode(e))).join("")},So={name:"utf-8",encode:e=>{const t=[]
;for(const n of e){const e=n.codePointAt(0)||0;e<128?t.push(e):e<2048?t.push(e>>6|192,63&e|128):e<65536?t.push(e>>12|224,e>>6&63|128,63&e|128):t.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return Uint8Array.from(t)},decode:e=>{const t=e.length;let n="";for(let r=0;r<t;){const t=e[r++];if(128&t)if(192==(224&t))n+=String.fromCharCode((31&t)<<6|63&e[r++]);else if(224==(240&t))n+=String.fromCharCode((15&t)<<12|(63&e[r++])<<6|63&e[r++]);else if(240==(248&t)){
const o=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n+=o>1114111?"\ufffd":String.fromCodePoint(o)}else n+="\ufffd";else n+=String.fromCharCode(t)}return n}},Mo={name:"utf-16",encode:e=>{const t=e.length,n=new Uint8Array(2*t+2);n[0]=254,n[1]=255;for(let r=2,o=0;o<t;o++){const t=e.charCodeAt(o);n[r++]=t>>8&255,n[r++]=255&t}return n},decode:e=>{if(e.length>2)switch(255&e[0]|(255&e[1])<<8){case 65279:return Lo.decode(e.subarray(2));case 65534:return jo.decode(e.subarray(2))}
return jo.decode(e)}},jo={name:"utf-16be",encode:e=>{const t=e.length,n=new Uint8Array(2*t);for(let r=0,o=0;o<t;o++){const t=e.charCodeAt(o);n[r++]=t>>8&255,n[r++]=255&t}return n},decode:e=>{const t=Math.floor(e.length/2),n=Array(t);for(let r=0,o=0;o<t;o++)n[o]=String.fromCharCode((255&e[r++])<<8|255&e[r++]);return n.join("")}},Lo={name:"utf-16le",encode:e=>{const t=e.length,n=new Uint8Array(2*t);for(let r=0,o=0;o<t;o++){const t=e.charCodeAt(o);n[r++]=255&t,n[r++]=t>>8&255}return n},decode:e=>{
const t=Math.floor(e.length/2),n=Array(t);for(let r=0,o=0;o<t;o++)n[o]=String.fromCharCode(255&e[r++]|(255&e[r++])<<8);return n.join("")}},Io={name:"utf-32be",encode:e=>{const t=Array.from(e),n=t.length,r=new Uint8Array(4*n);for(let e=0,o=0;o<n;o++){const n=t[o].codePointAt(0)||0;r[e++]=n>>24&255,r[e++]=n>>16&255,r[e++]=n>>8&255,r[e++]=255&n}return r},decode:e=>{const t=Math.floor(e.length/4),n=Array(t);for(let r=0,o=0;o<t;o++){
const t=((255&e[r++])<<24|(255&e[r++])<<16|(255&e[r++])<<8|255&e[r++])>>>0;n[o]=t>1114111?"\ufffd":String.fromCodePoint(t)}return n.join("")}},_o={name:"utf32-le",encode:e=>{const t=Array.from(e),n=t.length,r=new Uint8Array(4*n);for(let e=0,o=0;o<n;o++){const n=t[o].codePointAt(0)||0;r[e++]=255&n,r[e++]=n>>8&255,r[e++]=n>>16&255,r[e++]=n>>24&255}return r},decode:e=>{const t=Math.floor(e.length/4),n=Array(t);for(let r=0,o=0;o<t;o++){
const t=(255&e[r++]|(255&e[r++])<<8|(255&e[r++])<<16|(255&e[r++])<<24)>>>0;n[o]=t>1114111?"\ufffd":String.fromCodePoint(t)}return n.join("")}};class Oo extends xo{#e;get name(){return this.#e}static#t=Object.setPrototypeOf({"":So,utf8:So,"utf-8":So,utf16:Mo,"utf-16":Mo,unicode:Mo,utf16be:jo,"utf16-be":jo,utf16le:Lo,"utf16-le":Lo,utf32be:Io,"utf-32be":Io,utf32le:_o,"utf-32le":_o,ascii:To,latin1:To,"us-ascii":To,"iso-8859-1":To},null);static{
const e=Object.freeze(Object.defineProperty(this.prototype,Symbol.toStringTag,{value:"Charset",writable:!1,enumerable:!1,configurable:!1}));Object.freeze(Object.setPrototypeOf(To,e)),Object.freeze(Object.setPrototypeOf(So,e)),Object.freeze(Object.setPrototypeOf(Mo,e)),Object.freeze(Object.setPrototypeOf(jo,e)),Object.freeze(Object.setPrototypeOf(Lo,e)),Object.freeze(Object.setPrototypeOf(Io,e)),Object.freeze(Object.setPrototypeOf(_o,e))}constructor(e){if(super(),
new.target===Oo)throw Error("This abstract class cannot be constructed directly");{const t=Oo.#t;e in t||(t[e]=this)}this.#e=e}static forName(e){"string"!=typeof e&&(e=e.#e);const t=this.#t[e.toLowerCase()];if(null!=t)return t;throw Error("Unsupported charset: "+e)}static isSupported(e){return e.toLowerCase()in this.#t}static defaultCharset(){return So}encode(){return yo()}decode(){return yo()}}class Po extends xo{#n;#r;#o;#a=!1;get sync(){return this.#n}get closed(){return this.#a}
get canRead(){return this.#r}get canWrite(){return this.#o}constructor(e,t,n){super(),this.#n=e??!1,this.#r=t??!1,this.#o=n??!1}close(){this.#a=!0}}class No extends Po{constructor(e,t){super(!0,e,t)}close(){super.close()}}class Fo extends No{constructor(){super(!0,!1)}read(){return-1}readBuf(e,t,n){t||=0,n||=e.byteLength;for(let r=0;r<n;r++){const n=this.read();if(!(n>=0))return r;e[t+r]=n}return n}readText(e,t){const n=this.readNBytes(e)
;return"utf-8"===(t||="utf-8")?So.decode(n):Oo.forName(t).decode(n)}readNBytes(e){const t=new Uint8Array(new ArrayBuffer(e),0,e);let n=0;for(;e>0;){const r=this.readBuf(t,n,Math.min(8192,e));if(r<0)break;e-=r,n+=r}return t.subarray(0,n)}readAllBytes(){const e=new Uint8Array(new ArrayBuffer(8192),0,8192),t=[];let n=0,r=0;for(;(n=this.readBuf(e,0,8192))>=0;)r+=n,t.push(e.subarray(0,n));return Qe(t,r)}async pipe(e){const t=new Uint8Array(new ArrayBuffer(8192),0,8192);let n=0,r=0
;for(;(n=this.readBuf(t,0,8192))>=0;)await e.writeBuf(t,0,n),await e.flush(),r+=n;return r}pipeSync(e){const t=new Uint8Array(new ArrayBuffer(8192),0,8192);let n=0,r=0;for(;(n=this.readBuf(t,0,8192))>=0;)e.writeBuf(t,0,n),e.flush(),r+=n;return r}}class Bo extends No{constructor(){super(!1,!0)}flush(){}write(e){}writeBuf(e,t,n){for(t||=0,n||=e.byteLength;t<n;)this.write(e[t])}writeText(e,t){const n=("utf-8"===(t||="utf-8")?So:Oo.forName(t)).encode(e);this.writeBuf(n,0,n.byteLength)}}
const Do="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Ho={encode:e=>{let t="",n=0,r=0;for(let o=0;o<e.length;o++)for(n=n<<8|e[o],r+=8;r>=5;)t+=Do[n>>r-5&31],r-=5;for(r>0&&(t+=Do[n<<5-r&31]);t.length%8!=0;)t+="=";return t},decode:e=>{e=e.replace(/=+$/,"");const t=[];let n=0,r=0;for(let o=0;o<e.length;o++){const a=Do.indexOf(e[o].toUpperCase());if(a<0)throw Error("Invalid character found in Base32 string.");n=n<<5|a,r+=5,r>=8&&(t.push(n>>r-8&255),r-=8)}return Uint8Array.from(t)}
},Uo=Object.freeze(Object.setPrototypeOf(Ho,null)),Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zo=new Uint8Array(new ArrayBuffer(256),0,256);for(let e=0;e<64;e++)zo[Ro.charCodeAt(e)]=e;const Wo={encode:e=>{const t=e.byteLength;let n="";for(let r=0;r<t;r+=3){const t=e[r]<<16|e[r+1]<<8|e[r+2];n+=Ro[t>>18&63]+Ro[t>>12&63]+Ro[t>>6&63]+Ro[63&t]}switch(t%3){case 1:return n.slice(0,-2)+"==";case 2:return n.slice(0,-1)+"=";default:return n}},decode:e=>{
const t=e.length,n=new Uint8Array(.75*t-("=="===e.slice(t-2)?2:"="===e[t-1]?1:0));let r=0;for(let o=0;o<t;o+=4){const t=zo[e.charCodeAt(o)]<<18|zo[e.charCodeAt(o+1)]<<12|zo[e.charCodeAt(o+2)]<<6|zo[e.charCodeAt(o+3)];n[r++]=t>>16&255,n[r++]=t>>8&255,n[r++]=255&t}return n}},qo=Object.freeze(Object.setPrototypeOf(Wo,null)),Vo="0123456789abcdef",Go=e=>{let t="";for(let n=0;n<=3;n++)t+=Vo.charAt(e>>8*n+4&15)+Vo.charAt(e>>8*n&15);return t},Ko=(e,t)=>{let n=(65535&e)+(65535&t)
;return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},Yo=(e,t,n,r,o,a)=>Ko(((e,t)=>e<<t|e>>>32-t)(Ko(Ko(t,e),Ko(r,a)),o),n),$o=(e,t,n,r,o,a,i)=>Yo(t&n|~t&r,e,t,o,a,i),Xo=(e,t,n,r,o,a,i)=>Yo(t&r|n&~r,e,t,o,a,i),Jo=(e,t,n,r,o,a,i)=>Yo(t^n^r,e,t,o,a,i),Zo=(e,t,n,r,o,a,i)=>Yo(n^(t|~r),e,t,o,a,i),Qo={encode:e=>{const t=e.length,n=Array(t);for(let r=0;r<t;r++)n[r]=e[r].toString(16).padStart(2,"0");return n.join("")},decode:e=>{const t=Math.floor(e.length/2),n=new Uint8Array(t)
;for(let r=0,o=0;r<t;r++)n[r]=parseInt(e.slice(o,o+=2),16);return n}
},ea=Object.freeze(Object.setPrototypeOf(Qo,null)),ta=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],na=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ra=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],oa=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],aa=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],ia=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],sa=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],ca=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],la=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],da=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],ua=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ha=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],pa=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],fa=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ma=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925]
;class ga extends xo{#i;#s;#c;get key(){return this.#i}constructor(e){super();const t=this.#i=Array.from(e);let n;switch(t.length){case 16:n=10;break;case 24:n=12;break;case 32:n=14;break;default:throw Error("Key size must be 16, 24 or 32 bytes.")}const r=this.#s=Array(n),o=this.#c=Array(n);for(let e=0;e<=n;e++)r[e]=[0,0,0,0],o[e]=[0,0,0,0];const a=4*(n+1),i=t.length/4,s=nt(t);for(let e=0;e<i;e++){const t=e>>2;r[t][e%4]=s[e],o[n-t][e%4]=s[e]}for(var c,l=0,d=i;d<a;){if(c=s[i-1],
s[0]^=na[c>>16&255]<<24^na[c>>8&255]<<16^na[255&c]<<8^na[c>>24&255]^ta[l]<<24,l+=1,8!=i)for(var u=1;u<i;u++)s[u]^=s[u-1];else{for(u=1;u<i/2;u++)s[u]^=s[u-1];for(c=s[i/2-1],s[i/2]^=na[255&c]^na[c>>8&255]<<8^na[c>>16&255]<<16^na[c>>24&255]<<24,u=i/2+1;u<i;u++)s[u]^=s[u-1]}var h,p;for(u=0;u<i&&d<a;)p=d%4,r[h=d>>2][p]=s[u],o[n-h][p]=s[u++],d++}for(let e=1;e<n;e++)for(let t=0;t<4;t++)c=o[e][t],o[e][t]=ha[c>>24&255]^pa[c>>16&255]^fa[c>>8&255]^ma[255&c]}encrypt(e){
if(16!==e.length)throw Error("Input data must be exactly 16 bytes.");const t=this.#s,n=t.length-1;let r=nt(e);for(let e=0;e<4;e++)r[e]^=t[0][e];for(let e=1;e<n;e++){const n=[,,,,];for(let o=0;o<4;o++)n[o]=oa[r[o]>>24&255]^aa[r[(o+1)%4]>>16&255]^ia[r[(o+2)%4]>>8&255]^sa[255&r[(o+3)%4]]^t[e][o];r=n}const o=Array(16);for(let e=0;e<4;e++){const a=t[n][e];o[4*e]=255&(na[r[e]>>24&255]^a>>24),o[4*e+1]=255&(na[r[(e+1)%4]>>16&255]^a>>16),o[4*e+2]=255&(na[r[(e+2)%4]>>8&255]^a>>8),
o[4*e+3]=255&(na[255&r[(e+3)%4]]^a)}return o}decrypt(e){if(16!==e.length)throw Error("Input data must be exactly 16 bytes.");const t=this.#c,n=t.length-1;let r=nt(e);for(let e=0;e<4;e++)r[e]^=t[0][e];for(let e=1;e<n;e++){const n=[,,,,];for(let o=0;o<4;o++)n[o]=ca[r[o]>>24&255]^la[r[(o+3)%4]>>16&255]^da[r[(o+2)%4]>>8&255]^ua[255&r[(o+1)%4]]^t[e][o];r=n}const o=Array(16);for(let e=0;e<4;e++){const a=t[n][e];o[4*e]=255&(ra[r[e]>>24&255]^a>>24),o[4*e+1]=255&(ra[r[(e+3)%4]>>16&255]^a>>16),
o[4*e+2]=255&(ra[r[(e+2)%4]>>8&255]^a>>8),o[4*e+3]=255&(ra[255&r[(e+1)%4]]^a)}return o}encryptCTR(e,t){const n=Array.from(e),r=Xe(t),o=n.length;let a=[],i=16;for(let e=0;e<o;e++)16===i&&(a=this.encrypt(r),i=0,Je(r)),n[e]^=a[i++];return n}decryptCTR(e,t){return this.encryptCTR(e,t)}}class ba extends xo{randBuf(e){const t=e.length,n=t-t%4;for(let t=0;t<n;){const n=4294967296*this.rand()>>>0;e[t++]=255&n,e[t++]=n>>8&255,e[t++]=n>>16&255,e[t++]=n>>24&255}
for(let r=n;r<t;r++)e[r++]=256*this.rand()&255;return e}randInt(e,t){return(t||=0)+Math.floor(this.rand()*((e||4294967296)-t))}randUUID(){const e=this.randBuf(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t="";for(let n=0;n<16;n++)t+=e[n].toString(16).padStart(2,"0"),3!==n&&5!==n&&7!==n&&9!==n||(t+="-");return t}}class ya extends ba{#l;get seed(){return this.#l}constructor(e){if(super(),null!=e&&4!==(e=Array.from(e)).length)throw Error("Invalid seed length");this.#l=e||tt()}rand(){
let[e,t,n,r]=this.#l,o=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+o|0,this.#l=[e,t,n,r],(o>>>0)/4294967296}setSeed(e){if(4!==(e=Array.from(e)).length)throw Error("Invalid seed length");this.#l=e}}class va extends ba{#l;get seed(){return this.#l}constructor(e){super(),this.#l=e||et()}rand(){const e=this.#l=2654435769+(0|this.#l)|0;let t=e^e>>>16;return t=Math.imul(t,569420461),t^=t>>>15,t=Math.imul(t,1935289751),((t^=t>>>15)>>>0)/4294967296}setSeed(e){this.#l=e}}
class wa extends ba{#l;get seed(){return this.#l}constructor(e){super(),this.#l=e||=et()}rand(){let e=this.#l=1831565813+(0|this.#l);return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}setSeed(e){this.#l=e}}class ka extends ba{#l;get seed(){return this.#l}constructor(e){if(super(),null!=e&&4!==(e=Array.from(e)).length)throw Error("Invalid seed length");this.#l=e||tt()}rand(){let[e,t,n,r]=this.#l,o=t<<9,a=5*t;return a=9*(a<<7|a>>>25),n^=e,r^=t,t^=n,e^=r,n^=o,
r=r<<11|r>>>21,this.#l=[e,t,n,r],(a>>>0)/4294967296}setSeed(e){if(4!==(e=Array.from(e)).length)throw Error("Invalid seed length");this.#l=e}}class Ca extends ba{static[Symbol.hasInstance](e){return e instanceof ba}constructor(e,t){if(super(),new.target===Ca)switch(e||"mulberry32"){case"sfc32":return new ya(t);case"splitmix32":return new va(t);case"mulberry32":return new wa(t);case"xoshiro128":return new ka(t);default:throw Error("Unsupported algorithm: "+e)}}seed=null;rand(){return yo()}
setSeed(){yo()}}const Ea={isNTON:e=>e.length>6&&128===e[0]&&99===e[1]&&98===e[2]&&106===e[3]&&102===e[4]&&2===e[5],encode:e=>{const t=[128,99,98,106,102,2],n=new Uint8Array(rt(t,e,6));let r=0;for(const e of t)"number"!=typeof e?(n.set(e,r),r+=e.byteLength):n[r++]=e;return n},decode:e=>{if(128!==e[0]||99!==e[1]||98!==e[2]||106!==e[3]||102!==e[4]||2!==e[5])throw Error("Parse Error: Invalid magic value");const t=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=6;const r=()=>{const o=e[n++]
;switch(o){case 0:return;case 255:return null;case 1:return!0;case 2:return!1;case 20:return e[n++]<<24>>24;case 21:return(255&e[n++]|(255&e[n++])<<8)<<16>>16;case 22:return 255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24;case 23:return t.getBigInt64((n+=8)-8,!0);case 10:return e[n++];case 11:return 255&e[n++]|(255&e[n++])<<8;case 12:return(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0;case 13:return t.getBigUint64((n+=8)-8,!0);case 32:
return t.getFloat32((n+=4)-4,!0);case 33:return t.getFloat64((n+=8)-8,!0);case 99:{const t=(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0,o=Array(t);for(let e=0;e<t;e++)o[e]=r();return o}case 100:{const t=(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0,o=Object.create(null);for(let a=0;a<t;a++){const t=(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0;o[So.decode(e.subarray(n,n+=t))]=r()}return o}case 102:{
const t=(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0;return e.subarray(n,n+=t)}case 101:{const t=(255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24)>>>0;return So.decode(e.subarray(n,n+=t))}default:throw Error("Parse Error: Invalid data ID: "+o)}};return r()}
},Aa=Object.freeze(Object.setPrototypeOf(Ea,null)),xa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ta={
md5:function(e){const t=Array.from("string"==typeof e?So.encode(e):e),n=t.length,r=16*(1+(n+8>>6)),o=Array(r).fill(0);let a,i,s,c,l,d=1732584193,u=-271733879,h=-1732584194,p=271733878;for(a=0;a<n;a++)o[a>>2]|=t[a]<<a%4*8;for(o[a>>2]|=128<<a%4*8,o[r-2]=8*n,a=0;a<r;a+=16)i=d,s=u,c=h,l=p,d=$o(d,u,h,p,o[a+0],7,-680876936),p=$o(p,d,u,h,o[a+1],12,-389564586),h=$o(h,p,d,u,o[a+2],17,606105819),u=$o(u,h,p,d,o[a+3],22,-1044525330),d=$o(d,u,h,p,o[a+4],7,-176418897),p=$o(p,d,u,h,o[a+5],12,1200080426),
h=$o(h,p,d,u,o[a+6],17,-1473231341),u=$o(u,h,p,d,o[a+7],22,-45705983),d=$o(d,u,h,p,o[a+8],7,1770035416),p=$o(p,d,u,h,o[a+9],12,-1958414417),h=$o(h,p,d,u,o[a+10],17,-42063),u=$o(u,h,p,d,o[a+11],22,-1990404162),d=$o(d,u,h,p,o[a+12],7,1804603682),p=$o(p,d,u,h,o[a+13],12,-40341101),h=$o(h,p,d,u,o[a+14],17,-1502002290),u=$o(u,h,p,d,o[a+15],22,1236535329),d=Xo(d,u,h,p,o[a+1],5,-165796510),p=Xo(p,d,u,h,o[a+6],9,-1069501632),h=Xo(h,p,d,u,o[a+11],14,643717713),u=Xo(u,h,p,d,o[a+0],20,-373897302),
d=Xo(d,u,h,p,o[a+5],5,-701558691),p=Xo(p,d,u,h,o[a+10],9,38016083),h=Xo(h,p,d,u,o[a+15],14,-660478335),u=Xo(u,h,p,d,o[a+4],20,-405537848),d=Xo(d,u,h,p,o[a+9],5,568446438),p=Xo(p,d,u,h,o[a+14],9,-1019803690),h=Xo(h,p,d,u,o[a+3],14,-187363961),u=Xo(u,h,p,d,o[a+8],20,1163531501),d=Xo(d,u,h,p,o[a+13],5,-1444681467),p=Xo(p,d,u,h,o[a+2],9,-51403784),h=Xo(h,p,d,u,o[a+7],14,1735328473),u=Xo(u,h,p,d,o[a+12],20,-1926607734),d=Jo(d,u,h,p,o[a+5],4,-378558),p=Jo(p,d,u,h,o[a+8],11,-2022574463),
h=Jo(h,p,d,u,o[a+11],16,1839030562),u=Jo(u,h,p,d,o[a+14],23,-35309556),d=Jo(d,u,h,p,o[a+1],4,-1530992060),p=Jo(p,d,u,h,o[a+4],11,1272893353),h=Jo(h,p,d,u,o[a+7],16,-155497632),u=Jo(u,h,p,d,o[a+10],23,-1094730640),d=Jo(d,u,h,p,o[a+13],4,681279174),p=Jo(p,d,u,h,o[a+0],11,-358537222),h=Jo(h,p,d,u,o[a+3],16,-722521979),u=Jo(u,h,p,d,o[a+6],23,76029189),d=Jo(d,u,h,p,o[a+9],4,-640364487),p=Jo(p,d,u,h,o[a+12],11,-421815835),h=Jo(h,p,d,u,o[a+15],16,530742520),u=Jo(u,h,p,d,o[a+2],23,-995338651),
d=Zo(d,u,h,p,o[a+0],6,-198630844),p=Zo(p,d,u,h,o[a+7],10,1126891415),h=Zo(h,p,d,u,o[a+14],15,-1416354905),u=Zo(u,h,p,d,o[a+5],21,-57434055),d=Zo(d,u,h,p,o[a+12],6,1700485571),p=Zo(p,d,u,h,o[a+3],10,-1894986606),h=Zo(h,p,d,u,o[a+10],15,-1051523),u=Zo(u,h,p,d,o[a+1],21,-2054922799),d=Zo(d,u,h,p,o[a+8],6,1873313359),p=Zo(p,d,u,h,o[a+15],10,-30611744),h=Zo(h,p,d,u,o[a+6],15,-1560198380),u=Zo(u,h,p,d,o[a+13],21,1309151649),d=Zo(d,u,h,p,o[a+4],6,-145523070),p=Zo(p,d,u,h,o[a+11],10,-1120210379),
h=Zo(h,p,d,u,o[a+2],15,718787259),u=Zo(u,h,p,d,o[a+9],21,-343485551),d=Ko(d,i),u=Ko(u,s),h=Ko(h,c),p=Ko(p,l);return Go(d)+Go(u)+Go(h)+Go(p)},AES:ga,Hex:ea,Null:xo,NTON:Aa,ASCII:To,UTF_8:So,sha256:function(e){const t=Array.from("string"==typeof e?So.encode(e):e),n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=8*t.length;for(t.push(128);t.length%64!=56;)t.push(0);const o=r/4294967296>>>0,a=r>>>0;for(let e=24;e>=0;e-=8)t.push(o>>e&255)
;for(let e=24;e>=0;e-=8)t.push(a>>e&255);for(let e=0;e<t.length;e+=64){const r=t.slice(e,e+64);let o=Array(64);for(let e=0;e<16;e++)o[e]=r[4*e]<<24|r[4*e+1]<<16|r[4*e+2]<<8|r[4*e+3],o[e]=o[e]>>>0;for(let e=16;e<64;e++){const t=ot(o[e-15],7)^ot(o[e-15],18)^at(o[e-15],3),n=ot(o[e-2],17)^ot(o[e-2],19)^at(o[e-2],10);o[e]=o[e-16]+t+o[e-7]+n>>>0}let a=n[0],i=n[1],s=n[2],c=n[3],l=n[4],d=n[5],u=n[6],h=n[7];for(let e=0;e<64;e++){
const t=h+(ot(l,6)^ot(l,11)^ot(l,25))+(l&d^~l&u)+xa[e]+o[e]>>>0,n=a&i^a&s^i&s;h=u,u=d,d=l,l=c+t>>>0,c=s,s=i,i=a,a=t+((ot(a,2)^ot(a,13)^ot(a,22))+n>>>0)>>>0}n[0]=n[0]+a>>>0,n[1]=n[1]+i>>>0,n[2]=n[2]+s>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+l>>>0,n[5]=n[5]+d>>>0,n[6]=n[6]+u>>>0,n[7]=n[7]+h>>>0}return n.map((e=>e.toString(16).padStart(8,"0"))).join("")},Base32:Uo,Base64:qo,Buffer:Co,Random:Ca,Stream:Po,Charset:Oo,UTF16BE:jo,UTF16LE:Lo,UTF32BE:Io,UTF32LE:_o,cyrb128:function(e){
const t=Array.from("string"==typeof e?So.encode(e):e);let n=1779033703,r=3144134277,o=1013904242,a=2773480762;for(const e of t)n=r^Math.imul(n^e,597399067),r=o^Math.imul(r^e,2869860233),o=a^Math.imul(o^e,951274213),a=n^Math.imul(a^e,2716044179);return n=Math.imul(o^n>>>18,597399067),r=Math.imul(a^r>>>22,2869860233),o=Math.imul(n^o>>>17,951274213),a=Math.imul(r^a>>>19,2716044179),
((n^r^o^a)>>>0).toString(16).padStart(8,"0")+((r^n)>>>0).toString(16).padStart(8,"0")+((o^n)>>>0).toString(16).padStart(8,"0")+((a^n)>>>0).toString(16).padStart(8,"0")},AsyncLock:class extends xo{#d=!1;#u=[];get locked(){return this.#d}then(e){"function"==typeof e&&(this.#d?this.#u.push(e):e())}lock(){this.#d=!0}unlock(){const e=this.#u;for(const t of e)t();e.length=0,this.#d=!1}},SyncStream:No,ReadStream:class extends Po{constructor(){super(!1,!0,!1)}async read(){return-1}async readBuf(e,t,n){
t||=0,n||=e.byteLength;for(let r=0;r<n;r++){const n=await this.read();if(!(n>=0))return r;e[t+r]=n}return n}async readText(e,t){const n=await this.readNBytes(e);return"utf-8"===(t||="utf-8")?So.decode(n):Oo.forName(t).decode(n)}async readNBytes(e){const t=new Uint8Array(new ArrayBuffer(e),0,e);let n=0;for(;e>0;){const r=await this.readBuf(t,n,Math.min(8192,e));if(r<0)break;e-=r,n+=r}return t.subarray(0,n)}async readAllBytes(){const e=new Uint8Array(new ArrayBuffer(8192),0,8192),t=[];let n=0,r=0
;for(;(n=await this.readBuf(e,0,8192))>=0;)r+=n,t.push(e.subarray(0,n));return Qe(t,r)}async pipe(e){const t=new Uint8Array(new ArrayBuffer(8192),0,8192);let n=0,r=0;for(;(n=await this.readBuf(t,0,8192))>=0;)await e.writeBuf(t,0,n),await e.flush(),r+=n;return r}},WriteStream:class extends Po{constructor(){super(!1,!1,!0)}async flush(){}async write(e){}async writeBuf(e,t,n){for(t||=0,n||=e.byteLength;t<n;)await this.write(e[t])}async writeText(e,t){
const n=("utf-8"===(t||="utf-8")?So:Oo.forName(t)).encode(e);await this.writeBuf(n,0,n.byteLength)}},EventEmitter:class extends xo{#h=Object.create(null);on(e,t){const n=this.#h[e]||=[];for(const e of n)if(e.$===t)return void(e.m=!1);n.push({$:t,m:!1})}once(e,t){const n=this.#h[e]||=[];for(const e of n)if(e.$===t)return void(e.m=!0);n.push({$:t,m:!0})}off(e,t){const n=this.#h;if(null!=e){const r=n[e];if(null!=r&&r.length>0){if(null!=t){
for(let e=0;e<r.length;e++)if(r[e].$===t)return r.splice(e,1),!0;return!1}return delete n[e]}return!1}if(null!=t){let e=!1;for(const r of Reflect.ownKeys(n)){const o=n[r];if(null!=o)e:for(let n=0;n<o.length;n++)if(o[n].$===t){o.splice(n,1),e=!0;break e}}return e}let r=!1;for(const e of Object.keys(n))delete n[e]&&(r=!0);return r}emit(e,...t){const n=this.#h[e];if(null!=n){let e=!1;for(let r=0;r<n.length;r++){const o=n[r];e=!0,o.m&&n.splice(r--,1),Reflect.apply(o.$,this,t)}return e}return!1}
getListeners(e){if(null!=e)return this.#h[e]?.map((e=>e.$))||[];const t=this.#h,n=new Set;for(const e of Reflect.ownKeys(t)){const r=t[e];if(null!=r)for(const e of r)n.add(e.$)}return Array.from(n)}},SecureRandom:class extends ba{#p;#f=16;#m=Array(16).fill(0);#g;get aes(){return this.#p}get seed(){return this.#p.key}get counter(){return this.#g}constructor(e,t){super(),this.#p=new ga(e||=function(){const e=Array(16);for(let t=0,n=0;t<4;t++){const t=et();e[n++]=255&t,e[n++]=t>>8&255,
e[n++]=t>>16&255,e[n++]=t>>24&255}return e}()),this.#g=Xe(t)}rand(){const e=this.randBuf([,,,,]);return((255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24)>>>0)/4294967296}randBuf(e){const t=this.#g,n=e.length,r=this.#p;let o=this.#m,a=this.#f,i=0;for(;i<n;){const s=16-a;if(s<1){o=r.encryptCTR(o,t),Je(t),a=0;continue}const c=Math.min(n-i,s);for(let t=0;t<c;t++)e[i++]=o[a++]}return this.#m=o,this.#f=a,e}setSeed(e){this.#p=new ga(e)}setCounter(e){this.#g=Xe(e)}},SyncReadStream:Fo,
SyncWriteStream:Bo,BufferReadStream:class extends Fo{#f;#m;get index(){return this.#f}set index(e){this.#f=e||0}get buffer(){return this.#m}set buffer(e){this.#m=e}constructor(e,t){super(),this.#f=t||0,this.#m=e}read(){return this.#m[this.#f++]}readBuf(e,t,n){const r=this.#m.subarray(this.#f,this.#f+=n||=e.byteLength);return e.set(r,t||0),n}readNBytes(e){return this.#m.subarray(this.#f,this.#f+=e)}readAllBytes(){return this.#m.subarray(this.#f)}get closed(){return!1}close(){}},
BufferWriteStream:class extends Bo{#b=[];#y=0;write(e){"number"==typeof e?(this.#b.push(e),this.#y++):(this.#b.push(e),this.#y+=e.byteLength)}toBuffer(){const e=new Uint8Array(this.#y);let t=0;for(const n of this.#b)"number"!=typeof n?(e.set(n,t),t+=n.byteLength):e[t++]=n;return e}get closed(){return!1}flush(){}close(){}}};Object.setPrototypeOf(Ta,null),Object.defineProperty(Ta,"NettleWeb",{value:Ta,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(Ta,Symbol.toStringTag,{
value:"NettleWeb",writable:!1,enumerable:!1,configurable:!1});const Sa=Ta,Ma="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof global?global:"object"==typeof self?self:Function("return this;")();if(null==Ma||"object"!=typeof Ma)throw Error("Failed to resolve global object");const ja=Object.create(null);Object.defineProperty(Sa,"loadModule",{value:(e,t)=>{if("string"!=typeof e||"core"===e)throw Error("Invalid module name: "+e)
;if(e in ja)throw Error("Module has already been loaded: "+e);const n=Object.keys(t);for(const e of n)Object.defineProperty(Sa,e,{value:t[e],writable:!1,enumerable:!0,configurable:!0});ja[e]=n},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(Sa,"removeModule",{value:e=>{if("string"!=typeof e||"core"===e)throw Error("Invalid module name: "+e);const t=ja[e];if(null!=t){for(const e of t)delete Sa[e];return!0}return!1},writable:!1,enumerable:!1,configurable:!1}),
Object.defineProperty(Sa,"activeModules",{value:()=>{const e=Object.keys(ja);return e.unshift("core"),e},writable:!1,enumerable:!1,configurable:!1}),"NettleWeb"in Ma||Object.defineProperty(Ma,"NettleWeb",{value:Sa,writable:!1,enumerable:!1,configurable:!1});const La=Sa
;var Ia=Uint8Array,_a=Uint16Array,Oa=Int32Array,Pa=new Ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Na=new Ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fa=new Ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ba=function(e,t){for(var n=new _a(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new Oa(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return{b:n,r:o}},Da=Ba(Pa,2),Ha=Da.b,Ua=Da.r;Ha[28]=258,Ua[258]=28
;for(var Ra=Ba(Na,0),za=Ra.b,Wa=Ra.r,qa=new _a(32768),Va=0;Va<32768;++Va){var Ga=(43690&Va)>>1|(21845&Va)<<1;Ga=(61680&(Ga=(52428&Ga)>>2|(13107&Ga)<<2))>>4|(3855&Ga)<<4,qa[Va]=((65280&Ga)>>8|(255&Ga)<<8)>>1}var Ka=function(e,t,n){for(var r=e.length,o=0,a=new _a(t);o<r;++o)e[o]&&++a[e[o]-1];var i,s=new _a(t);for(o=1;o<t;++o)s[o]=s[o-1]+a[o-1]<<1;if(n){i=new _a(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var l=o<<4|e[o],d=t-e[o],u=s[e[o]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[qa[u]>>c]=l
}else for(i=new _a(r),o=0;o<r;++o)e[o]&&(i[o]=qa[s[e[o]-1]++]>>15-e[o]);return i},Ya=new Ia(288);for(Va=0;Va<144;++Va)Ya[Va]=8;for(Va=144;Va<256;++Va)Ya[Va]=9;for(Va=256;Va<280;++Va)Ya[Va]=7;for(Va=280;Va<288;++Va)Ya[Va]=8;var $a=new Ia(32);for(Va=0;Va<32;++Va)$a[Va]=5;var Xa=Ka(Ya,9,0),Ja=Ka(Ya,9,1),Za=Ka($a,5,0),Qa=Ka($a,5,1),ei=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ti=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},ni=function(e,t){var n=t/8|0
;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},ri=function(e){return(e+7)/8|0},oi=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Ia(e.subarray(t,n))},ai=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ii=function(e,t,n){var r=Error(t||ai[e])
;if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ii),!n)throw r;return r},si=function(e,t,n,r){var o=e.length,a=r?r.length:0;if(!o||t.f&&!t.l)return n||new Ia(0);var i=!n,s=i||2!=t.i,c=t.i;i&&(n=new Ia(3*o));var l=function(e){var t=n.length;if(e>t){var r=new Ia(Math.max(2*t,e));r.set(n),n=r}},d=t.f||0,u=t.p||0,h=t.b||0,p=t.l,f=t.d,m=t.m,g=t.n,b=8*o;do{if(!p){d=ti(e,u,1);var y=ti(e,u+1,3);if(u+=3,!y){var v=e[(L=ri(u)+4)-4]|e[L-3]<<8,w=L+v;if(w>o){c&&ii(0);break}s&&l(h+v),
n.set(e.subarray(L,w),h),t.b=h+=v,t.p=u=8*w,t.f=d;continue}if(1==y)p=Ja,f=Qa,m=9,g=5;else if(2==y){var k=ti(e,u,31)+257,C=ti(e,u+10,15)+4,E=k+ti(e,u+5,31)+1;u+=14;for(var A=new Ia(E),x=new Ia(19),T=0;T<C;++T)x[Fa[T]]=ti(e,u+3*T,7);u+=3*C;var S=ei(x),M=(1<<S)-1,j=Ka(x,S,1);for(T=0;T<E;){var L,I=j[ti(e,u,M)];if(u+=15&I,(L=I>>4)<16)A[T++]=L;else{var _=0,O=0;for(16==L?(O=3+ti(e,u,3),u+=2,_=A[T-1]):17==L?(O=3+ti(e,u,7),u+=3):18==L&&(O=11+ti(e,u,127),u+=7);O--;)A[T++]=_}}
var P=A.subarray(0,k),N=A.subarray(k);m=ei(P),g=ei(N),p=Ka(P,m,1),f=Ka(N,g,1)}else ii(1);if(u>b){c&&ii(0);break}}s&&l(h+131072);for(var F=(1<<m)-1,B=(1<<g)-1,D=u;;D=u){var H=(_=p[ni(e,u)&F])>>4;if((u+=15&_)>b){c&&ii(0);break}if(_||ii(2),H<256)n[h++]=H;else{if(256==H){D=u,p=null;break}var U=H-254;if(H>264){var R=Pa[T=H-257];U=ti(e,u,(1<<R)-1)+Ha[T],u+=R}var z=f[ni(e,u)&B],W=z>>4;if(z||ii(3),u+=15&z,N=za[W],W>3&&(R=Na[W],N+=ni(e,u)&(1<<R)-1,u+=R),u>b){c&&ii(0);break}s&&l(h+131072);var q=h+U
;if(h<N){var V=a-N,G=Math.min(N,q);for(V+h<0&&ii(3);h<G;++h)n[h]=r[V+h]}for(;h<q;++h)n[h]=n[h-N]}}t.l=p,t.p=D,t.b=h,t.f=d,p&&(d=1,t.m=m,t.d=f,t.n=g)}while(!d);return h!=n.length&&i?oi(n,0,h):n.subarray(0,h)},ci=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},li=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},di=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,a=n.slice();if(!o)return{t:bi,l:0};if(1==o){
var i=new Ia(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],c=n[1],l=0,d=1,u=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=o-1;)s=n[n[l].f<n[u].f?l++:u++],c=n[l!=d&&n[l].f<n[u].f?l++:u++],n[d++]={s:-1,f:s.f+c.f,l:s,r:c};var h=a[0].s;for(r=1;r<o;++r)a[r].s>h&&(h=a[r].s);var p=new _a(h+1),f=ui(n[d-1],p,0);if(f>t){r=0;var m=0,g=f-t,b=1<<g;for(a.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<o;++r){var y=a[r].s;if(!(p[y]>t))break
;m+=b-(1<<f-p[y]),p[y]=t}for(m>>=g;m>0;){var v=a[r].s;p[v]<t?m-=1<<t-p[v]++-1:++r}for(;r>=0&&m;--r){var w=a[r].s;p[w]==t&&(--p[w],++m)}f=t}return{t:new Ia(p),l:f}},ui=function(e,t,n){return-1==e.s?Math.max(ui(e.l,t,n+1),ui(e.r,t,n+1)):t[e.s]=n},hi=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _a(++t),r=0,o=e[0],a=1,i=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++a;else{if(!o&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(o),
--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(o);a=1,o=e[s]}return{c:n.subarray(0,r),n:t}},pi=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},fi=function(e,t,n){var r=n.length,o=ri(t+2);e[o]=255&r,e[o+1]=r>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var a=0;a<r;++a)e[o+a+4]=n[a];return 8*(o+4+r)},mi=function(e,t,n,r,o,a,i,s,c,l,d){ci(t,d++,n),++o[256]
;for(var u=di(o,15),h=u.t,p=u.l,f=di(a,15),m=f.t,g=f.l,b=hi(h),y=b.c,v=b.n,w=hi(m),k=w.c,C=w.n,E=new _a(19),A=0;A<y.length;++A)++E[31&y[A]];for(A=0;A<k.length;++A)++E[31&k[A]];for(var x=di(E,7),T=x.t,S=x.l,M=19;M>4&&!T[Fa[M-1]];--M);var j,L,I,_,O=l+5<<3,P=pi(o,Ya)+pi(a,$a)+i,N=pi(o,h)+pi(a,m)+i+14+3*M+pi(E,T)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&O<=P&&O<=N)return fi(t,d,e.subarray(c,c+l));if(ci(t,d,1+(N<P)),d+=2,N<P){j=Ka(h,p,0),L=h,I=Ka(m,g,0),_=m;var F=Ka(T,S,0);for(ci(t,d,v-257),ci(t,d+5,C-1),
ci(t,d+10,M-4),d+=14,A=0;A<M;++A)ci(t,d+3*A,T[Fa[A]]);d+=3*M;for(var B=[y,k],D=0;D<2;++D){var H=B[D];for(A=0;A<H.length;++A){var U=31&H[A];ci(t,d,F[U]),d+=T[U],U>15&&(ci(t,d,H[A]>>5&127),d+=H[A]>>12)}}}else j=Xa,L=Ya,I=Za,_=$a;for(A=0;A<s;++A){var R=r[A];if(R>255){li(t,d,j[257+(U=R>>18&31)]),d+=L[U+257],U>7&&(ci(t,d,R>>23&31),d+=Pa[U]);var z=31&R;li(t,d,I[z]),d+=_[z],z>3&&(li(t,d,R>>5&8191),d+=Na[z])}else li(t,d,j[R]),d+=L[R]}return li(t,d,j[256]),d+L[256]
},gi=new Oa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bi=new Ia(0),yi=function(e,t,n,r,o,a){var i=a.z||e.length,s=new Ia(r+i+5*(1+Math.ceil(i/7e3))+o),c=s.subarray(r,s.length-o),l=a.l,d=7&(a.r||0);if(t){d&&(c[0]=a.r>>3);for(var u=gi[t-1],h=u>>13,p=8191&u,f=(1<<n)-1,m=a.p||new _a(32768),g=a.h||new _a(f+1),b=Math.ceil(n/3),y=2*b,v=function(t){return(e[t]^e[t+1]<<b^e[t+2]<<y)&f},w=new Oa(25e3),k=new _a(288),C=new _a(32),E=0,A=0,x=a.i||0,T=0,S=a.w||0,M=0;x+2<i;++x){
var j=v(x),L=32767&x,I=g[j];if(m[L]=I,g[j]=L,S<=x){var _=i-x;if((E>7e3||T>24576)&&(_>423||!l)){d=mi(e,c,0,w,k,C,A,T,M,x-M,d),T=E=A=0,M=x;for(var O=0;O<286;++O)k[O]=0;for(O=0;O<30;++O)C[O]=0}var P=2,N=0,F=p,B=L-I&32767;if(_>2&&j==v(x-B))for(var D=Math.min(h,_)-1,H=Math.min(32767,x),U=Math.min(258,_);B<=H&&--F&&L!=I;){if(e[x+P]==e[x+P-B]){for(var R=0;R<U&&e[x+R]==e[x+R-B];++R);if(R>P){if(P=R,N=B,R>D)break;var z=Math.min(B,R-2),W=0;for(O=0;O<z;++O){var q=x-B+O&32767,V=q-m[q]&32767;V>W&&(W=V,I=q)}}}
B+=(L=I)-(I=m[L])&32767}if(N){w[T++]=268435456|Ua[P]<<18|Wa[N];var G=31&Ua[P],K=31&Wa[N];A+=Pa[G]+Na[K],++k[257+G],++C[K],S=x+P,++E}else w[T++]=e[x],++k[e[x]]}}for(x=Math.max(x,S);x<i;++x)w[T++]=e[x],++k[e[x]];d=mi(e,c,l,w,k,C,A,T,M,x-M,d),l||(a.r=7&d|c[d/8|0]<<3,d-=7,a.h=g,a.p=m,a.i=x,a.w=S)}else{for(x=a.w||0;x<i+l;x+=65535){var Y=x+65535;Y>=i&&(c[d/8|0]=l,Y=i),d=fi(c,d+1,e.subarray(x,Y))}a.i=i}return oi(s,0,r+ri(d)+o)},vi=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){
var a=t.dictionary.subarray(-32768),i=new Ia(a.length+e.length);i.set(a),i.set(e,a.length),e=i,o.w=a.length}return yi(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)},wi="undefined"!=typeof TextDecoder&&new TextDecoder;try{wi.decode(bi,{stream:!0})}catch(e){}"function"==typeof queueMicrotask&&queueMicrotask
;const ki=La.NTON.decode(st(La.Base64.decode("zX1dcxs5thj35uuOK1+VVN3XYHtryjMp8UOSx9cjSz3RSLLHE0tWTHt8d2/duhfdfUjC6gZ6ADQpuvKQP5KfkZc85DfsT0qdA3Szm+wmKe86mxeR7D4ADg4Ozjeg/xFHHyd/lfy21+v9Va/X+0cO/67X630d34C1KXyAaBCrjN5E8G9/0+vlyggrlDzRkHIr5vA8ESZP+fIkSlV893whEjs7mQjbj5W0IO3zGYjpzDYe5TxJhJyefJffP8+4ngp5cjjK7xkvrHoeq1Tpk99NJpPnkdIJ6JPj/J4ZlYqE/W40Go0mk+cTJW3fiE9wcvQkv/c/7TKFE6l0xtPnEY/vploVMjn53Wj0ZPRs5IAmPBPp8iR4HxXSFsGB4dL0DWjh+1w4ZJ+ORs9TIaHvkadRUrAWdN/kPEbkR/n9cyJMAv+z1+udJmIenrMJtzxloLXSTMVxoTUkbDETKTBPKCGnzM6AeWIYpibMzoRhOZ/C4HSI/Tyi3m5T4AaY1UtWGGzGWSImE9AgLYu0WhjQTGkmwS6UvjvA7wjMp1xIlnIL2vdHeMaP/oY+AR7REv9yzS6BJ7+lhxP4m16vN7M2NyfDoaTVX7jVHxLAFP661+td0cROvqFHM/iP2AZ4EkbcwN/PNEzOgmHwD/RWwL/s9XqW6ylYevAR/nWv15uCPbdWi6iwQI/vIO/1erVVXy3u4e7FnYxGW1fucNvKpYTiP0Ypl3f0IIN/3+v1fi1AL8eQQmyVPk9TeiUJ1sRa5G46Cv7NOiw9z+E/9Xo97qnRTtGAIH+Fr1sgp8LOCgdWNXLwGv4FUlTY1FHOwD/H38vc/bTuNdxbt2IFrfNHPuc1rOdw95te7/SH+yxlc9BGKHkWHA5GAQMZK9yVZ0FhJ/1nAfshfHT628s3F+9+f3vFZjZL2e37H1+/umBBfzj8cHwxHF6+u2R/99O769fscHA4HF7dBIymcTIcLhaLweJ4oPR0+O7t8B6bHx5ig/L7ILFJED46pY7vs1Sas5a2h99//71rEbCUI3IgqRUy3aPTDCxn8YxrA7bCe1i+kDyDs2AuYJErbYNyx50FJKTOEpiLGPr040BIYQVP+ybmKZwdul6I1OEtnwJ7h19Ph+7Jo9OhRyBSyTJ8RBAXrvdHp0P38HSIaLutt6CleQtWL+n3PXzV6/WEtDDVwrpnS8dgM3703VN68An+GT7QMf36A/yrXq+XcSEHH81ver3efYKrj9+AAEV/jj8MMQPP8XtOXQ5iNShw1XtL4ghtrJKRUnfUza+EGjEf/tTU18lwiD8i+A+4NRM5KGQkVGxFkSFj4ruYdnM8Mmb+a3Jsf50NsR+UYQb+Gno9EmFMJGfBTGXQxxcBS7jlfRKKuAyHQfjoqwos4lKCDkIvAVcvpLIihtqLidIZvTHAdTwLWJxyY1Y/eWyJrWWRpgHLwM5Uchbkylgc8KtTIfPCeu74NWC4gc4C3DcBy/h9CnJqZ2fBd6OA5SmPYabSBPRZMKbuSXbjymkJNiCVFassT8HCWaAmE+Kcr746jQprlfSdmyLKhA0YsU/ZE87IQeGkhjir+rQzkIXDt3wyVVb1pzwDQ8+/OhXZlBkdnwUazJBeDMx8GjDH38H3TwPmxKD7niruNnjKPy0DlkC54blZyjhgiebTKY8QwwlPDQSMp/YseEkjumkRMiE9KZfjq9WXBqJzkYBqQ5RefAlEf6ER64jSk52Y8jxvpSg+/xJ4nuN4dTTxwS4k4xm3bUji8y+B5AWOV0cSH2wgubFZE2FiNcd9jFCz4/ADcDsDfTqcHTcmtXDP/ZQgiyCp7cRhnnIhqzkdjo6erGb1t0+fBY4AvpOBUxDDJvlm2j+ZHYfvVM5+Ap6gaWA2cJmVbypRkgpj+yjHg/C1o99gMFibdM1Uc8uEu8IJOgSaHZX7ZHbUkFoI1/+LiC6/k7+czKKpxdzCVOllsNmn++H1QMZtPDsLOM60qRiC8DxNawPt0QtywHdBiMbIdw9rOUm5mQXhC/x4WMtEmSC8fDN+WKuY68QE4QV+PKxlXnz6lEIQ3tLnw9pyHfMEgvCcPh/WNuOzj0pOg/DafXngfJHDRRyEF+7Lw1qbmVJW4OBj/63BgGvSx20tpS05jo4BUx5ByiZK114H4Vhpy6LlyemQ3hOkITO+2ZGXTyrHfcnmPC3gLJBBeMMzOB26x20gOgjfcpmobBtQHoS3Ki9SjkbgNsAkCC+5BXaeJJDUAU+HDulOYqDNywUZVi2CrAEq+VxMuVW6sXHpteTzPnpdwdpKedlwq2EuVOFc2AAdXdQnCW7kxmqTU8uncMK8IKs6x4Z9qcr+ZZFFoAOWCfROSLadBd9//31QEmRdwB12SDU2ZKcm53JtpFgV0gbh6HSIL8OVzlif9ETpBddJx7xv4N5un3M7pVFJplxkuCqX1fcTdp6mjLQIWwg7E9LFBRYQGWGBLUADK3LU55CwCIMCoM0Bk8qyRGiIbbpkuVZoX9H7KobDpNJMYKhhIUGbAXs1YUtVsAhSAXNgXC5dFKIWlTAztZBshmPOuGFzoTCgkGA7zTQqYnPAchehOOXM+bAZF6lVJ6bI0eP6Lw2n9wdTRB8htmdvAV9+fTRCdfT10cg7Tl8fjc6jAu0PFzM4C5xjHjANKXoBKgfiY03tmbCnQx4O2AdgC5GmzPI7oClo+LUQGHZxytQwbphRSuJnrowRUbqKs6zpcLJNm0q8tCHXtPjS/mV0uEPnSyrxpe07AdOP+KYMNaDn5I7dptxi0y4RWgHWZFRjg1k1nabQn4jU4l5v7LDwPJlzGUPCHMrbttTS+j5W+CIESfgX9MKcbBrVKNx9OxOEjfeh58gtrf022eygDTsNpkjtvsZljUJL28fd3s+UhnUCYUt2rXRNl7cZpFmxYZGyq6xIUc6XPF2fnEeReNTjWHkA+KXBC+A7CsKyyzozNNlhBUuvNlShOSKWWg4+moYm3IA0i0kQvi0mkxS2A5J59vO4TxbaNkDIioA5VJ0AL2fz81rDOievHI0O4sS4aOF4aSxk3WRxUCu0MK6ZMwI+C24wziATVQJs2CFPnwThzdMna9PbAEN78+ZyvAsMfYM6GW6uxsMXPBPxmhXTsibYNhzfXO0aYxoFjgd/VMudoHwFy7w82NFmHgXhL0LbgqctI9BPInAXwccw5V3ENjDlx0f3QXh89He7yAFTfnEZhBeXewC+fOmn+RK43gP++jIIr2HK2aUWc9inwRgtd2NBM8eNe7QZc1toGYTu88F0PLdciy5Ccnx59HQ0CkL8uwMbgv7uCKHx7z7Qf/sMofHvDuiPfFqgyviZPncAp0t5H4Svl/L+weS4UFmmktpOX+87xo18sXMjx4dHz4Lw4vDo2S4yZAIZ+Rw/doDmYIPw9urdLrC0ME9QQhdmuAvNuYiPRkH4y6uL/tHowcR6swoLtamJ+yC8HR/uwtagazW+3QF2jKL1+PLNLmqu+c5bgTOewdFodByE1+fXVwy/7lpVlUKsgvCCPn8RmJPZNT+0q26uLti7QkfqpeaT+/7h0+G4yEHTr+HtBbuSUyFhZ0+Te9fV7UX/xS7BJqc5ivn/ym5AvQTFblV8B3ZHo4UJwh+5TLhgH5RMQI8XfC+RsmYesJlIEpBnQdPbuh0f7bYDOtruNA3Q2Oho6wNGn20fRALtkx9fvRmvWQcr15hAvN03ESlU8dgdXZOTqVXmFcvbN9edQ1Sg24Zp9Y+N5dqS6dT0jb0FmWvRL23VMYLWzM51W37dcE3AZGte2AVP46bV+pkhY4SMeRoPXYpvbeQFROsmM+6k7M82tBugffBYSaNSaIx+CVExxdwivvlzTN311I5AIaN0FN81EHgvqbADNryF2XHj3XHNt8W+eJLopnNrckjTeAbxXZVpaHNwsYhhmQPj7P3b11v83ArpaN1dbeyFIupnCqX3tUqgsQ3qZngF9ahFCGi+6BPJ+/MjDOst2BUtwC9rgqerWa3N1ga5/rVscPv2v+3ToMhzsIDq8rb82gwj1l3vDSe2iPpmprSNC2tWbl75aqrUNK0o0sg5CeSioQNo5J6ePFvxHX7/3IyjG9qLIZ9zpGc1ydeQgSXSlH7SyRasPcSXQPvSD97A2z/chfiEx4A5+S2YlyBfAvUX5fAN3Munu5AX0lg+1Tzbgn0F8yXQf1Uh0MC/etwygR3JPB+9aiohl6d1YrCmCfdRgSgq//h/4j/+7z/+r4YCrHUDe3SzFr9p7SfZo5+6Om3tJN+jk4ZmbO0l3qOXNQ3XFcyKVZYVUthl0yygpPRmGIuWUCRQFVHUQnczbuuyvh7yT1XE0/VI2xj0HOozXGs10QIwxLLW7IV73N0OEZnmdiPy+Yq5WdXatWy7eIb1Mmk9dlmrHTFTDDK2vpsJY8vsbBMhCQuqMlhD6AYWWGO1EyMe+7RKtQGrafZzrciyrCG0QYt+qqailUc2Qp9TIduxaYnUruom6un+ysXcjEh3JHsuUmWgmdBqDIMB/baA7sZMhZyojjF+EY7WuLKM4MJdVHdmeDWbiYA0MWBLdyaFKcgkvKT8ELsGY7BC63Ton3uoldmWZP1CNu22Mp+CDlAmZJmgeNJIVxyvpyveG9BEkk4Lbo0wSdaPrNzbm5BtXInZjAYBuuhxoQHzqS/R49xCjanuuznsQY+j7fSgodjNQygy1f2Y8NxHoBPg5xHjZyXkPqSIUWruQ4rDJi2erNPilZxjQvOC+tufGB+V2Ic/cDpbCdEmMP3GaJWYVO2H1ldNtG0SyIBMMjPdj0AN+jwbjdYp5Dfq3tQpnN/eKlTeU8qYlfK3Tpim/ZGpj6Kjj1fSgLbMgazLwG3WYS7QP6wn2LbbXZnACvNUyKYXeh6poq7oy3VHKq/SVFRvNuOWCbNKfv9QOad5uMqIC8M4m2iAA4Z55b5RhY6BFd6jTZiSWBHGKrMD14fyncziCDxN1cK4FDyzikTRAVtg0QpzSWTGZcLMjGtwOf0Be2UNmyqe4uBWsUhjTT/MQS+rglLqkHHJCqnBWC0wF0M95VrMUWSBnAutZAbSHrAIYl4YLA2ocvmEnSASCBkrTXLfKmYs8NR1j/U1VGGgCosZc6GxbCAHjdl/Qx3jiISZksASQGsYjMuuo7GOHSaKLWbcIhS+WLIFl3bAGiTGxCViJNnHwljGy1qGAxYV+HNWRFh4QFJOzIVdHjCjYsFT8YmjE+sQmRRycDrM/RpWxQZlwXzp0U2nw+Rj8tPx3S/Jk/nOKoLKL+Mh++9so9Nmvb7jSrOz02uCY6+FvDP79by7SzzL8cGRDbssCVGvbnxTaPZCxYWpsTrrs9MofC0i0FhbFOGDD8C4yLbzHu6JRGUHWECiISnwxAQrpIQYRZLGh44vXWmFTFjG79yZFjzDUm4SHiM8llowIVmmjHUCzjBOJzeIlxZKp3g6BotMKixikEZpMxM5clAh+VyJhLuajbwxuVvcEvHm5HwNjJ+e21HMQFxoaGylBaeylxrHySntC6YwB2GIBpmQIhOfylM7PEMbF5vRLopVivEVjMk0SAHMCxTUmSRhEDF8nhdRKuKNuVyUcmZzqQqRJoyziA6xOCpiaIthIU5D/tRRQPPIOyatYqLa3GamijRhM451QGR7xkDbW5i4MObAizASCPe5BlMVJ3HpJlau+aCNNceODKjqO+Sw2+NUwsPTBV8aFsEBsSG9qEnnAfu9KljMpeeuTTpLeqQmE4FLurn32s7W1E7Z7NqLL4X9qYgYFiAZgU6Uq0Dy1VREJpbAHFISpm5aZobUnEGa10QjLivEKgO/qlUlFdaVuLNRjl9wS2mFZVPsGwO4S4wt/N7zs33gJH+wPDrTwJMM+mqOBSzwu2pULLTcRYS3V+eX11dkTpCIQ1YkOZ+A5SI133o+6FDwroBts1baWykvqa5yQ8+v1aNUFthG1sN5YWhmN2O9axmPva36pqV29N3TNUPt6p6jcbYlTt2oLGrFGdEIwnfLvDs+XYNrCwQ3q5+3RIybxc5bAFe1zfuEk9vn5SzOFyLdvhZ109V9x+2d27Ng8EnkzZXZm6R8aoLwHZ+arUMT2MPZ4HjDXnc1fwcuU3xQljz/KUyRgIkxOObO7uHKfONWgqffNueEiHMNvFZfim1RNxlMBo0ChmdFz4KjUcAWmudnwYxqWhvVhhtTGissXaRjp5EzFIUhS3YwGLTNLDwdlph0nhDpsNpr+uKGDnvVVMXvUc3hsE5FRFjfiUf6XIkrqeQEdbSxGgORqD0mKI1IviL2c+HMkKb+Ze+8bCVFEpMOpArS4/53LOFLQ6dpYQ6SpUpOQaMZY1Bix9ygMX8BGgurKUqTabJWWcaXiCAkAq12pVkCSJ+E4fFYdClIZ0uAxNQMgJr6cOWa1p31RRWOE6+UA0hTaG/hUxkugRtDQwNYpxAnCl0T7MLzMroKuA3K8Q4HVGiMiOvMIe6Lf4nMiMdEpCkkzLsP6bKG7RGSzoM6g2+JxlnlTySQg8QQmNNPQif9nGtLdiOp6vrUj5udUSVzkaciplJjZ4pJKD0u1FpLBvfC2Er7oVlc6/DJZoexypfktGAQ0lJxG62tMGjQpCIWWDdN/hwkpM00JMhOpBCVbF+pIk+cvcilwwi/N1bLxFqlKUuwjBr9LwB/dNBY7VV41XVU7YAnToiz8ujQEz90NSuUkCxDbypCc2PO8Vz8H17duhdEMu6+o45Do41TYfg/CZnAPZ2U+idEQiTgaOXbub1VIJ9yU3HDY8NAWr0sjRy/FZGFnRGDDnIuUqSpn3eimFHlLnTanuiEhezoVS+9eGfGcitihvMd/jweXozHhEudP6pZJwo8exB7MbK3azzFJlpl9KjOconC87JmwL65UOjB0CI5u6qCmSnkpnL+pffvRYt3Vx8bdjG+PcBz/PGMZeQBu6Le1baJwG25j8Rhg2/blpbU7gOXdvzhBb1oowrBOh6nUx7o5mBgDSdBPI4EMUACBYUdijOigbCOYLqQ0m9VcnnKCa+Jp2qSjvq0+eAe/TWeujVjHKnpOkXo8YcXB37xKRghHYuSwEFW4MyxuRfsxLSWT9ljMlAet26MyzfjB9LOFf+yqJBJCpWd7l2dcs/Ube85aBc8kVYx3mzP5oK3G9yJMoNPSsLQ2CIRardPj53+AQXbmBqQF0Eqc3PSVA1Xpdk25v8ehbgtJLeQLg/8Ipal1n2ndsjWPmCmiGdI+punTw7YzdX4gI3pL0oz4iF3+i5dMn98o9ri1ZkTdNQH7Ce1oKDP0jtjqAKQMJlbyIpZSjRYgUVf9PwxHql9XN50sTnb911S9YfanP0yljKIJDG0yGFvPuO4pSp1bEKBOXBvHqOUfMwoPoy9PSYU4IT9/Uss37s5v74avrr8h8fsG2/pn6xADueHg1Slj791jilq/xSQudwyuJgzgyy3Sy9Tl07QCDkDLWrbRWkxFbiZyL5a86M3jhS49ehbKE+U5NVVIWBqIslrHTFBlsaVioAWi24kAcmo1iSBZODYyqtZzw6VYkczppS+ZPEtV+vckI81A80LwXIiJeKIXn+iyUVbmcB5+AZjDtXWRChIagaJREtEToTO6LGLb04K6f3gyko5YHEq4jtq6ePaEaRq4S9EIV5ByjUd1A26+lxA7UxHPdBOMPsk/AmwO5/ts6VohTX84OslO3ev6m4wtqD0aD8RPFXTakj/M6RTbo3sY+Nk2/qw/VIrBN2R9FuylNmtS91uHJrmMWV1fW61keHs8zkWYnclUmdcToF5mFrFyK6aEOBTPCi0KgrZfsre41DWMtbTqKvMbG02xWohMazWmavmcR8t/O2zK8r0Z9hdAMDjPiY6Ojp6CZbR640edL3IpewpEmobxpFQe2DtO9meWa+7a9fLSiVtcIe/qaK1eLSY7r2FfEiodox0DYGq0GIThbI0ox0JdMd3InGeJH6EThz8fmWvVh5VHRkfzMHt+P7V5YnfmdXDiv1EQmfl/MuWEAG98qGt9j5Kjlu9bXIBvt+DDTYZtwubKzzx2YkO4Ntt+BDAHghVHe3G6Bq1GqUPOtHKKpB2gjfi15g2oLC8X9C6oNunSMrP4JYbs6B80+bpd1KN+/DilSSN/G6h+i943Cy7avSmzR69vVZTdNgxFjAGiiKYThZ/UWrbNjqYbK+qDaXxmqRrLlGMd450Cd4/ngPZyK0Dqn0GFFPJ3hS2i0YJ391J87AABXNW2nlXFTsdZ+gLqnVYqfhaGKzU3Y9K3v19aQJFABhZmgtvhGPlAzuNXDXC1CsWzty5GV8FEw5qvFzfCif1I/C6Tymj+tn3ZqNabUa9oZhqKv8I8VTzZtNmoYZz8PcRri4S4MbcTdHSeNFgwDbrA7wIfgt0+8yyJYVQp/bsOHyLfdS25UYBu6x2d+6BOqPDz7aX/mAB3W3VR2dMeDW0/rMNfeHs5n2Gr4sPpM0ey0c03GMj8GxtA5RPm/dbkW+i1w5jV8etMZpW3RdUQ3Ymkq7Kl58wC1xv2zRtap1gxKSjEy90fTiPALv7kbCwPOro6U1Ou5q8UYTq7mZSpKmJNYDsRApzwTWwVt24T+z92OFNi3FZZNly03Sp00ncdRH7tbhDcw8/OudFueSO9mN6F9JHt6KnLFlNLrmc2MY9HgSK2Z86KOWEWkGprPrVZR3aSbtW6NVVLPUGGBPoaPB+dWlHy10Ca86GuxEsIblPyQ9f/NHSEkokNy2XJ1XJlA+blAer4qAqIanXfrWYYG0GSCIsc8SSE7V+t0vVU3nKH9FYb+Lw2XrZQKPArn7dQFd2tyE8/18md+slb91YdyQj17D+S+Ui95vDRjpyfSqNLOT/HynIjtLEOtv3Yy7jvc5LyBjSTrkGfUzF7WOUUoKvXbzVNy+WA2Hartq/9WMQ+KLDpUU5s+dtIXVPOUn62HHQklCm55sLedi9kIebC/kafHmRw37P5WucR8Hrc/Y4koKFZp54u6mMBFkLqVdl9evhi20XBm0aN/7yy/0V8HxfDTzfrYJHnXw6x8z5lrMH64231ykYKgvV6Ntp4BlGCu+XzB2X6axkqRq1VZ1IJVG+q/Vj6+vnHkVOhyTxYyugq3pau9WkrMLao7SlYpY2e2K+xaDwpYl18Nw96mjwWmDdY8O0Sd2jjgYX/pbFhs1S3by4xQxhl5S8qM1ji+XypkxMvH/7ut7GJSy2mzu6zdbxrx5itMybVsvGBq4u6FrfwXN/VdbmtUu7bvIkz73NZW/fvKVHvrl73amPpmU51bVIX5Ny3vnG+uFmizIQ3N1m3WEv/fWNNg36uQjBBu2m2kcJNjyJMifVcPj3tB7fgqR7bpAmHQcGp5oyaPtEr0ilrPW1vpD+2FljKZ2vnU2d5vNJguqwau6qi/Y7pPonJCRON0+ZJJ3ph9Ud2Y0g/+pLa3w12ccg8QdNOjUG/xNi5GV4aMU8x2E9W1CTjZOVunWNNlYy5UvawHvsynJxc1zMrrX9zJPGP7pbyqt4pRuoa/s7xdjQGsY9eqC8zT9X4OZtEpdQKyJ/0LCtlanedklqf0fepuzI95C7TdPuQZfcdR/YdgnNRlhw7B/uUVGMeZw8B67dNWPrFljN7MF/NxGEL5S0nUaOA2m3cPBfWKCNg59bjZdMSYXXVkiF/7gCPrMSFwszsLoYPzrx9UCthcAw4UVq0fejL1tRTlFIYgxoOtsOmHB9h3fa6rvPnJbIaJl/XP0rkI46XwfYWl5Mr4b/eevF4Tfuf6tsZYg4QQ/x8qbV9F1hgmAPuhCFfeNp/i373FJivLQXZOIIhYVz21Eswb8kmnXqVid4tlDX8qgfp4qOtWAUJWIX/lc3OzeatPKfz+vQOTD6tpVdqYYH74XM1+5p3ri00F+aUt5WsgWU5JBWeEvTRfn1MzcDne2zM3+Fzdj9YlsvvGk2+TOQyFW6hT/ix+eSqG3GqyIcb3m2WKBxClz3Yx7P9joqjdDsAqG7rq2g/vCA197dYRb1klu+YYv+Xw==")))
;let Ci="whitespider";const{p:Ei,s:Ai,y:xi,e:Ti}=ki.x;Ei&&Ai&&xi&&(Ci=Ai+Ti+"3.sha"+xi+Ei+"/",Ci.length<10&&(Ci=""));const Si=Ci;let Mi;const ji=Object.freeze(Object.setPrototypeOf({_:({console:e})=>{if(null==e||"object"!=typeof e)throw Error("Invalid interface");const t=Reflect.get(e,"log",void 0);if("function"!=typeof t)throw Error("Invalid instance impl");Mi=(...e)=>(Reflect.apply(t,null,e),!0)},get $(){return Mi}},null)),Li=ji,Ii=[.2,3/8,5/9,2/3],_i=(e,t)=>n=>{
const r=4*e+n-4,o="*-04-39?2$%%$%%'$%''%'''%')(%'))%(++'(++'(+.'+-.',/3',33)-/5)-43).36)058*18<+37<+4:<,4:E,5<A-7>C/8@F/:EH/<EK0=FM1?IP2@KS3BNV4DPY5FS\\6HV_6IXb7K[e8N^i9Pam;Rdp<Tgt".charCodeAt(r)-35,a=r>8?o:1,i=t/a|0,s=t%a,c=a-s,l=r>8?i*Ii[n]+(e>5)&-2:o,d=i-l;return{t:8*(c*d+s*(d+1)),o:s?[[c,d],[s,d+1]]:[[c,d]],i:l}},Oi=e=>new Uint8Array(e),Pi=e=>{const t=Error("lean-qr error "+e);throw t.code=e,t
},Ni=e=>"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(e),Fi=e=>e.charCodeAt(0),Bi=(...e)=>(t,n)=>e.forEach((e=>e(t,n))),Di=e=>t=>{t.eci!==e&&(t.push(7,4),t.push(e,8),t.eci=e)},Hi=e=>(t,n)=>{t.push(4,4),t.push(e.length,8+8*(n>9)),e.forEach((e=>t.push(e,8)))},Ui=(e,t,n,r,o=(e,t)=>n(e.length,t),a=(r?t=>Bi(Di(r),e(t)):e))=>(a.test=t,a.l=n,a.est=o,a.eci=r&&[r],a),Ri=Ui((e=>(t,n)=>{t.push(1,4),t.push(e.length,10+2*(n>26)+2*(n>9));let r=0;for(;r<e.length-2;r+=3)t.push(+e.slice(r,r+3),10)
;r<e.length-1?t.push(+e.slice(r,r+2),7):r<e.length&&t.push(+e[r],4)}),/./.test.bind(/[0-9]/),((e,t)=>14+2*(t>26)+2*(t>9)+10*e/3)),zi=Ui((e=>(t,n)=>{t.push(2,4),t.push(e.length,9+2*(n>26)+2*(n>9));let r=0;for(;r<e.length-1;r+=2)t.push(45*Ni(e[r])+Ni(e[r+1]),11);r<e.length&&t.push(Ni(e[r]),6)}),(e=>Ni(e)>=0),((e,t)=>13+2*(t>26)+2*(t>9)+5.5*e)),Wi=Ui((e=>Hi([...e].map(Fi))),(e=>Fi(e)<128),((e,t)=>12+8*(t>9)+8*e));Wi.u=!0;const qi=Ui(Wi,(e=>Fi(e)<256),Wi.l,3);qi.u=!0
;const Vi=new TextEncoder,Gi=Ui((e=>Hi(Vi.encode(e))),(()=>1),0,26,((e,t)=>12+8*(t>9)+8*Vi.encode(e).length));Gi.u=!0;let Ki=()=>{const e=new Map,t=new TextDecoder("sjis"),n=Oi(2);for(let r=0;r<7973;++r)n[0]=r/192+129+64*(r>5951),n[1]=r%192+64,e.set(t.decode(n),r);return e.delete("\ufffd"),Ki=()=>e,e};const Yi=Ui((e=>(t,n)=>{t.push(8,4),t.push(e.length,8+2*(n>26)+2*(n>9));for(const n of e)t.push(Ki().get(n),13)}),(e=>Ki().has(e)),((e,t)=>12+2*(t>26)+2*(t>9)+13*e));Yi.u=!0
;const $i=[Ri,zi,Wi,qi,Yi,Gi],Xi=(e,{modes:t=$i}={})=>(n,r)=>{let o=1;for(const n of t){const t=new Map;n._=o<<=1,n.m=n.est("",r),n.h=n.l?(e,o)=>{const a=o-e,i=t.get(a)??n.l(a,r);return t.set(a,i),i}:(o,a)=>{const i=e.slice(o,a),s=t.get(i)??n.est(i,r);return t.set(i,s),s}}let a=[{S:0}],i=0,s=0,c=-1;for(const n of[...e,""]){let e=0;if(n)for(const r of t)r.test(n)&&(e|=r._);if(!n||e!==c){if(-1!==c){const e=new Set(a.map((e=>e.v))),n=[];for(const r of t.filter((e=>c&e._))){const t=r.h(i,s)
;for(const o of r.eci??e){if(r===Wi&&o)continue;let e;for(const n of a)if(n.v===o||r.eci){const a=n.C===r&&n.v===o,c=a?n.D:n,l=a?n.V:i;let d;d=r.u&&a?n.S+t-r.m:c.S+12*(c.v!==o)+(l===i?t:r.h(l,s)),(!e||d<e.S)&&(e={V:l,D:c,C:r,v:o,$:s,S:d})}e&&n.push(e)}}n.length||Pi(5),a=n}c=e,i=s}s+=n.length}const l=[];for(let t=a.reduce(((e,t)=>t.S<e.S?t:e));t.C;t=t.D)l.unshift(t.C(e.slice(t.V,t.$)));l.forEach((e=>e(n,r)))},Ji=()=>({A:Oi(2956),F:0,push(e,t){for(let n=t,r=8-(7&this.F);n>0;n-=r,
r=8)this.A[this.F>>3]|=e<<r>>n,this.F+=n<r?n:r}}),Zi=(e,t=e*e,n=Oi(t))=>({size:e,I:n,get:(t,r)=>t>=0&&t<e&&!!(1&n[r*e+t]),K(t,r,o){n[r*e+t]=o},toString({on:t="##",off:n="  ",lf:r="\n",padX:o=4,padY:a=4}={}){let i="";for(let s=-a;s<e+a;++s){for(let r=-o;r<e+o;++r)i+=this.get(r,s)?t:n;i+=r}return i},toImageData(t,{on:n=[0,0,0],off:r=[0,0,0,0],padX:o=4,padY:a=4}={}){const i=e+2*o,s=e+2*a,c=t.createImageData(i,s),l=new Uint32Array(c.data.buffer);c.data.set([...n,255]);const d=l[0]
;c.data.set([...r,255]);const u=l[0];for(let e=0;e<s;++e)for(let t=0;t<i;++t)l[e*i+t]=this.get(t-o,e-a)?d:u;return c},toCanvas(e,t){const n=e.getContext("2d"),r=this.toImageData(n,t);e.width=r.width,e.height=r.height,n.putImageData(r,0,0)},toDataURL({type:e="image/png",scale:t=1,...n}={}){const r=document.createElement("canvas"),o=r.getContext("2d"),a=this.toImageData(o,n);return r.width=a.width*t,r.height=a.height*t,o.putImageData(a,0,0),o.imageSmoothingEnabled=!1,
o.globalCompositeOperation="copy",o.drawImage(r,0,0,a.width,a.height,0,0,r.width,r.height),r.toDataURL(e,1)}}),Qi=[(e,t)=>!(1&(e^t)),(e,t)=>!(1&t),e=>!(e%3),(e,t)=>!((e+t)%3),(e,t)=>!(1&(e/3^t>>1)),(e,t)=>!((e&t&1)+e*t%3),(e,t)=>!((e&t&1)+e*t%3&1),(e,t)=>!((1&(e^t))+e*t%3&1)],es=Oi(512);es[0]=1;for(let e=0,t=1;e<255;es[++e]=t)es[t+256]=e,t*=2,256&t&&(t^=285);const ts=e=>es[e%255],ns=e=>es[e+256],rs=(e,t)=>{const n=Oi(e.length+t.length-1)
;for(let r=0;r<e.length;++r)for(let o=0;o<t.length;++o)n[r+o]^=ts(e[r]+t[o]);return n.map(ns)},os=(e,t)=>{const n=Oi(e.length+t.length-1);n.set(e,0);for(let r=0;r<e.length;++r)if(n[r]){const e=ns(n[r]);for(let o=0;o<t.length;++o)n[r+o]^=ts(t[o]+e)}return n.slice(e.length)},as=[[0],[0,0]];for(let e=1,t=as[1];e<30;++e){const n=rs(t,[0,e]);as.push(n),t=n}const is=(e,t)=>{const n=[[],[]];let r=0,o=0;for(const[a,i]of t.o)for(let s=0;s<a;++s,r+=i){const a=e.slice(r,r+i);n[0].push(a),
n[1].push(os(a,as[t.i])),o+=i+t.i}const a=Oi(o);let i=0;for(const e of n)for(let t,n=0;i!==t;++n){t=i;for(const t of e)n<t.length&&(a[i++]=t[n])}return a},ss=(e,t,n)=>{let r=e<<n-1;for(let e=134217728;e;e>>=1)r&e&&(r^=t*(e>>n-1));return r},cs=({size:e,I:t,K:n},r)=>{const o=(n,r,o,a,i)=>{for(;a-- >0;){const s=(r+a)*e+n;t.fill(i,s,s+o)}},a=(e,t)=>{o(e-3,t-3,7,7,3),o(e-2,t-2,5,5,2),o(e-1,t-1,3,3,3)},i=(e,t)=>{o(e-2,t-2,5,5,3),o(e-1,t-1,3,3,2),n(e,t,3)};o(7,0,2,9,2),o(e-8,0,8,9,2)
;for(let t=0;t<e;++t)n(t,6,3^1&t);if(a(3,3),a(e-4,3),r>1){const t=1+(r/7|0),n=2*((e-13)/t/2+.75|0);for(let r=0;r<t;++r){const o=e-7-r*n;r&&i(o,6);for(let r=0;r<t;++r)i(o,e-7-r*n)}}if(r>6)for(let t=r<<12|ss(r,7973,13),o=0;o<6;++o)for(let r=12;r-- >9;t>>=1)n(e-r,o,2|1&t);for(let n=0;n<e;++n)for(let r=n;r<e;++r)t[r*e+n]=t[n*e+r];n(8,e-8,3)},ls=({size:e,I:t})=>{const n=[];for(let r=e-2,o=e,a=-1;r>=0;r-=2){for(5===r&&(r=4);o+=a,-1!==o&&o!==e;){const a=o*e+r;t[a+1]<2&&n.push(a+1),t[a]<2&&n.push(a)}
a*=-1}return n},ds=({I:e},t,n)=>t.forEach(((t,r)=>e[t]=n[r>>3]>>7-(7&r)&1)),us=({size:e,I:t,K:n},r,o,a)=>{for(let n=0;n<e;++n)for(let o=0;o<e;++o){const a=n*e+o;t[a]^=r(o,n)&(t[a]>>1^1)}const i=(1^a)<<3|o;let s=21522^(i<<10|ss(i,1335,11));for(let t=8;t-- >0;s>>=1)n(8,(t>1?7:8)-t,s),n(e-8+t,8,s);for(let t=7;t-- >0;s>>=1)n(t>5?7:t,8,s),n(8,e-t-1,s)},hs=({size:e,I:t},n=0,r=0)=>{for(let o=0;o<e;++o){for(let a=0;a<2;++a)for(let i,s=0,c=0,l=0;s<e;++s){const d=1&t[a?o*e+s:s*e+o];r+=d,
c=(c>>1|2098176)&(3047517^d-1),2049&c&&(n+=40),d!==i?(l=1,i=d):++l>4&&(n+=l<6?3:1)}if(o)for(let r=1,a=1&t[o-1],i=(1&t[o])===a;r<e;++r){const s=1&t[r*e+o-1],c=(1&t[r*e+o])===s;n+=3*(i&&c&&a===s),a=s,i=c}}return n+10*(20*Math.abs(r/(e*e*2)-.5)|0)},ps=[],fs=(e=Pi(1),{minCorrectionLevel:t=0,maxCorrectionLevel:n=3,minVersion:r=1,maxVersion:o=40,mask:a,trailer:i=60433,...s}={})=>{n<t&&Pi(3),o<r&&Pi(2),"string"==typeof e&&(e=Xi(e,s));for(let s=r,c=0;s<=o;++s){let r=ps[s];r||(ps[s]=r=Zi(4*s+17),cs(r,s),
r.p=ls(r));const o=_i(s,r.p.length>>3);if(o(t).t<c)continue;const l=Ji();e(l,s),c=l.F;for(let e=n;e>=t;--e){const t=o(e);if(t.t<c)continue;for(l.push(0,4),l.F=l.F+7&-8;l.F<t.t;)l.push(i,16);const n=Zi(r.size,r.I);return ds(n,r.p,is(l.A,t)),(Qi[a??-1]?[Qi[a]]:Qi).map(((t,r)=>{const o=Zi(n.size,n.I);return us(o,t,a??r,e),o.s=hs(o),o})).reduce(((e,t)=>t.s<e.s?t:e))}}Pi(4)};fs.with=(...e)=>(t,n)=>fs(t,{modes:[...$i,...e],...n});const ms=Object.create(null);ms.open="0",ms.close="1",ms.ping="2",
ms.pong="3",ms.message="4",ms.upgrade="5",ms.noop="6";const gs=Object.create(null);Object.keys(ms).forEach((e=>{gs[ms[e]]=e}));const bs={type:"error",data:"parser error"
},ys="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),vs="function"==typeof ArrayBuffer,ws=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ks=({type:e,data:t},n,r)=>ys&&t instanceof Blob?n?r(t):Cs(t,r):vs&&(t instanceof ArrayBuffer||ws(t))?n?r(t):Cs(new Blob([t]),r):r(ms[e]+(t||"")),Cs=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1]
;t("b"+(e||""))},n.readAsDataURL(e)};let Es;const As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xs="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)xs[As.charCodeAt(e)]=e;const Ts="function"==typeof ArrayBuffer,Ss=(e,t)=>{if("string"!=typeof e)return{type:"message",data:js(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:Ms(e.substring(1),t)}:gs[n]?e.length>1?{type:gs[n],data:e.substring(1)}:{type:gs[n]}:bs},Ms=(e,t)=>{if(Ts){
const n=(e=>{let t,n,r,o,a,i=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const l=new ArrayBuffer(i),d=new Uint8Array(l);for(t=0;t<s;t+=4)n=xs[e.charCodeAt(t)],r=xs[e.charCodeAt(t+1)],o=xs[e.charCodeAt(t+2)],a=xs[e.charCodeAt(t+3)],d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|o>>2,d[c++]=(3&o)<<6|63&a;return l})(e);return js(n,t)}return{base64:!0,data:e}},js=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer;let Ls
;ht.prototype.on=ht.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ht.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},ht.prototype.off=ht.prototype.removeListener=ht.prototype.removeAllListeners=ht.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this
;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},ht.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this
},ht.prototype.emitReserved=ht.prototype.emit,ht.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ht.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Is="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),_s="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Os=_s.setTimeout,Ps=_s.clearTimeout;class Ns extends Error{
constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Fs extends ht{constructor(e){super(),this.writable=!1,ft(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ns(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){
"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ss(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){
return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Bs extends Fs{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{
this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split("\x1e"),r=[];for(let e=0;e<n.length;e++){const o=Ss(n[e],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((e=>{
if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=Array(n);let o=0;e.forEach(((e,a)=>{ks(e,!1,(e=>{
r[a]=e,++o===n&&t(r.join("\x1e"))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=mt()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Ds=!1;try{Ds="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ii){}const Hs=Ds;class Us extends Bs{constructor(e){if(super(e),
"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Rs extends ht{
constructor(e,t,n){super(),this.createRequest=e,ft(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=pt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0)
;for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),
n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(e){return void this.setTimeoutFn((()=>{this._onError(e)}),0)}"undefined"!=typeof document&&(this._index=Rs.requestsCount++,Rs.requests[this._index]=this)}_onError(e){
this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=gt,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Rs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Rs.requestsCount=0,Rs.requests={},
"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",bt):"function"==typeof addEventListener&&addEventListener("onpagehide"in _s?"pagehide":"unload",bt,!1));const zs=function(){const e=yt({xdomain:!1});return e&&null!==e.responseType}(),Ws="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class qs extends Fs{get name(){return"websocket"}doOpen(){
const e=this.uri(),t=this.opts.protocols,n=Ws?{}:pt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{
this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ks(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(e){}r&&Is((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){
void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=mt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Vs=_s.WebSocket||_s.MozWebSocket,Gs={websocket:class extends qs{createSocket(e,t,n){return Ws?new Vs(e,t,n):t?new Vs(e,t):new Vs(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Fs{get name(){return"webtransport"}doOpen(){try{
this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Ls||(Ls=new TextDecoder);const n=[];let r=0,o=-1,a=!1;return new TransformStream({transform(i,s){for(n.push(i);;){if(0===r){if(dt(n)<1)break
;const e=ut(n,1);a=!(128&~e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(dt(n)<2)break;const e=ut(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(dt(n)<8)break;const e=ut(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>2097151){s.enqueue(bs);break}o=4294967296*a+t.getUint32(4),r=3}else{if(dt(n)<o)break;const e=ut(n,o);s.enqueue(Ss(a?e:Ls.decode(e),t)),r=0}if(0===o||o>e){s.enqueue(bs);break}}}})
}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=lt();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then((({done:e,value:t})=>{e||(this.onPacket(t),o())})).catch((()=>{}))};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1
;this._writer.write(n).then((()=>{r&&Is((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Us{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=zs&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Rs(yt,this.uri(),e)}}
},Ks=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],$s="function"==typeof addEventListener&&"function"==typeof removeEventListener,Xs=[]
;$s&&addEventListener("offline",(()=>{Xs.forEach((e=>e()))}),!1);class Js extends ht{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=vt(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=vt(t.host).host);ft(this,t),
this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),
this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=")
;t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),$s&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xs.push(this._offlineEventListener))),
this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0)
;const e=this.opts.rememberUpgrade&&Js.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){
this.readyState="open",Js.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":
const t=Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer)
;const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){
const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n
}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Is((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,
t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)}
;return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(Js.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){
if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$s&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Xs.indexOf(this._offlineEventListener);-1!==e&&Xs.splice(e,1)}this.readyState="closed",this.id=null,
this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Js.protocol=4;class Zs extends Js{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){function t(){i||(i=!0,l(),a.close(),a=null)}function n(){c("transport closed")}function r(){c("socket closed")}function o(e){a&&e.name!==a.name&&t()}let a=this.createTransport(e),i=!1
;Js.priorWebsocketSuccess=!1;const s=()=>{i||(a.send([{type:"ping",data:"probe"}]),a.once("packet",(e=>{if(!i)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Js.priorWebsocketSuccess="websocket"===a.name,this.transport.pause((()=>{i||"closed"!==this.readyState&&(l(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())}))}else{const e=Error("probe error");e.transport=a.name,
this.emitReserved("upgradeError",e)}})))},c=e=>{const n=Error("probe error: "+e);n.transport=a.name,t(),this.emitReserved("upgradeError",n)},l=()=>{a.removeListener("open",s),a.removeListener("error",c),a.removeListener("close",n),this.off("close",r),this.off("upgrading",o)};a.once("open",s),a.once("error",c),a.once("close",n),this.once("close",r),this.once("upgrading",o),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{i||a.open()}),200):a.open()}
onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Qs extends Zs{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map((e=>Gs[e])).filter((e=>!!e))),super(e,n)}}(async({window:e,document:t})=>{function n(e){
const n=t.getElementById(e);if(null!=n)return n;throw Error("Cannot access element: "+e)}function r(e){const n=t.querySelector(e);if(null!=n)return n;throw Error("Cannot access element selector: "+e)}function o(e){null!=e?(x.textContent=e,x.style.display="block"):x.style.display="none"}function a(e){try{return new URL(e)}catch(e){return null}}function i(e){for(let t=e.length-1;t>=0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function s(e){
return e.startsWith(Z)?e:Z+ki.c+"?W="+encodeURIComponent(La.Base64.encode(it(La.UTF_8.encode(e),{mem:10,level:9})))}function c(e){return new Date(e).toLocaleString("POSIX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}async function l(e){try{const t=await fetch(e,{method:"GET"});return t.ok?[new Uint8Array(await t.arrayBuffer()),(t.headers.get("content-type")||"").split(";",2)[0].trim().toLowerCase()]:null}catch(e){return null}}
async function d(e,t){try{const n=await fetch(e,{cache:t||"force-cache",method:"GET"});return n.ok?await n.text():null}catch(e){return null}}async function u(e,t,n){try{const r=new Image(512,512);r.loading="eager",r.decoding="sync",r.draggable=!1;{const t=URL.createObjectURL(e);r.src=t,await r.decode(),URL.revokeObjectURL(t)}let o=r.naturalWidth,a=r.naturalHeight;{const e=null==n?a/o:n/t;a>=o*e?a=Math.floor(o*e):o=Math.floor(a/e)}
if((t=Math.min(t,o))<10||(n=null==n?a:Math.min(n,a))<10)throw Error("Image must have at least 100 pixels.");const i=new OffscreenCanvas(t,n),s=i.getContext("2d",{alpha:!1});if(null==s)throw Error("Failed to initialize canvas context.");return s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high",s.drawImage(r,0,0,o,a,0,0,t,n),await i.convertToBlob({type:"image/jpeg",quality:100})}catch(e){return null}}function h(e,t){return new Promise(((n,r)=>{
const o=new ArrayBuffer((t=La.NTON.encode(t)).byteLength+10),a=performance.now();{const n=new Uint8Array(o);n[0]=3,n[9]=e,n.set(t,10)}new DataView(o,1,8).setFloat64(0,a,!0),$.send(o,{compress:!0}),N.set(a,[n,r])}))}function p(e){B.appendChild(y(e)),D.style.display="block"}function m(e,t){if(e.startsWith("https://"))return e;let n=Z+"g/"+t+"/";if(e.startsWith("/games/flash/")){const t=e.indexOf("/",13);t>13&&(n+=e.slice(t+1))}return n}function g(t,n){if("html5"===t&&"string"==typeof n)return y(n)
;const r=performance.now().toString(36),o=y("/player.html?s="+r),a=({data:o,origin:i,source:s})=>{i===e.origin&&o===r&&(null!=s&&s.postMessage({id:t,url:n},{targetOrigin:i}),e.removeEventListener("message",a))};return e.addEventListener("message",a,{passive:!0}),o}function b(e){const n=e.date.toString(36),r=e.name,a=t.createElement("a");a.href="https://nettleweb.com/"+n,a.title="Play "+r,a.target="_self",a.className="game",a.style.backgroundImage='url("'+Z+"p/"+n+'")',a.onclick=t=>{
t.ctrlKey||(t.preventDefault(),t.stopPropagation(),te(e).catch((e=>{L(e),o("Failed to launch game. Message: "+e)})))};{const e=t.createElement("div");e.textContent=r,a.appendChild(e)}if(e.file.startsWith("https://")){const e=t.createElement("img");e.src="/res/cloud.svg",e.alt="Cloud",e.title="Embedded from third-party servers",e.width=24,e.height=24,e.loading="lazy",e.decoding="async",e.draggable=!1,a.appendChild(e)}switch(e.type){case"html5":{const e=t.createElement("span")
;e.textContent="HTML5",e.style.background="#c04000",a.appendChild(e)}break;case"flash":{const e=t.createElement("span");e.textContent="Flash",e.style.background="#008000",a.appendChild(e)}break;case"dos":{const e=t.createElement("span");e.textContent="Dos",e.style.background="#0000ff",a.appendChild(e)}break;default:a.style.backgroundImage='url("/res/preview.svg")'}return a}function y(e){if(e.startsWith("https://")&&!e.startsWith(Z)){const r=t.createElement("iframe")
;r.setAttribute("name","Frame"),r.setAttribute("width","1024"),r.setAttribute("height","768"),r.setAttribute("loading","lazy"),r.setAttribute("sandbox","allow-forms allow-popups allow-scripts allow-same-origin allow-pointer-lock"),r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("credentialless","true"),r.setAttribute("referrerpolicy","no-referrer"),r.setAttribute("allowfullscreen","true"),r.setAttribute("allowpaymentrequest","true");{
const t="data:application/xhtml+xml;base64,"+La.Base64.encode(La.UTF_8.encode(`<?xml version="1.0" encoding="utf-8" ?>\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" lang="en">\n\t<head>\n\t\t<meta charset="utf-8" />\n\t\t<meta name="referrer" content="no-referrer" />\n\t\t<meta name="viewport" content="width=device-width,initial-scale=1" />\n\t\t<base href="${origin}" target="_blank" />\n\t\t<link rel="icon" type="image/x-icon" href="res/google.ico" />\n\t\t<link rel="stylesheet" type="text/css" href="data:text/css;base64,Ym9keSxlbWJlZCxpZnJhbWV7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowcHg7cGFkZGluZzowcHg7Ym9yZGVyOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO30K" />\n\t\t<title>Google</title>\n\t</head>\n\t<body>\n\t\t<embed type="text/plain" width="1024" height="768" src="${n=e,
n.replace(/[&<"']/g,(e=>{switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return""}}))}" />\n\t</body>\n</html>`));r.addEventListener("load",(()=>{const e=r.contentWindow;null!=e?(e.stop(),e.focus(),e.location.replace(t)):r.setAttribute("src",t)}),{once:!0,passive:!0}),P.set(r,e)}return r}{const n=t.createElement("embed");return n.setAttribute("type","text/plain"),n.setAttribute("width","1024"),n.setAttribute("height","768"),
n.setAttribute("src",e),n}var n}function v(){ie=null,X||(t.title="NettleWeb"),A.replaceState(void 0,"","/")}function w(t){const n=e.open(void 0,"_blank","");null!=n?(n.stop(),n.focus(),setTimeout((()=>{n.location.replace(t)}),100)):o("Please allow popups in your browser settings and try again.")}function k(t){const n=e.open(void 0,"_blank","");if(null==n)return void o("Please allow popups in your browser settings and try again.");n.focus();const r=n.document
;r.head.innerHTML='<meta charset="utf-8" /><meta name="referrer" content="no-referrer"/><meta name="viewport" content="width=device-width,initial-scale=1"/><base href="'+e.origin+'" target="_blank" /><link rel="icon" type="image/x-icon" href="res/google.ico" /><link rel="stylesheet" type="text/css" href="data:text/css;base64,Ym9keSxlbWJlZCxpZnJhbWV7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowcHg7cGFkZGluZzowcHg7Ym9yZGVyOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO30K"/>',
r.body.appendChild(t),r.title="Google"}function C(){const e=t.createElement("iframe");e.setAttribute("id","anchor"),e.setAttribute("name","API Anchor"),e.setAttribute("width","1024"),e.setAttribute("height","768"),e.setAttribute("loading","lazy"),e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),e.setAttribute("credentialless","true"),e.setAttribute("referrerpolicy","no-referrer"),e.setAttribute("allowfullscreen","true"),e.setAttribute("allowpaymentrequest","true"),
e.addEventListener("load",(()=>{const t=e.contentWindow;null!=t?(t.stop(),t.focus(),t.location.replace("https://nettleweb.com/?m=1")):e.setAttribute("src","https://nettleweb.com/?m=1")}),{once:!0,passive:!0}),M.appendChild(e)}const E=e.location,A=e.history,x=n("error"),T=t.currentScript,S=t.head,M=t.body,j=n("install");"complete"!==t.readyState&&await new Promise((e=>{const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),setTimeout(e,100,null))}
;t.addEventListener("readystatechange",n,{passive:!0})})),e.focus(),Li._(e),t.title="NettleWeb";const L=Li.$;{const{_a:ke,_b:Ce,_c:Ee,_d:Ae,_e:xe,_f:Te,_g:Se,_h:Me,_i:je,_j:Le,_k:Ie,_l:_e,_m:Oe,_n:Pe,_o:Ne,_p:Fe,_q:Be,_r:De,_s:He,_t:Ue,_u:Re,_v:ze,_w:We,_x:qe,_y:Ve,_z:Ge,_Z:Ke}=ki;if((()=>{L(ke,Ce);const e=new URL(E.href),n=e.hostname,o=e.origin;switch(e.protocol){case"http:":if("localhost"!==n)return e.protocol="https:",E.replace(e.href),!1;break;case"https:":break;default:return!0}switch(n){
case"whitespider.cf":case"whitespider.tk":case"whitespider.dev":case"whitespider.web.app":case"whitespider.pages.dev":case"whitespider.firebaseapp.com":return e.host="nettleweb.com",e.hash="",e.search="",e.pathname="/",E.replace(e.href),!1}{const e=t[Ne](Me);if(null==e||e[Le](je)!==_e)return!0}for(const e of t[Oe](Pe)){switch(e[Le]("type")||""){case"":case"text/javascript":case"application/javascript":break;default:return e.remove(),!0}const t=e[Le]("src");if(!t||e.textContent)return e.remove(),
!0;const n=new URL(t.startsWith("//")?"https:"+t:t,o);if(n.origin!==o){if("https:"===n.protocol){const e=n.host.split("."),t=e.length;if("com"===e[t-1]){const n=e[t-2];if(n.indexOf("google")>=0||n.indexOf("firebase")>=0)continue}}return e.remove(),!0}}const a=null==T||T[Le](He)!==Ue+Re||T[Le](Ge)!==Ke||T[Le](qe)?.slice(0,7)!==Ve+"-",{q:i,r:s}=ki;return null==i||null==s||(ki.X=i+s+Si,ki.Y=i+s+ki.b+"/",
r('link[rel="canonical"]')[Le]("href").slice(0,Ee)!==Te||null==t[Ne](Fe)||null==t[Ne](Be)||t[De]!==ke.slice(2,11)||a)})()){L(xe,Ie);const Ye=(new DOMParser).parseFromString(ze,"application/xhtml+xml");Ye.title=Se;const $e=Ye.body;$e.innerHTML=Ae;{const Xe=Ye.createElement("button");Xe.innerHTML=We,Xe.setAttribute("type","button"),Xe.addEventListener("click",(()=>{E.replace(Te)}),{passive:!0}),$e.appendChild(Xe)}return void t.documentElement.replaceWith(Ye.documentElement)}
for(const Je of Object.getOwnPropertyNames(ki))2===Je.length&&delete ki[Je]}let I;try{const Ze=e.top;null!=Ze&&(I=Ze===e?e:Ze.origin===e.origin?Ze:null)}catch(Qe){}if(e!==I){if("null"===E.ancestorOrigins?.item(0)){const et=t.createElement("div");return et.style.padding="15px",et.textContent="Click here to continue",et.onclick=()=>{const e=t.createElement("embed");e.type="text/plain",e.width="1280",e.height="720",e.src="https://nettleweb.com/embed.html",k(e)},M.innerHTML="",void M.appendChild(et)
}if("https://nettleweb.com"!==E.origin)return void E.replace("https://nettleweb.com/embed.html")}const _=Object.freeze(Object.setPrototypeOf({length:0,clear:()=>{},setItem:()=>{},getItem:()=>null,removeItem:()=>{}},null)),O=e!==I||"https://nettleweb.com"!==origin&&"http://localhost:8000"!==origin,P=new WeakMap,N=new Map,F=function(){try{const{localStorage:t}=e;if(null==t)throw Error("Storage interface not available.");const n="___whitespider___",r=Date.now().toString(36);if(t.setItem(n,r),
t.getItem(n)!==r)throw Error("Storage test failed: value mismatch");return t}catch(e){return _}}(),B=n("frame"),D=n("frame-view"),H=n("content"),U=n("accn-btn"),R=n("game-btn"),z=n("strm-btn"),W=n("nmsg-btn"),q=n("side-menu"),V=n("bottom-widget");let G,K,Y,$,X,J,Z,Q,ee,te,ne,re,oe,ae=[],ie=null,de=null,ue=null,he=null,pe=null,fe=null,me=null,ge=null,be=null,ye=null;if(e.isSecureContext??"https:"===E.protocol){if(F!==_)try{const tt=await d("/manifest.json","no-cache");if(null!=tt){
const nt=JSON.parse(tt).version;if(nt!==F.getItem("__mf_version")){M.innerHTML="Updating contents...";for(const rt of await caches.keys())await caches.delete(rt);return F.setItem("__mf_version",nt),void E.reload()}n("version").textContent="v"+nt}K=F.getItem("__secrets_")||void 0}catch(ot){}else o("Warning: Cookies are blocked by your browser. Some features might not work properly, and your game data will NOT be saved.");try{const at=e.navigator.serviceWorker
;null!=at&&(await at.register("/sw.js",{type:"classic",scope:"/",updateViaCache:"none"}),await at.ready)}catch(st){}}e.onerror=(e,t,n,r,o)=>{const a="Unhandled error at "+(t||"unknown source")+" "+(n||"X")+":"+(r||"X")+"\n\n Message: "+o;x.textContent=a,x.style.display="block"},e.onkeydown=e=>{if(e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey)switch(e.key){case"h":case"q":e.preventDefault(),e.stopPropagation(),E.replace("https://www.google.com/webhp?igu=1");break;case"b":e.preventDefault(),
e.stopPropagation(),M.hasAttribute("style")?M.removeAttribute("style"):M.setAttribute("style","filter: blur(15px);")}},e.onpopstate=e=>{e.preventDefault(),e.stopPropagation(),o("Notice: Please press ctrl+Q to leave this website.")},e.onappinstalled=e=>{e.preventDefault(),e.stopPropagation(),j.style.display="none"},e.onbeforeinstallprompt=e=>{e.preventDefault(),e.stopPropagation(),j.style.display="block",j.onclick=()=>{e.prompt().catch((e=>{o("Failed to show install prompt. Message: "+e)}))}},
x.onclick=()=>{x.innerHTML="",x.style.display="none"},n("frame-close").onclick=()=>{B.innerHTML="",D.style.display="none"},n("frame-expand").onclick=e=>{if(t.fullscreenEnabled&&!e.ctrlKey)B.requestFullscreen({navigationUI:"hide"}).catch((e=>{o("Failed to enter fullscreen mode. Message: "+e)}));else{const e=B.firstElementChild;if(null!=e){const t=P.get(e)||"";t.startsWith("https://")&&k(y(t))}B.innerHTML="",D.style.display="none"}},n("content-page").outerHTML=ki.pages;{
const ct=r("link[rel*='icon']"),lt=n("overlay"),dt=n("notice"),ut=n("status"),ht=n("theme"),pt=n("image"),ft=n("font"),mt=n("cdn"),gt=n("backend"),bt=n("tab-cloaking"),yt=n("stealth-mode"),vt={path:"/K7e8UQ1JqnTj/",secure:!0,upgrade:!0,protocols:[],transports:["polling","websocket"],timestampParam:"x",addTrailingSlash:!0,timestampRequests:!0,rejectUnauthorized:!0,closeOnBeforeunload:!0};let wt,kt,Ct;function Et(e,t){$=new Qs(e,vt),ut.innerHTML="Connecting...",ut.style.color="#808000",
$.on("open",(()=>{ut.title="",ut.innerHTML="\u2713Connected",ut.style.color="#008000"})),$.on("close",(t=>{ut.title=t,ut.innerHTML="\u2715Disconnected",ut.style.color="#ff0000";for(const[,e]of N.values())e("API socket connection closed");N.clear(),setTimeout(Et,5e3,e,$.writeBuffer)})),$.on("message",(e=>{const t=new Uint8Array(e,0,e.byteLength);switch(t[0]){case 1:"string"!=typeof Y&&(Y=La.UTF_8.decode(t.subarray(1))),null!=de&&de();break;case 2:null!=ue&&ue(La.UTF_8.decode(t.subarray(1)));break
;case 3:t.byteLength>1&&(dt.textContent=La.UTF_8.decode(t.subarray(1)),dt.style.display="block");break;case 4:W.setAttribute("data-unread","");break;case 5:if(null!=fe){const e=JSON.parse(La.UTF_8.decode(t.subarray(1)));fe(e[0],e[1])}break;case 6:if(null!=me){const e=JSON.parse(La.UTF_8.decode(t.subarray(1)));me(e[0],e[1],e[2])}break;case 7:if(null!=ge){const e=JSON.parse(La.UTF_8.decode(t.subarray(1)));ge(e[0],e[1])}break;case 8:if(null!=be){const e=JSON.parse(La.UTF_8.decode(t.subarray(1)))
;be(e[0],e[1])}break;case 9:if(null!=ye){const e=JSON.parse(La.UTF_8.decode(t.subarray(1)));ye(e[0],e[1],e[2])}break;case 10:null!=he&&he(La.UTF_8.decode(t.subarray(1)));break;case 11:null!=pe&&pe(La.UTF_8.decode(t.subarray(1)));break;case 12:{const n=new DataView(e,1,8).getFloat64(0,!0),r=N.get(n);null!=r&&(r[0](La.NTON.decode(t.subarray(9))),N.delete(n))}break;case 13:{const n=new DataView(e,1,8).getFloat64(0,!0),r=N.get(n);null!=r&&(r[1](La.UTF_8.decode(t.subarray(9))),N.delete(n))}break
;default:L("[WARN] Received invalid message ID: ",t[0])}})),$.writeBuffer=t,null!=K&&$.send(La.UTF_8.encode("\x01"+K))}function At(e){let t;null==wt&&(wt=ki.X||""),null!=$?(t=$.writeBuffer,$.close()):t=[],Et(e||wt||"https://service.nettleweb.com/",t)}function xt(e){null==kt&&(kt=ki.Y||""),Z=e||kt||"https://cdn.nettleweb.com/Zetta/"}function Tt(e){"mono"===e?M.style.fontFamily='"Ubuntu Mono", monospace':M.style.removeProperty("font-family")}function St(e){
e.startsWith("data:image/jpeg;base64,")?M.style.background='url("'+e+'")':M.style.removeProperty("background")}function Mt(e){switch(null==Ct&&(Ct=t.createElement("link"),Ct.rel="stylesheet",Ct.type="text/css",Ct.href="index.dark.css",S.appendChild(Ct)),e){case"light":Ct.href="data:text/css;base64,",Ct.removeAttribute("media");break;case"dark":Ct.href="index.dark.css",Ct.removeAttribute("media");break;default:Ct.href="index.dark.css",Ct.media="all and (prefers-color-scheme: dark)"}}
function jt(e){switch(e){case"empty":X=!0,t.title="\u2060",ct.type="image/x-icon",ct.href="/res/empty.ico";break;case"google":X=!0,t.title="Google",ct.type="image/x-icon",ct.href="/res/google.ico";break;case"classroom":X=!0,t.title="Home",ct.type="image/png",ct.href="/res/classroom.png";break;default:X=!1,t.title="NettleWeb",ct.type="image/x-icon",ct.href="/favicon.ico"}}function Lt(e){switch(e){case"blank":t.onblur=t.onmouseleave=e=>{lt.hasAttribute("data-x")||(e.preventDefault(),
e.stopPropagation(),lt.setAttribute("data-x","1"))},t.onmousedown=t.ontouchstart=e=>{lt.hasAttribute("data-x")&&(e.preventDefault(),e.stopPropagation(),lt.removeAttribute("data-x"))},lt.innerHTML="",lt.removeAttribute("data-x");break;case"google":t.onblur=t.onmouseleave=e=>{lt.hasAttribute("data-x")||(e.preventDefault(),e.stopPropagation(),lt.setAttribute("data-x","1"))},t.onmousedown=t.ontouchstart=e=>{lt.hasAttribute("data-x")&&(e.preventDefault(),e.stopPropagation(),
lt.removeAttribute("data-x"))},lt.innerHTML='<iframe width="1024" height="768" allowfullscreen="true" allowpaymentrequest="true" name="Frame" allow="fullscreen payment" loading="lazy" scrolling="no" frameborder="0" credentialless="true" referrerpolicy="no-referrer" src="https://www.google.com/webhp?igu=1"></iframe>',lt.removeAttribute("data-x");break;default:lt.innerHTML="",lt.removeAttribute("data-x"),t.onblur=t.onmouseleave=t.onmousedown=t.ontouchstart=null}}ht.onchange=()=>{const e=ht.value
;Mt(e),F.setItem("__set_theme",e)},pt.onchange=async()=>{const e=pt.files?.item(0);if(null!=e){if(e.size>10485760)return void o("Error: Selected file is too large.");const t=await u(e,1280);if(null==t)return void o("Error: Failed to decode image file.");const n="data:image/jpeg;base64,"+La.Base64.encode(new Uint8Array(await t.arrayBuffer()));St(n),F.setItem("__set_image",n)}else St(""),F.setItem("__set_image","")},ft.onchange=()=>{const e=ft.value;Tt(e),F.setItem("__set_font",e)},gt.onblur=()=>{
const e=a(gt.value.trim());if(null!=e){const t=e.href;At(gt.value=t),F.setItem("__backendURL_",t)}else At(gt.value=""),F.removeItem("__backendURL_")},mt.onblur=()=>{const e=a(mt.value.trim());if(null!=e){const t=e.href;xt(mt.value=t),F.setItem("__cdn__",t)}else xt(mt.value=""),F.removeItem("__cdn__")},bt.onchange=()=>{const e=bt.value;jt(e),F.setItem("__set_tabc",e)},yt.onchange=()=>{const e=yt.value;Lt(e),F.setItem("__set_sm",e)},At(gt.value=F.getItem("__backendURL_")||""),
xt(mt.value=F.getItem("__cdn__")||""),Tt(ft.value=F.getItem("__set_font")||"normal"),St(F.getItem("__set_image")||""),Mt(ht.value=F.getItem("__set_theme")||"default"),jt(bt.value=F.getItem("__set_tabc")||"disabled"),Lt(yt.value=F.getItem("__set_sm")||"disabled")}{const It=r("#search>input");n("search").onsubmit=e=>{e.preventDefault(),e.stopPropagation();const t=It.value.trim();t.length>0&&p("/search.html?q="+encodeURIComponent(t))},n("clear-data").onclick=async()=>{
for(const e of await caches.keys())await caches.delete(e);F.clear(),E.reload()},n("clear-cache").onclick=async()=>{for(const e of await caches.keys())await caches.delete(e);E.reload()}}{
const _t=n("game-container"),Ot=n("comments"),Pt=n("player"),Nt=n("share"),Ft=n("like"),Bt=n("game-page"),Dt=n("ecode"),Ht=n("edit"),Ut=n("name"),Rt=n("type"),zt=n("tags"),Wt=n("date"),qt=n("user"),Vt=n("desc"),Gt=n("code"),Kt=n("lock"),Yt=n("comm"),$t=n("post"),Xt=n("e-name"),Jt=n("e-tags"),Zt=n("e-desc"),Qt=n("e-subm"),en=n("editor"),tn=n("s-games"),nn=n("loadmore"),rn=n("controller"),on=n("goto-games"),an=n("games-page"),sn=n("gnav-back"),cn=n("gnav-forward"),ln=n("gnav-page-no"),dn=n("gnav-page-count"),un=[]
;let hn="p",pn="all",fn="",mn=0;{const wn=n("game-search"),kn=r("#game-search>input");let Cn=0;wn.onsubmit=e=>{e.preventDefault(),e.stopPropagation(),fn=kn.value.trim().toLowerCase(),clearTimeout(Cn),bn()},kn.onblur=()=>{fn=kn.value.trim().toLowerCase(),clearTimeout(Cn),bn()},kn.oninput=()=>{clearTimeout(Cn),Cn=setTimeout((()=>{fn=kn.value.trim().toLowerCase(),bn()}),1e3)}}{const En=t.querySelectorAll("#game-category>button");for(const An of En)An.onclick=()=>{
for(const e of En)e.removeAttribute("data-current");pn=An.getAttribute("data-match")||"all",An.setAttribute("data-current",""),bn()}}{const xn=n("game-sort");xn.value=hn=F.getItem("__gamesortorder")||"p",xn.onchange=()=>{F.setItem("__gamesortorder",hn=xn.value),bn()}}function gn(){switch(pn){case"all":return 0===fn.length?[...J]:J.filter((e=>e.name.toLowerCase().indexOf(fn)>=0||e.tags.indexOf(fn)>=0));case"dos":
return J.filter((e=>"dos"===e.type&&(0===fn.length||e.name.toLowerCase().indexOf(fn)>=0||e.tags.indexOf(fn)>=0)));case"flash":return J.filter((e=>"flash"===e.type&&(0===fn.length||e.name.toLowerCase().indexOf(fn)>=0||e.tags.indexOf(fn)>=0)));case"html5":return J.filter((e=>"html5"===e.type&&(0===fn.length||e.name.toLowerCase().indexOf(fn)>=0||e.tags.indexOf(fn)>=0)));default:return J.filter((e=>e.tags.split(",").indexOf(pn)>=0&&(0===fn.length||e.name.toLowerCase().indexOf(fn)>=0)))}}
function bn(){mn=0,un.length=0;const e=gn();if(0===e.length)return sn.disabled=!0,cn.disabled=!0,void(_t.innerHTML="No matching results found :(");switch(hn){case"r":"Joey"===Y||"anonymous"===Y?e.sort(((e,t)=>e.desc.length-t.desc.length)):i(e);break;case"d":e.sort(((e,t)=>t.date-e.date));break;case"p":e.sort(((e,t)=>(t.count||0)-(e.count||0)))}for(let t=0;t<e.length;t+=100)un.push(e.slice(t,t+100));yn()}function yn(){ln.min="1",ln.max=dn.innerHTML=un.length+"",ln.value=mn+1+"",_t.innerHTML="",
sn.disabled=mn<1,mn>=un.length-1?cn.disabled=!0:cn.disabled=!1;for(const e of un[mn])_t.appendChild(b(e))}function vn({id:e,msg:n,uid:r,vip:a,user:i,icon:c},l){const d=t.createElement("div");d.setAttribute("id",e);const u=t.createElement("div");switch(u.className="user",u.textContent=i,a){case 3:u.setAttribute("data-vip","gold");break;case 4:u.setAttribute("data-vip","diamond")}{const e=t.createElement("img");e.src=s(c),e.alt="Avatar",e.width=32,e.height=32,e.loading="lazy",e.decoding="async",
e.draggable=!1,null!=r&&(e.style.cursor=u.style.cursor="pointer",e.onclick=u.onclick=()=>{ne(r).catch((e=>{o("Failed to open user profile. Message: "+e)}))}),d.appendChild(e)}const p=t.createElement("div");if(p.appendChild(u),n.length>0){const a=t.createElement("span");if(a.textContent=n,p.appendChild(a),null!=Y&&r===Y){{const r=t.createElement("button");r.type="button",r.title="Edit",r.className="edit",r.onclick=()=>{const i=t.createElement("div"),s=t.createElement("input");s.type="text",
s.value=n,s.required=!0,s.minLength=1,s.maxLength=1e3,s.placeholder="Message",s.autocomplete="off",i.appendChild(s);const c=t.createElement("button");c.type="button",c.title="Save",c.className="tick",i.appendChild(c);const d=t.createElement("button");d.type="button",d.title="Cancel",d.className="cross",i.appendChild(d),c.onclick=()=>{const t=s.value.trim();t.length<1?o("Comments cannot be empty."):t.length>1e3?o("Comments cannot be longer than 1000 characters."):h(61,[K,e,l,t]).then((()=>{n=t,
i.remove(),r.disabled=!1})).catch((e=>{o("Failed to update the comment. Message: "+e)}))},d.onclick=()=>{i.remove(),r.disabled=!1,a.innerHTML=n},r.disabled=!0,a.innerHTML="",a.appendChild(i)},d.appendChild(r)}{const n=t.createElement("button");n.type="button",n.title="Delete",n.className="delete",n.onclick=()=>{n.disabled=!0,h(61,[K,e,l,""]).catch((e=>{o("Failed to delete the comment. Message: "+e)}))},d.appendChild(n)}}}return d.appendChild(p),d}
te=async({name:e,type:n,tags:r,date:a,desc:l,file:d})=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),q.checked=!1,Bt.setAttribute("data-current",""),ie=()=>{ie=null,Kt.title="Enable scroll lock",Kt.style.backgroundImage='url("res/lock-open-w.svg")',O||(X||(t.title="NettleWeb"),A.replaceState(void 0,"","/")),fe=null,me=null,Pt.innerHTML="",H.style.overflow=""},Yt.value="",Xt.value="",Jt.value="",Zt.value="",tn.innerHTML="",
qt.innerHTML="",Ft.innerHTML="Like",Nt.innerHTML="Share",Ot.innerHTML="",en.style.display="none",Ht.style.display="block",rn.style.display="block";const u=a.toString(36);Gt.textContent=u,Ut.textContent=e,Rt.textContent=n.toUpperCase(),zt.textContent=r.replace(/\,/g,", ")||"None",Wt.textContent=c(a),Vt.textContent=l||"No information provided by the uploader.",Pt.appendChild(g(n,m(d,u)));{const n="/"+u,r="https://nettleweb.com"+n;O||(X||(t.title=e+" - NettleWeb"),A.replaceState(void 0,"",n)),
Dt.textContent='<embed type="text/plain" width="1280" height="720" src="'+r+'?hidegui=1" />',Nt.onclick=()=>{navigator.clipboard.writeText(r).then((()=>{Nt.innerHTML="Link copied!"})).catch((e=>{o("Failed to copy link to clipboard. Message: "+e)}))}}Ht.innerHTML="Edit Game Info",Ht.disabled=!1,Ht.onclick=()=>{null!=K?(Xt.value=e,Jt.value=r,Zt.value=l,en.style.display="block",Ht.style.display="none"):U.click()},Qt.onclick=()=>{
if(null==K)return void o("Invalid session. Please refresh this page and try again.");const e=Xt.value.replace(/\s+/g," ").trim();if(0===e.length)return void o("Game name must not be empty.");if(e.length>256)return void o("Game name must be less than 256 characters in length.");const t=Zt.value.replace(/\s+/g," ").trim(),n=Jt.value.trim().toLowerCase().split(",").map((e=>e.replace(/\s+/g," ").trim())).join(",")
;n.length>300?o("Game tags list must be less than 300 characters long in total."):t.length>5e3?o("Game description text must be less than 5000 characters in length."):(Qt.disabled=!0,h(23,[K,a,e,n,t]).then((()=>{Ht.disabled=!0,Ht.innerHTML="Requested. Pending review...",en.style.display="none",Ht.style.display="block"})).catch((e=>{o("Failed to submit request. Message: "+e)})).finally((()=>{Qt.disabled=!1})))},$t.onclick=()=>{if(null==K)return void U.click();const e=Yt.value.trim()
;e.length<1?o("Comments cannot be empty."):e.length>1e3?o("Comments cannot be longer than 1000 characters."):($t.disabled=!0,h(59,[K,a,e]).then((()=>{Yt.value=""})).catch((e=>{o("Failed to post comment. Message: "+e)})).finally((()=>{$t.disabled=!1})))};for(const e of i(J.filter((e=>!e.file.startsWith("https://")))).slice(3,9))e.date!==a&&tn.childElementCount<5&&tn.appendChild(b(e));{const e=await h(56,a);{const n=t.createElement("img");n.src=s(e.icon),n.alt="Avatar",n.width=32,n.height=32,
n.loading="eager",n.decoding="sync",n.draggable=!1,qt.appendChild(n)}{const n=t.createElement("div");switch(n.className="user",n.textContent=e.id,e.vip){case 3:n.setAttribute("data-vip","gold");break;case 4:n.setAttribute("data-vip","diamond")}qt.appendChild(n)}qt.onclick=()=>{ne(e.uid).catch((e=>{o("Failed to open user profile. Message: "+e)}))},Ft.textContent=e.likes+"",ae.indexOf(a)>=0?Ft.setAttribute("data-given",""):Ft.removeAttribute("data-given"),Ft.onclick=()=>{null!=K?(Ft.disabled=!0,
h(57,[K,a]).then((()=>{const t=ae.indexOf(a);t>=0?(ae.splice(t,1),Ft.removeAttribute("data-given"),Ft.textContent=--e.likes+""):(ae.push(a),Ft.setAttribute("data-given",""),Ft.textContent=++e.likes+"")})).catch((e=>{o("Failed to give a like. Message: "+e)})).finally((()=>{Ft.disabled=!1}))):U.click()}}{const e=await h(58,[a]);if(20===e.length){let t=e[e.length-1].id;nn.style.display="block",nn.onclick=()=>{nn.style.display="none",h(58,[a,t]).then((e=>{20===e.length&&(t=e[e.length-1].id,
nn.style.display="block");for(const t of e)Ot.appendChild(vn(t,a))})).catch((e=>{o("Failed to fetch comments. Message: "+e)}))}}for(const t of e)Ot.appendChild(vn(t,a))}fe=(e,t)=>{a===e&&Ot.prepend(vn(t,a))},me=(e,t,n)=>{if(a===e)for(const e of Ot.children)if(e.getAttribute("id")===t){const r=e.querySelector("div>span");null!=r?r.textContent=n:o("Failed to update comment: "+t);break}}},oe=async()=>{if(null==J){const e=await h(80)
;if(!Array.isArray(e)||e.length<1)throw Error("Remote returned invalid response");J=e}},sn.onclick=()=>{mn--,yn(),_t.scrollIntoView({behavior:"instant",inline:"start",block:"start"})},cn.onclick=()=>{mn++,yn(),_t.scrollIntoView({behavior:"instant",inline:"start",block:"start"})},ln.onblur=()=>{const e=parseInt(ln.value.trim(),10)||0;mn+1!==e&&(e<1||e>un.length?(ln.value="1",mn=0):mn=e-1,yn(),_t.scrollIntoView({behavior:"instant",inline:"start",block:"start"}))},ln.onchange=()=>{ln.blur()},
Kt.onclick=()=>{"Disable scroll lock"===Kt.title?(Kt.style.backgroundImage='url("res/lock-open-w.svg")',Kt.title="Enable scroll lock",H.style.overflow=""):(Kt.style.backgroundImage='url("res/lock-w.svg")',Kt.title="Disable scroll lock",H.style.overflow="hidden",Pt.scrollIntoView({block:"start",inline:"start",behavior:"instant"}))},Yt.onfocus=()=>{null==K&&U.click()},n("hide").onclick=()=>{rn.style.display="none"},n("e-canc").onclick=()=>{en.style.display="none",Ht.style.display="block"},
n("newtab").onclick=()=>{o("This feature has been temporarily disabled.")},n("fullscreen").onclick=()=>{if(t.fullscreenEnabled){const e=Pt.firstElementChild;null!=e&&e.requestFullscreen({navigationUI:"hide"}).catch((e=>{o("Failed to enter fullscreen mode. Message: "+e)}))}else o("Fullscreen mode is not supported in the current browsing context.")},R.onclick=on.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),
q.checked=!1,R.setAttribute("data-current",""),an.setAttribute("data-current",""),O||(X||(t.title="NettleWeb Games"),ie=v,A.replaceState(void 0,"","/games")),0===_t.childElementCount&&(R.disabled=!0,on.disabled=!0,oe().then((()=>{bn()})).catch((e=>{o("Failed to fetch the game index. Message: "+e)})).finally((()=>{R.disabled=!1,on.disabled=!1})))}}{
const Tn=r("#yt-search>input"),Sn=r("#yt-search>button"),Mn=n("p-load-more"),jn=n("yt-load-more"),Ln=n("goto-video"),In=n("videos-page"),_n=n("yt-results"),On=n("sserver"),Pn=n("service"),Nn=n("video"),Fn=n("s-videos"),Bn=n("p-videos"),Dn=n("video-page"),Hn=n("playlist-page"),Un=n("yt-filter-bar"),Rn=n("sort-filters"),zn=n("content-filters"),Wn=n("vname"),qn=n("vtags"),Vn=n("vdate"),Gn=n("vdesc"),Kn=n("vlike"),Yn=n("vview"),$n=n("origin"),Xn=n("privacy"),Jn=n("license"),Zn=n("category"),Qn=n("uploader"),er=n("pname"),tr=n("pprev"),nr=n("porigin"),rr=n("streams"),or=n("puploader"),ar=n("psubchannel"),ir=Object.create(null),sr=Object.create(null),cr=[],lr=[]
;let dr="0";function ur(e){switch(e.protocol){case"http:":case"https:":break;default:return null}const t=e.pathname;if(t.length<4)return null;switch(e.hostname){case"piped.video":case"youtube.com":case"www.youtube.com":case"youtube-nocookie.com":case"www.youtube-nocookie.com":return"/watch"===t?e.searchParams.get("v")||null:"/embed/"===t.slice(0,7)&&t.slice(7)||null;case"youtu.be":return t.slice(1)||null;default:return null}}function hr(e){
const t=Math.floor(e/3600).toString(10),n=Math.floor(e%3600/60).toString(10),r=Math.floor(e%60).toString(10);return(1===t.length?"0"+t:t)+":"+(1===n.length?"0"+n:n)+":"+(1===r.length?"0"+r:r)}function pr(e){const n=t.createElement("div"),{url:r,type:a}=e;{const r=t.createElement("img");r.alt="Preview",r.width=160,r.height=90,r.loading="lazy",r.decoding="async",r.draggable=!1,n.appendChild(r);const o=e.thumbnail||"";o.length>0?r.src=s(o):r.src="/res/preview.svg"}{const r=t.createElement("div");{
const n=t.createElement("div");n.className="title",n.textContent=e.name,r.appendChild(n)}{const n=t.createElement("div");n.className="desc",n.textContent=e.description||"",r.appendChild(n)}{let n="";switch(a){case"stream":{const{uploadDate:t,duration:r,uploader:o}=e;null!=t&&t.length>0&&(n+=t+"; "),r>0&&(n+=hr(r)+"; "),n+="Views: "+e.viewCount+"; Uploader: "+(o.name||"Unknown"),o.verified&&(n+=" \u2713")}break;case"channel":n=e.streams+" videos; Subscribers: "+e.subscribers,
e.verified&&(n+=" \u2713");break;case"playlist":n=e.streams+" videos; Uploader: "+(e.uploader||"Unknown")+"; Playlist: "+e.playlist;break;default:n="No information available for this item."}"0"===dr&&(n+="; Source: YouTube");const o=t.createElement("div");o.className="time",o.textContent=n,r.appendChild(o)}n.appendChild(r)}return n.onclick=()=>{switch(a){case"stream":yr(r);break;case"playlist":vr(r);break;default:L(a),o("Function not implemented!")}},n}function fr(e){Pn.disabled=!0,
Sn.disabled=!0,Tn.disabled=!0,jn.style.display="none",h(65,[e,dr]).then((t=>{const n=t.results;if(""===e){if(0===n.length)return void(_n.innerHTML="No suggestions are available at this moment.");_n.innerHTML=""}for(const e of n)_n.appendChild(pr(e));null!=(e=t.nextPageToken)&&(jn.style.display="block",jn.onclick=()=>{fr(e)})})).catch((e=>{o("Failed to fetch video list. Message: "+e)})).finally((()=>{Pn.disabled=!1,Sn.disabled=!1,Tn.disabled=!1}))}function mr(e,t){Pn.disabled=!0,Sn.disabled=!0,
Tn.disabled=!0,jn.style.display="none",h(40,[t,e,cr.join(","),lr.join(","),dr]).then((n=>{const r=n.results;if(""!==e||0!==r.length){for(const e of r)_n.appendChild(pr(e));null!=(e=n.nextPageToken)&&(jn.style.display="block",jn.onclick=()=>{mr(e,t)})}else _n.innerHTML="No matching results found :("})).catch((e=>{o("Failed to fetch search results. Message: "+e)})).finally((()=>{Pn.disabled=!1,Sn.disabled=!1,Tn.disabled=!1}))}function gr(e){const t=new MediaSource
;return t.addEventListener("sourceopen",(()=>{d(e,"no-cache").then((n=>{if(null==n)return t.endOfStream("network"),void L("Failed to fetch");if("#EXTM3U\n"!==n.slice(0,8))return t.endOfStream("decode"),void L("Invalid magic");{const t=e.indexOf("#",4);e=t>3?e.slice(t):""}const r=[],o=[];let a=0;for(const t of n.slice(8).split("\n",1e3))if(t.startsWith("#EXTINF:")){const e=t.indexOf(",",8);a=parseFloat(t.slice(8,e>=8?e:t.length))}else t.startsWith("https://")&&(r.push(s(t+e)),o.push(a))
;(async()=>{let e=null;for(const n of r){const r=await l(n);null!=r&&await new Promise(((n,o)=>{if(null==e){let n;switch(r[1]){case"video/mp4":n='video/mp4; codecs="opus"';break;case"video/mp2t":n='video/mp2t; codecs="mp4a.40.2"';break;case"video/webm":n='video/webm; codecs="vp8, vorbis"';break;default:n="audio/mpeg"}e=t.addSourceBuffer(n)}e.appendBuffer(r[0]),e.onupdateend=()=>{n(null),e.onerror=null,e.onupdateend=null},e.onerror=()=>{o("Source buffer decoding failed"),e.onerror=null,
e.onupdateend=null}}))}t.endOfStream()})()}))}),{once:!0,passive:!0}),URL.createObjectURL(t)}function br(e,t){Math.abs(t-e.currentTime)>.5&&(e.currentTime=t)}function yr(e){h(63,[e,dr]).then((n=>{if(null==n||"object"!=typeof n)return void o("Error: API server returned invalid response.");null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),Fn.innerHTML="",q.checked=!1,Dn.setAttribute("data-current",""),ie=()=>{ie=null,Nn.innerHTML=""}
;const r=n.id;"0"!==dr?(On.value="nettle",On.disabled=!0):On.disabled=!1,Wn.textContent=n.name,qn.textContent=n.tags.join(", ").trim()||"None",Vn.textContent=c(Date.parse(n.uploadDate)),Gn.textContent=n.description.replace(/\<br\>/g,"\n").replace(/<[^>]*>/g,"").trim()||"No information provided by the uploader.",Kn.textContent=n.likeCount,Yn.textContent=n.viewCount,$n.textContent=e,Xn.textContent=n.privacy,Jn.textContent=n.license||"Unknown",Zn.textContent=n.category||"Unknown";{
const{url:e,name:r,avatar:o,verified:a,subscribers:i}=n.uploader;Qn.innerHTML="";{const e=t.createElement("img");e.alt="Avatar",e.width=32,e.height=32,e.loading="lazy",e.decoding="async",e.draggable=!1,null!=o&&o.length>4?e.src=s(o):e.src="/res/user.svg",Qn.appendChild(e)}{const e=t.createElement("div");{const n=t.createElement("div");n.textContent=(r||"Unknown")+(a?" \u2713":""),e.appendChild(n)}if(i>0){const n=t.createElement("span");n.textContent=i+" subscribers",e.appendChild(n)}
Qn.appendChild(e)}Qn.onclick=()=>{w(e)}}{const e=n.relatedItems;if(e.length>0)for(const t of e)Fn.appendChild(pr(t));else Fn.innerHTML="No suggestions are available for this video."}(On.onchange=()=>{switch(On.value){case"none":Nn.innerHTML="",Nn.appendChild(y("https://www.youtube-nocookie.com/embed/"+r));break;case"piped":Nn.innerHTML="",Nn.appendChild(y("https://cf.piped.video/watch?v="+r));break;default:if("audio"===n.stream){const e=n.audioStreams[0]
;if(null==e)return void o("No streams are available for this audio.");const r=t.createElement("audio");r.volume=.8,r.autoplay=!0,r.controls=!0,r.preservesPitch=!1;{const t=s(e.url);r.src="1"===dr?gr(t):t}r.onerror=()=>{o("Error: Failed to load the audio stream.")},r.oncanplay=()=>{r.onerror=null,r.oncanplay=null},Nn.innerHTML="",Nn.appendChild(r)}else{const a=n.videoStreams[0];if(null==a)return void o("No streams are available for this video.");const i=t.createElement("video");i.src=s(a.url),
i.width=800,i.height=600,i.volume=.8,i.autoplay=!0,i.controls=!0,i.preservesPitch=!1,(e=n.thumbnail||"").length>4&&(i.poster=s(e)),i.onerror=()=>{"0"===dr?(o("Video stream failed to load. Falling back to official server."),i.replaceWith(y("https://www.youtube-nocookie.com/embed/"+r))):o("Error: Failed to load the video stream.")},i.oncanplay=()=>{if(i.onerror=null,i.oncanplay=null,a.videoOnly){const e=n.audioStreams[0];if(null!=e){const n=t.createElement("audio");n.src=s(e.url),n.volume=.8,
n.controls=!1,n.preservesPitch=!1,i.onplay=()=>{n.play().then((()=>{br(n,i.currentTime)})).catch((e=>{o("Failed to load audio stream: "+e)}))},i.onpause=()=>{n.pause(),br(n,i.currentTime)},i.onseeked=()=>{br(n,i.currentTime),!i.paused&&n.paused&&n.play()},i.onwaiting=()=>{n.pause()},i.onplaying=()=>{br(n,i.currentTime),n.play()},Nn.append(n)}}},Nn.innerHTML="",Nn.appendChild(i)}}})()})).catch((t=>{o("Failed to fetch video stream information. Message: "+t),
"0"===dr&&p("https://www.youtube-nocookie.com/embed/"+ur(new URL(e)))}))}function vr(e){h(66,[e,"",dr]).then((t=>{if(null!=t&&"object"==typeof t){null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),Bn.innerHTML="",q.checked=!1,Mn.style.display="none",Hn.setAttribute("data-current",""),er.textContent=t.name,nr.textContent=e,rr.textContent=t.streams,or.innerHTML="",ar.innerHTML="",wr(or,t.uploader),wr(ar,t.subchannel);{
const e=t.banner||"";e.length>0?tr.src=s(e):tr.src="/res/preview.svg"}{const n=t.results;if(n.length>0){for(const e of n)Bn.appendChild(pr(e));let r=t.nextPageToken;null!=r&&(Mn.style.display="block",Mn.onclick=()=>{Mn.style.display="none",h(66,[e,r,dr]).then((e=>{if(null!=e&&"object"==typeof e){for(const t of e.results)Bn.appendChild(pr(t));null!=(r=e.nextPageToken)&&(Mn.style.display="block")}else o("Error: API server returned invalid response.")}))})
}else Fn.innerHTML="No streams are found within this playlist."}}else o("Error: API server returned invalid response.")})).catch((e=>{o("Failed to fetch playlist information. Message: "+e)}))}function wr(e,{url:n,name:r,avatar:o}){if(e.innerHTML="",(n||="").length>4){{const n=t.createElement("img");n.alt="Avatar",n.width=32,n.height=32,n.loading="lazy",n.decoding="async",n.draggable=!1,(o||="").length>4?n.src=s(o):n.src="/res/user.svg",e.appendChild(n)}{const n=t.createElement("div")
;n.textContent=r||"Unknown",e.appendChild(n)}e.onclick=()=>{w(n)}}}function kr(e,n,r){e.innerHTML="";for(const o of n){const n=t.createElement("div"),a=n.children,i=o.id+":",s=o.single;n.textContent=o.name||"";for(const{id:e,name:c}of o.items){const o=t.createElement("button");o.type="button",o.textContent=c;const l=i+e;o.onclick=()=>{if(o.hasAttribute("data-selected")){for(let e=0;e<r.length;e++)if(r[e]===l){r.splice(e,1);break}o.removeAttribute("data-selected")}else{if(s){
for(let e=0;e<r.length;e++)r[e].startsWith(i)&&r.splice(e,1);for(const e of a)e.removeAttribute("data-selected")}o.setAttribute("data-selected",""),r.push(l)}},n.appendChild(o)}e.appendChild(n)}}Pn.onchange=()=>{o(null),_n.innerHTML="",cr.length=0,lr.length=0,dr=Pn.value,F.setItem("__yt_service",Pn.value),kr(Rn,ir[dr],cr),kr(zn,sr[dr],lr);const e=Tn.value.trim();e.length>0?mr("",e):fr("")},n("yt-search").onsubmit=e=>{e.preventDefault(),e.stopPropagation(),o(null),_n.innerHTML="",dr=Pn.value
;const t=Tn.value.trim(),n=a(t);if(null!=n){const e=ur(n);null!=e?yr("https://www.youtube.com/watch?v="+e):o("Error: Failed to parse video ID from the provided URL.")}else mr("",t)},n("toggle-filter").onclick=()=>{if(Un.hasAttribute("style")){cr.length=0,lr.length=0;for(const e of Rn.querySelectorAll("button[data-selected]"))e.removeAttribute("data-selected");for(const e of zn.querySelectorAll("button[data-selected]"))e.removeAttribute("data-selected");Un.removeAttribute("style")
}else Un.style.display="block"},z.onclick=Ln.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),q.checked=!1,z.setAttribute("data-current",""),In.setAttribute("data-current",""),O||(X||(t.title="NettleWeb Videos"),ie=v,A.replaceState(void 0,"","/videos")),0===Pn.childElementCount&&(z.disabled=!0,Ln.disabled=!0,h(78).then((e=>{for(const n of e){const e=t.createElement("option"),r=n.id+"";e.value=r,e.text=n.name,
Pn.appendChild(e),ir[r]=n.sorts,sr[r]=n.filters}dr=Pn.value=F.getItem("__yt_service")||"0",kr(Rn,ir[dr],cr),kr(zn,sr[dr],lr),fr("")})).catch((e=>{o("Failed to get available services list. Message: "+e)})).finally((()=>{z.disabled=!1,Ln.disabled=!1})))}}{const Cr=n("addr"),Er=n("ub-mode");function Ar(t){switch(Er.value){case"raw-embed":p(t);break;case"prq-embed":!function(t){const n=(I||e).PaymentRequest;"function"==typeof n?new n([{data:[t],supportedMethods:"https://nettleweb.com/res/pay.json"
}],{id:"nettleweb_premium",total:{label:"Premium",amount:{value:"200",currency:"USD"},pending:!0},modifiers:[],displayItems:[]}).show():o("Error: Your browser does not support this feature.")}(t);break;case"puppeteer":h(41,[t,20]).then((e=>{p(e)})).catch((e=>{o("Failed to create new session. Message: "+e)}));break;default:h(41,[t,10]).then((e=>{p(e)})).catch((e=>{o("Failed to create new session. Message: "+e)}))}}function xr(e,t){const n=a(e=e.replace(/\s+/g," ").trim());if(null!=n)return n.href
;if(e.includes(" "))return t+encodeURIComponent(e);const r=e.indexOf("/");if(0===r)return t+encodeURIComponent(e);if(r>0){if(Tr(e.substring(0,r)))return"https://"+e}else if(Tr(e)&&e.includes("."))return"https://"+e;return t+encodeURIComponent(e)}function Tr(e){e=e.toLowerCase();for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if((n<48||n>57)&&(n<97||n>122)&&45!==n&&46!==n)return!1}return!0}Er.value=F.getItem("__unbl_mode_")||"raw-embed-v2",Er.onchange=()=>{F.setItem("__unbl_mode_",Er.value)},
Cr.onkeydown=e=>{if("Enter"===e.key){e.preventDefault(),e.stopPropagation();const t=Cr.value.trim();t.length>0&&Ar(xr(t,"https://www.google.com/search?igu=1&q="))}},n("ub-google").onclick=()=>{Ar("https://www.google.com/webhp?igu=1")},n("ub-discord").onclick=()=>{Ar("https://discord.com/")},n("ub-facebook").onclick=()=>{Ar("https://www.facebook.com/")},n("ub-instagram").onclick=()=>{Ar("https://www.instagram.com/")}}{const Sr=n("emulator"),Mr=n("core"),jr=n("bios"),Lr=n("game-rom")
;Sr.onchange=()=>{switch(Sr.value){case"ps2":Mr.value="ps2",Mr.disabled=!0,jr.disabled=!0,Lr.accept=".bin, .iso, application/octet-stream";break;case"swf":Mr.value="swf",Mr.disabled=!0,jr.disabled=!0,Lr.accept=".swf";break;case"dos":Mr.value="dos",Mr.disabled=!0,jr.disabled=!0,Lr.accept=".jsdos, .zip";break;default:Mr.value="nes",Mr.disabled=!1,jr.disabled=!1,Lr.removeAttribute("accept")}},n("startemu").onclick=()=>{const e=Lr.files?.item(0)
;if(null==e)return void o("Please choose a valid game ROM file.");const t=Sr.value;if("emu"===t){const n=jr.files?.item(0);B.appendChild(g(t,[URL.createObjectURL(e),null==n?"":URL.createObjectURL(n),Mr.value]))}else B.appendChild(g(t,URL.createObjectURL(e)));D.style.display="block"}}{const Ir=n("upload-message"),_r=n("game-name"),Or=n("game-type"),Pr=n("game-file"),Nr=n("game-tags"),Fr=n("game-desc"),Br=n("upload-test"),Dr=n("test-frame"),Hr=n("upload");let Ur=!1;async function Rr(e,t,n){
if(null==K)throw Error("Invalid user context");let r;for(let o=0;o<10;o++)try{return void await h(64,[K,e,t,n])}catch(e){r=e}throw Error("Too many unsuccessful attempts. Message from the last attempt: "+r)}Ir.onclick=()=>{Ir.innerHTML="",Ir.style.display="none"},Pr.onchange=()=>{Ur=!1,Dr.innerHTML="",Br.style.display="none"},Or.onchange=()=>{switch(Or.value){case"html5":Pr.accept=".zip";break;case"flash":Pr.accept=".swf";break;case"dos":Pr.accept=".jsdos";break;default:
Pr.removeAttribute("accept")}},Hr.onclick=()=>{if(null==K)return void o("Invalid session. Please refresh this page and try again.");const e=_r.value.replace(/\s+/g," ").trim();if(0===e.length)return void o("Game name must not be empty.");if(e.length>256)return void o("Game name must be less than 256 characters in length.");const t=Pr.files?.item(0);if(null==t)return void o("Please choose a valid game file.");const n=t.size;if(0===n)return void o("Uploading empty game files is not allowed.")
;if(n>125829120)return void o("Uploading files larger than 120MB is not supported currently.");const r=Or.value,a=Fr.value.replace(/\s+/g," ").trim(),i=Nr.value.trim().toLowerCase().split(",").map((e=>e.replace(/\s+/g," ").trim())).join(",");if(i.length>300)o("Game tags list must be less than 300 characters long in total.");else if(a.length>5e3)o("Game description text must be less than 5000 characters in length.");else{switch(r){case"dos":case"flash":
if(!Ur)return Dr.appendChild(g(r,URL.createObjectURL(t))),Br.style.display="block",void(Ur=!0);break;case"html5":break;default:return void o("Please select a valid game type.")}Hr.disabled=!0,Ir.innerHTML="Processing...",Ir.style.color="#808080",Ir.style.display="block",(async()=>{const o=await h(13,[K,e,r,i,a]);for(let e=0;e<n;){const r=e,a=e+=10485760;if(a>=n){const e=t.slice(r,n,"application/octet-stream");await Rr(o,await e.arrayBuffer(),!0)}else{
const e=t.slice(r,a,"application/octet-stream");await Rr(o,await e.arrayBuffer(),!1)}}})().then((()=>{Ir.innerHTML="\u2713Success!",Ir.style.color="#008000",Ir.style.display="block",Ur=!1,Dr.innerHTML="",Br.style.display="none",_r.value="",Pr.value="",Nr.value="",Fr.value="",Hr.disabled=!1})).catch((e=>{o("Failed to upload the selected game file. Message: "+e),Ir.innerHTML="\u2715Error",Ir.style.color="#ff0000",Ir.style.display="block",Hr.disabled=!1}))}}}{
const zr=n("picker"),Wr=n("msglist"),qr=n("history"),Vr=n("channels"),Gr=n("ufile"),Kr=n("messages"),Yr=Kr.children,$r=n("chname"),Xr=n("chinfo"),Jr=n("sendmsg"),Zr=n("global"),Qr=n("friends"),eo=n("chatgpt"),to=n("starter");{const no=n("chat"),ro=n("sidemenu"),oo=n("toggle");oo.onclick=()=>{"Close"===oo.title?(oo.title="Menu",no.style.width="100%",ro.style.display="none"):(oo.title="Close",no.removeAttribute("style"),ro.removeAttribute("style"))},M.clientWidth<800&&(oo.title="Menu",
no.style.width="100%",ro.style.display="none")}{const ao=n("dm-un"),io=n("dm-btn");io.onclick=async()=>{const e=ao.value.trim().toLowerCase();if(e.length<4||e.length>20||!/^[\-a-z0-9]+$/.test(e))o("Please provide a valid username.");else{io.disabled=!0;try{await ee(await h(1,"@"+e))}catch(e){o("Failed to started new chat. Message: "+e)}ao.value="",io.disabled=!1}}}{
const so=n("chat-btn"),co=n("goto-chat"),lo=n("community-page"),uo=Vr.children,ho=Wr.children,po=n("grid"),fo=n("group-page"),mo=n("gredit"),bo=n("grname"),yo=n("grcode"),vo=n("grlink"),wo=n("grusers");let ko,Co,Eo,Ao,xo,To=!1,So=!1;function Mo({id:e,uid:n,vip:r,icon:a},i){const c=t.createElement("div"),l=t.createElement("img");l.src=s(a),l.alt="Avatar",l.width=48,l.height=48,l.loading="lazy",l.decoding="async",l.draggable=!1,c.appendChild(l);{const a=t.createElement("div")
;switch(a.className="user",a.textContent=e,r){case 3:a.setAttribute("data-vip","gold");break;case 4:a.setAttribute("data-vip","diamond")}l.onclick=a.onclick=()=>{ne(n).catch((e=>{o("Failed to open user profile. Message: "+e)}))},c.appendChild(a)}if(i){const e=t.createElement("span");e.innerHTML="Owner",c.appendChild(e)}if(null!=Ao&&So){const e=t.createElement("button");e.type="button",e.title="Kick user",e.className="cross",e.onclick=()=>{h(75,[K,Ao,n]).then((()=>{c.remove()})).catch((e=>{
o("Failed to kick this user. Message: "+e)}))},c.appendChild(e)}return c}function jo({id:e,msg:n,uid:r,vip:a,user:i,icon:c,files:l}){const d=t.createElement("div");d.setAttribute("id",e);const u=t.createElement("div");switch(u.className="user",u.textContent=i,a){case 3:u.setAttribute("data-vip","gold");break;case 4:u.setAttribute("data-vip","diamond")}{const e=t.createElement("img");e.src=s(c),e.alt="Avatar",e.width=32,e.height=32,e.loading="lazy",e.decoding="async",e.draggable=!1,
null!=r&&(e.style.cursor=u.style.cursor="pointer",e.onclick=u.onclick=()=>{ne(r).catch((e=>{o("Failed to open user profile. Message: "+e)}))}),d.appendChild(e)}const p=t.createElement("div");if(p.appendChild(u),n.length>0){const a=t.createElement("span");if(a.textContent=n,p.appendChild(a),null!=Y&&(So||r===Y)){{const r=t.createElement("button");r.type="button",r.title="Edit",r.className="edit",r.onclick=()=>{const i=t.createElement("div"),s=t.createElement("input");s.type="text",s.value=n,
s.required=!0,s.minLength=1,s.maxLength=1e3,s.placeholder="Message",s.autocomplete="off",i.appendChild(s);const c=t.createElement("button");c.type="button",c.title="Save",c.className="tick",i.appendChild(c);const l=t.createElement("button");l.type="button",l.title="Cancel",l.className="cross",i.appendChild(l),c.onclick=()=>{const t=s.value.trim()
;t.length<1?o("Messages cannot be empty."):t.length>1e3?o("Messages cannot be longer than 1000 characters."):null!=K&&null!=Ao?h(62,[K,e,Ao,t]).then((()=>{n=t,i.remove(),r.disabled=!1})).catch((e=>{o("Failed to update message. Reason: "+e)})):o("Invalid context. Please refresh this page.")},l.onclick=()=>{i.remove(),r.disabled=!1,a.innerHTML=n},r.disabled=!0,a.innerHTML="",a.appendChild(i)},d.appendChild(r)}{const n=t.createElement("button");n.type="button",n.title="Delete",n.className="delete",
n.onclick=()=>{null!=K&&null!=Ao?(n.disabled=!0,h(62,[K,e,Ao,""]).catch((e=>{o("Failed to delete message. Reason: "+e)}))):o("Invalid context. Please refresh this page.")},d.appendChild(n)}}}for(const{name:e,type:n,url:r}of l){const o=s(r);{const n=t.createElement("a");n.rel="noopener nofollow",n.href=o,n.target="_blank",n.download=e,n.textContent=e||"file",p.appendChild(n)}switch(n.split("/",2)[0]){case"image":{const e=t.createElement("img");e.src=o,e.alt="Attachment",e.width=500,e.height=500,
e.loading="lazy",e.decoding="async",e.draggable=!1,p.appendChild(e)}break;case"audio":{const e=t.createElement("audio");e.src=o,e.volume=.8,e.preload="metadata",e.controls=!0,p.appendChild(e)}break;case"video":{const e=t.createElement("video");e.src=o,e.muted=!0,e.width=500,e.height=500,e.volume=.8,e.autoplay=!0,e.controls=!0,p.appendChild(e)}}}return d.appendChild(p),d}function Lo(e,n,r,a,i=!1){const s=t.createElement("div");s.setAttribute("id",e),i&&s.setAttribute("data-unread","");{
const e=t.createElement("img");e.src="/res/group.svg",e.alt="Group",e.width=32,e.height=32,e.loading="lazy",e.decoding="async",e.draggable=!1,s.appendChild(e)}{const e=t.createElement("div");e.textContent=n,s.appendChild(e)}return s.onclick=()=>{To||(To=!0,s.removeAttribute("data-unread"),Kr.innerHTML="<div>Loading...</div>",So=null!=Y&&a[0]===Y,h(28,[K,Ao=e]).then((t=>{xo=t[t.length-1]?.id,Kr.innerHTML="";for(const e of t)Kr.prepend(jo(e));Kr.scrollTo({behavior:"instant",left:0,
top:Kr.scrollHeight});for(const e of ho)e.removeAttribute("data-current");Xr.setAttribute("data-op","grinfo"),Xr.title="View channel info",Xr.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");fo.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"}),po.textContent=e,bo.textContent=n,yo.textContent=r,vo.textContent="https://nettleweb.com/join/"+r,mo.style.display=So?"block":"none",h(72,[K,e,0]).then((t=>{if(wo.innerHTML="",
t.length>0){let n=0;wo.appendChild(Mo(t.shift(),!0));for(const e of t)wo.appendChild(Mo(e,!1));wo.onscrollend=()=>{wo.scrollTop>=wo.scrollHeight-wo.clientHeight&&n>=0&&h(72,[K,e,n+=10]).then((e=>{e.length<10&&(n=-1);for(const t of e)wo.appendChild(Mo(t,!1))}))}}})).catch((e=>{o("Failed to fetch the list. Message: "+e)}))},s.setAttribute("data-current",""),to.style.display="none",$r.textContent=n,To=!1})).catch((e=>{o("Failed to initialize channel. Message: "+e),To=!1})))},s}
function Io(e,n,r,a,i,c=!1){const l=t.createElement("div");l.setAttribute("id",e),l.setAttribute("data-user",n),c&&l.setAttribute("data-unread","");{const e=t.createElement("img");e.src=s(i),e.alt="Avatar",e.width=32,e.height=32,e.loading="lazy",e.decoding="async",e.draggable=!1,l.appendChild(e)}{const e=t.createElement("div");switch(e.className="user",e.textContent=a,r){case 3:e.setAttribute("data-vip","gold");break;case 4:e.setAttribute("data-vip","diamond")}l.appendChild(e)}
return l.onclick=()=>{To||(To=!0,So=!1,l.removeAttribute("data-unread"),Kr.innerHTML="<div>Loading...</div>",h(28,[K,Ao=e]).then((e=>{xo=e[e.length-1]?.id,Kr.innerHTML="";for(const t of e)Kr.prepend(jo(t));Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight});for(const e of ho)e.removeAttribute("data-current");Xr.setAttribute("data-op","profile"),Xr.title="View user profile",Xr.onclick=()=>{ne(n).catch((e=>{o("Failed to open user profile. Message: "+e)}))},
l.setAttribute("data-current",""),to.style.display="none",$r.textContent=a,To=!1})).catch((e=>{o("Failed to initialize channel. Message: "+e),To=!1})))},l}function _o(e,t){if(Ao===e){const e=Kr.scrollTop,n=Kr.scrollHeight-Kr.clientHeight;Kr.appendChild(jo(t)),e>=n-100&&Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight})}}function Oo(e,t){if(Ao===e)for(const e of Yr)if(e.getAttribute("id")===t){e.remove();break}}function Po(e,t,n){if(Ao===e)for(const e of Yr)if(e.getAttribute("id")===t){
const r=e.querySelector("div>span");null!=r?r.textContent=n:o("Failed to update message: "+t);break}}async function No(e){if(Zr.disabled=!0,Qr.disabled=!0,eo.disabled=!0,so.disabled=!0,co.disabled=!0,Gr.disabled=!0,Jr.disabled=!0,0===uo.length)try{const e=await h(22);for(const n of e)if("#"===n[0]){const e=t.createElement("span");e.textContent=n.slice(1),Vr.appendChild(e)}else{const[e,r,a]=n.split(":",3),i=t.createElement("div");i.setAttribute("id",r),i.textContent=e,i.onclick=()=>{To||(To=!0,
So=!1,Kr.innerHTML="<div>Loading...</div>",h(7,[Ao=r]).then((t=>{xo=t[t.length-1]?.id,Kr.innerHTML="";for(const e of t)Kr.prepend(jo(e));Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight});for(const e of uo)e.removeAttribute("data-current");Gr.style.display="f"===a?"block":"none",i.setAttribute("data-current",""),$r.textContent=e,To=!1})).catch((e=>{o("Failed to initialize channel. Message: "+e),To=!1})))},Vr.appendChild(i)}}catch(e){
return void o("Failed to load channel list. Message: "+e)}if(Ao=void 0,Kr.innerHTML="",$r.innerHTML="Server",to.style.display="none",Xr.setAttribute("data-op","discord"),Xr.title="Open chat in Discord",Xr.onclick=()=>{d("https://discord.com/api/guilds/998658232207814667/widget.json","no-cache").then((e=>{null!=e&&(e=JSON.parse(e).instant_invite),w(e||"https://discord.gg/djdH3kVd4v")}))},uo.length>0)if(Kr.onscrollend=()=>{!To&&null!=Ao&&Kr.scrollTop<100&&(To=!0,h(7,[Ao,xo]).then((e=>{
if(e.length>0){const t=Kr.scrollHeight;xo=e[e.length-1].id;for(const t of e)Kr.prepend(jo(t));Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight-t})}})).catch((e=>{o("Failed to fetch messages. Reason: "+e)})).finally((()=>{To=!1})))},Jr.onkeydown=e=>{if("Enter"===e.key){if(e.preventDefault(),e.stopPropagation(),null==K)return void U.click();const t=Jr.value.trim();if(t.length<1)return void o("Messages cannot be empty.")
;if(t.length>1e3)return void o("Messages cannot be longer than 1000 characters.");if(null==Ao)return void o("Please select a valid channel for posting messages.");Jr.value="",Jr.disabled=!0,h(8,[K,Ao,t]).then((()=>{Jr.disabled=!1})).catch((e=>{o("Failed to post text message. Message: "+e),Jr.disabled=!1}))}},ge=_o,be=Oo,ye=Po,null!=e){for(const t of uo)if(t.getAttribute("id")===e){t.click();break}
}else Vr.querySelector("div").click();else Vr.innerHTML="No public channels are available at this moment.",Jr.onkeydown=Kr.onscrollend=ge=be=ye=null;Jr.onfocus=e=>{e.preventDefault(),e.stopPropagation(),null==K&&U.click()},Qr.removeAttribute("data-current"),eo.removeAttribute("data-current"),Zr.setAttribute("data-current",""),Wr.removeAttribute("style"),qr.removeAttribute("style"),Vr.style.display="block",Zr.disabled=!1,Qr.disabled=!1,eo.disabled=!1,so.disabled=!1,co.disabled=!1,Gr.disabled=!1,
Jr.disabled=!1}async function Fo(){if(null!=K&&null!=Y){Zr.disabled=!0,Qr.disabled=!0,eo.disabled=!0,so.disabled=!0,co.disabled=!0,Gr.disabled=!0,Jr.disabled=!0,Ao=void 0,Wr.innerHTML="",Kr.innerHTML="",$r.innerHTML="Messages",to.style.display="block",Xr.removeAttribute("data-op");try{for(const{id:e,name:t,mode:n,code:r,users:o,unread:a}of await h(27,K))if("0"===n){const{id:t,uid:n,vip:r,icon:i}=await h(1,o[0]);Wr.appendChild(Io(e,n,r,t,i,a))}else Wr.appendChild(Lo(e,t,r,o,a))}catch(e){
return void o("Failed to load friends list. Message: "+e)}ge=_o,be=Oo,ye=Po,Kr.onscrollend=()=>{!To&&null!=Ao&&Kr.scrollTop<100&&(To=!0,h(28,[K,Ao,xo]).then((e=>{if(e.length>0){const t=Kr.scrollHeight;xo=e[e.length-1].id;for(const t of e)Kr.prepend(jo(t));Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight-t})}})).catch((e=>{o("Failed to fetch messages. Reason: "+e)})).finally((()=>{To=!1})))},Jr.onkeydown=e=>{if("Enter"===e.key){e.preventDefault(),e.stopPropagation()
;const t=Jr.value.trim();if(t.length<1)return void o("Messages cannot be empty.");if(t.length>1e3)return void o("Messages cannot be longer than 1000 characters.");if(null==Ao)return void o("Please select a valid channel before posting messages.");Jr.value="",Jr.disabled=!0,(async()=>{if(Ao.startsWith("tmp$")){const e=Ao.slice(4);try{const t=Io(Ao=await h(69,[K,e]),e,Eo,Co||"",ko||"/res/user.svg");t.setAttribute("data-current",""),Wr.appendChild(t)}catch(e){
return void o("Failed to create new channel. Message: "+e)}Kr.innerHTML=""}try{await h(8,[K,Ao,t])}catch(e){o("Failed to post text message. Reason: "+e)}})().then((()=>{Jr.disabled=!1}))}},Zr.removeAttribute("data-current"),eo.removeAttribute("data-current"),Qr.setAttribute("data-current","1"),qr.removeAttribute("style"),Vr.removeAttribute("style"),Wr.style.display="block",Gr.style.display="block",Zr.disabled=!1,Qr.disabled=!1,eo.disabled=!1,so.disabled=!1,co.disabled=!1,Gr.disabled=!1,
Jr.disabled=!1}else U.click()}{const Bo=n("gr-name"),Do=n("gr-code"),Ho=n("gr-join"),Uo=n("gr-create");Bo.onblur=()=>{const e=Bo.value.trim();e.length>0&&(Bo.value=e)},Do.onblur=()=>{const e=Do.value.trim();e.length>0&&(Do.value=e)},Ho.onclick=()=>{const e=Do.value.trim();12===e.length?(Ho.disabled=!0,h(70,[K,e]).then((({id:t,name:n,users:r})=>{{const o=Lo(Ao=t,n,e,r);o.setAttribute("data-current",""),Wr.appendChild(o),o.click()}to.style.display="none"})).catch((e=>{
o("Failed to join group chat. Message: "+e)})).finally((()=>{Ho.disabled=!1}))):o("The invite code must have exactly 12 characters.")},Uo.onclick=()=>{const e=Bo.value.trim();e.length<2?o("Group name must contain at least 2 characters."):e.length>30?o("Group name cannot be longer than 30 characters."):e.indexOf(",",0)>=0||e.indexOf(";",0)>=0?o("Group names are not allowed to include commas and semicolons."):(Uo.disabled=!0,h(68,[K,e]).then((({id:e,name:t,code:n,users:r})=>{{
const o=Lo(Ao=e,t,n,r);o.setAttribute("data-current",""),Wr.appendChild(o),o.click()}to.style.display="none"})).catch((e=>{o("Failed to create new group. Message: "+e)})).finally((()=>{Uo.disabled=!1})))}}{const Ro=t.createElement("input");Ro.type="file",Ro.multiple=!0,Ro.onchange=async()=>{if(null==Ao)return void o("Please select a valid channel before uploading files.");const e=Ro.files;if(null!=e&&e.length>0){
if(e.length>10)return void o("Uploading more than 10 files at once is not supported.");Gr.disabled=!0,Jr.disabled=!0;try{const t=[];let n=0;for(const r of e){const e=r.size;if(e<1)throw Error("Empty files are not allowed.");if(e>1e7)throw Error("Files larger than 10MB are not supported.");if((n+=e)>12e6)throw Error("The total size of a single upload cannot exceed 12MB.");t.push({name:r.name,attachment:await r.arrayBuffer()})}await h(12,[K,Ao,t])}catch(e){o("Failed to upload file. Message: "+e)}
Ro.value="",Gr.disabled=!1,Jr.disabled=!1}},Gr.onclick=()=>{Ro.click()}}n("grleave").onclick=()=>{null!=Ao&&"m"===Ao[0]?h(71,[K,Ao]).then((()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");q.checked=!1,lo.setAttribute("data-current",""),so.setAttribute("data-current",""),H.scrollTo({top:0,left:0,behavior:"instant"}),Fo()})).catch((e=>{o("Failed to leave the group. Message: "+e)})):o("The selected channel is not valid.")},mo.onclick=()=>{
const e=t.createElement("div"),n=t.createElement("input");n.type="text",n.value=bo.innerHTML,n.required=!0,n.minLength=2,n.maxLength=30,n.placeholder="Group Name",n.autocomplete="off",e.appendChild(n);const r=t.createElement("button");r.type="button",r.title="Save",r.className="tick",e.appendChild(r);const a=t.createElement("button");a.type="button",a.title="Cancel",a.className="cross",e.appendChild(a),n.onblur=()=>{const e=n.value.trim();e.length>0&&(n.value=e)},r.onclick=()=>{
if(null==Ao||"m"!==Ao[0]||!So)return void o("The selected channel is not valid.");const t=n.value.trim();t.length<2?o("Group name must contain at least 2 characters."):t.length>30?o("Group name cannot be longer than 30 characters."):t.indexOf(",",0)>=0||t.indexOf(";",0)>=0?o("Group names are not allowed to include commas and semicolons."):h(74,[K,Ao,t]).then((()=>{e.replaceWith(mo),bo.textContent=t})).catch((e=>{o("Failed to update group name. Message: "+e)}))},a.onclick=()=>{e.replaceWith(mo)},
mo.replaceWith(e),n.select()},so.onclick=co.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");q.checked=!1,lo.setAttribute("data-current",""),so.setAttribute("data-current",""),H.scrollTo({top:0,left:0,behavior:"instant"}),null==Ao&&No()},Qr.onclick=()=>{Fo()},Zr.onclick=()=>{No()},ee=async({id:e,uid:t,vip:n,icon:r})=>{await Fo(),to.style.display="none",null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");q.checked=!1,
lo.setAttribute("data-current",""),so.setAttribute("data-current",""),H.scrollTo({top:0,left:0,behavior:"instant"});for(const e of ho)if(e.getAttribute("data-user")===t)return void e.click();Ao="tmp$"+t,Eo=n||void 0,ko=r,$r.innerHTML=Co=e,Kr.innerHTML="<div>Send a message to start a new chat with "+e+".</div>";for(const e of ho)e.removeAttribute("data-current")},re=async e=>{if("m"===e[0]){await Fo(),to.style.display="none";for(const t of ho)if(t.getAttribute("id")===e){t.click();break}
}else await No(e);null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");q.checked=!1,lo.setAttribute("data-current",""),so.setAttribute("data-current",""),H.scrollTo({top:0,left:0,behavior:"instant"})}}{const zo=qr.children;let Wo=null;const qo=JSON.parse(F.getItem("__chats")||"[]");function Vo({role:e,text:n}){const r=t.createElement("div");{const n=t.createElement("img");n.width=32,n.height=32,n.loading="lazy",n.decoding="async",n.draggable=!1,"u"===e?(n.src="res/user.svg",
n.alt="User"):(n.src="res/bot.svg",n.alt="Assistant"),r.appendChild(n)}{const e=t.createElement("div");e.textContent=n,r.appendChild(e)}return Kr.appendChild(r),r}function Go(e){const n=e.title;if("string"!=typeof n)throw Error("Invalid chat object");const r=t.createElement("div");r.onclick=()=>{for(const e of zo)e.removeAttribute("data-current");r.setAttribute("data-current","1"),Kr.innerHTML="",$r.textContent=n;for(const t of Wo=e.msgs)Vo(t);Kr.scrollTo({behavior:"instant",left:0,
top:Kr.scrollHeight})};{const e=t.createElement("div");e.textContent=n,r.appendChild(e)}{const n=t.createElement("button");n.type="button",n.title="Delete",n.onclick=t=>{t.preventDefault(),t.stopPropagation();const n=qo.indexOf(e,0);n>=0&&(Wo=null,r.remove(),qo.splice(n,1),Kr.innerHTML="",F.setItem("__chats",JSON.stringify(qo,void 0,0)))},r.appendChild(n)}return qr.insertBefore(r,zo[1]),r}n("newchat").onclick=()=>{for(const e of zo)e.removeAttribute("data-current");Wo=null,Kr.innerHTML="",
$r.innerHTML="New chat"},eo.onclick=()=>{for(const e of zo)e.removeAttribute("data-current");if(Wo=null,Kr.innerHTML="",$r.innerHTML="New chat",to.style.display="none",Xr.removeAttribute("data-op"),Jr.onfocus=Kr.onscrollend=ge=be=ye=null,zo.length<2)for(const e of qo)Go(e);Jr.onkeydown=e=>{if("Enter"===e.key){e.preventDefault(),e.stopPropagation();const t=Jr.value.trim();if(t.length<1)return void o("Messages cannot be empty.")
;if(t.length>8e3)return void o("Messages cannot be longer than 8000 characters.");if(Jr.value="",Jr.disabled=!0,null==Wo){const e={title:t.slice(0,100),msgs:Wo=[]};qo.push(e),Go(e).setAttribute("data-current","1")}const n={role:"u",text:t};Vo(n),Wo.push(n);const r={role:"a",text:"Processing..."},a=Vo(r),i=a.lastElementChild;he=e=>{if(e.length>0){const t=Kr.scrollTop,n=Kr.scrollHeight-Kr.clientHeight;i.textContent=r.text=e,t>=n-100&&Kr.scrollTo({behavior:"instant",left:0,top:Kr.scrollHeight})
}else Wo.push(r),Jr.disabled=!1,he=pe=null,F.setItem("__chats",JSON.stringify(qo,void 0,0))},pe=e=>{Wo.pop(),a.remove(),Jr.disabled=!1,he=pe=null,o("Failed to process the request. Message: "+e)},$.send(La.UTF_8.encode("\x02"+JSON.stringify(Wo,void 0,0)),{compress:!0})}},Zr.removeAttribute("data-current"),Qr.removeAttribute("data-current"),eo.setAttribute("data-current","1"),Wr.removeAttribute("style"),Vr.removeAttribute("style"),qr.style.display="block",Gr.style.display="none",Zr.disabled=!1,
Qr.disabled=!1,eo.disabled=!1,Gr.disabled=!0,Jr.disabled=!1}}n("emoji").onclick=()=>{if("block"!==zr.style.display){if(null==zr.firstElementChild){const e=new go({locale:"POSIX",emojiVersion:1e3});e.addEventListener("emoji-click",(e=>{e.preventDefault(),e.stopPropagation();const t=e.detail.unicode;null!=t&&Jr.setRangeText(t,Jr.selectionStart||0,Jr.selectionEnd||0,"end")})),zr.appendChild(e)}zr.style.display="block"}else zr.style.display="none"}}{const Ko=n("nwidget");W.onclick=()=>{if(null!=K){
if(Ko.hasAttribute("data-current"))return Ko.removeAttribute("data-current"),void W.removeAttribute("data-current");Ko.innerHTML="",W.disabled=!0,h(60,K).then((e=>{if(Array.isArray(e)&&e.length>0)for(const n of e){const e=t.createElement("div");{const r=t.createElement("div");switch(n.type){case 0:r.textContent=n.text;break;case 1:r.innerHTML="<b>"+n.user+"</b> sent a direct message to you.",e.onclick=()=>{h(1,n.fuid).then((e=>{ee(e).catch((e=>{o("Failed to open chat channel. Message: "+e)}))
})).catch((e=>{o("Failed to load user info. Message: "+e)}))};break;case 2:r.innerHTML="<b>"+n.user+"</b> mentioned you in a chat channel.",e.onclick=()=>{re(n.chId).catch((e=>{o("Failed to open chat channel. Message: "+e)}))};break;case 3:r.innerHTML="<b>"+n.user+"</b> mentioned you in a game comment.",e.onclick=()=>{oe().then((()=>{const e=n.game;for(const t of J)if(t.date===e){te(t).catch((e=>{o("Failed to launch game. Message: "+e)}));break}})).catch((e=>{
o("Failed to get game information. Message: "+e)}))};break;case 4:r.innerHTML="<b>"+n.user+"</b> requested to be friend with you.",e.onclick=()=>{U.click()};break;default:r.innerHTML="Error: Failed to parse message."}e.appendChild(r)}{const r=t.createElement("span");r.textContent=c(n.date),e.appendChild(r)}Ko.appendChild(e)}else Ko.innerHTML="<div>You don't have any notifications.</div>";W.removeAttribute("data-unread")})).catch((e=>{o("Failed to fetch notifications. Message: "+e)
})).finally((()=>{W.disabled=!1,Ko.setAttribute("data-current",""),W.setAttribute("data-current","")}))}else U.click()}}{const Yo=n("id"),$o=n("bio"),Xo=n("af"),Jo=n("dm"),Zo=n("pf-games"),Qo=n("avatar"),ea=n("profile-page");ne=async e=>{const t=await h(1,e);null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),q.checked=!1,ea.setAttribute("data-current","1"),Xo.disabled=!1,Xo.innerHTML="Add Friend",Qo.src=s(t.icon),
$o.textContent=t.bio||"NettleWeb User",Zo.innerHTML="",Zo.onscrollend=null,Zo.removeAttribute("style");{const e=Yo.textContent=t.id;O||(ie=v,A.replaceState(void 0,"","/@"+e))}switch(t.vip){case 3:Yo.setAttribute("data-vip","gold");break;case 4:Yo.setAttribute("data-vip","diamond");break;default:Yo.removeAttribute("data-vip")}Xo.onclick=()=>{null!=K?h(24,[K,e]).then((()=>{Xo.disabled=!0,Xo.innerHTML="Requested"})).catch((e=>{o("Failed to send friend request. Message: "+e)})):U.click()},
Jo.onclick=()=>{null!=K?ee(t).catch((e=>{o("Failed to open chat channel. Message: "+e)})):U.click()},await oe();{const t=J.filter((t=>t.user===e));if(t.length>0){let e=25;for(const e of t.slice(0,25))Zo.appendChild(b(e));Zo.onscrollend=()=>{if(Zo.scrollTop>=Zo.scrollHeight-Zo.clientHeight){const n=e+25;n>=t.length&&(Zo.onscrollend=null);for(const r of t.slice(e,e=n))Zo.appendChild(b(r))}}}else Zo.style.overflow="unset",Zo.innerHTML="This user has not uploaded any games yet."}}}
const ve=n("chat-profile"),we=t.querySelectorAll("#nav-bar>button, #content>div, #nmsg-btn, #accn-btn, #nwidget");{const ta=n("ff"),na=n("accountinfo-page"),ra=n("ac-friends");function oa(e,n){const r=n.uid;if("string"!=typeof r)throw Error("Internal Error");const a=t.createElement("img");a.src=s(n.icon),a.alt="Avatar",a.width=48,a.height=48,a.loading="lazy",a.decoding="async",a.draggable=!1,e.appendChild(a);{const i=t.createElement("div");switch(i.className="user",i.textContent=n.id,n.vip){
case 3:i.setAttribute("data-vip","gold");break;case 4:i.setAttribute("data-vip","diamond")}a.onclick=i.onclick=()=>{ne(r).catch((e=>{o("Failed to open user profile. Message: "+e)}))},e.appendChild(i)}switch(n.state){case 1:{const n=t.createElement("button");n.type="button",n.title="Cancel request",n.className="cross",n.onclick=()=>{h(25,[K,r]).then((()=>{e.remove()})).catch((e=>{o("Failed to cancel friend request. Message: "+e)}))},e.appendChild(n)}{const n=t.createElement("span")
;n.innerHTML="Requested",e.appendChild(n)}break;case 2:{const a=t.createElement("button");a.type="button",a.title="Accept",a.className="tick",a.onclick=()=>{h(24,[K,r]).then((()=>{n.state=0,e.innerHTML="",oa(e,n)})).catch((e=>{o("Failed to accept friend request. Message: "+e)}))},e.appendChild(a)}{const n=t.createElement("button");n.type="button",n.title="Reject",n.className="cross",n.onclick=()=>{h(25,[K,r]).then((()=>{e.remove()})).catch((e=>{o("Failed to reject friend request. Message: "+e)
}))},e.appendChild(n)}{const n=t.createElement("span");n.innerHTML="Accept friend request?",e.appendChild(n)}break;default:{const n=t.createElement("button");n.type="button",n.title="Remove friend",n.className="cross",n.onclick=()=>{h(25,[K,r]).then((()=>{e.remove()})).catch((e=>{o("Failed to remove friend. Message: "+e)}))},e.appendChild(n)}{const r=t.createElement("button");r.type="button",r.title="Message",r.className="message",r.onclick=()=>{ee(n).catch((e=>{
o("Failed to open chat channel. Message: "+e)}))},e.appendChild(r)}}}Q=()=>{h(26,[K,0]).then((e=>{if(ra.innerHTML="",Array.isArray(e)&&e.length>0){let n=0;for(const n of e){const e=t.createElement("div");oa(e,n),ra.appendChild(e)}ra.onscrollend=()=>{ra.scrollTop>=ra.scrollHeight-ra.clientHeight&&n>=0&&h(26,[K,n+=10]).then((e=>{e.length<10&&(n=-1);for(const n of e){const e=t.createElement("div");oa(e,n),ra.appendChild(e)}}))}}})).catch((e=>{o("Failed to fetch the list. Message: "+e)}))},
n("chat-login").onclick=ve.onclick=U.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");ra.innerHTML="Loading...",H.scrollTo({top:0,left:0,behavior:"instant"}),U.setAttribute("data-current","1"),na.setAttribute("data-current","1"),q.checked=!1,"string"==typeof K&&Q()},ta.onclick=()=>{const e=t.createElement("div"),n=t.createElement("input");n.type="text",n.minLength=2,n.maxLength=30,n.spellcheck=!1,n.placeholder="Username",n.autocomplete="off",e.appendChild(n)
;const r=t.createElement("button");r.type="button",r.title="Add",r.className="tick",e.appendChild(r);const a=t.createElement("button");a.type="button",a.title="Cancel",a.className="cross",e.appendChild(a),n.onblur=()=>{const e=n.value.trim().toLowerCase();e.length>0&&(n.value=e)},r.onclick=()=>{const r=n.value.trim().toLowerCase();r.length<4||r.length>20||!/^[\-a-z0-9]+$/.test(r)?o("Please provide a valid username."):h(1,"@"+r).then((n=>{h(24,[K,n.uid]).then((()=>{const r=t.createElement("div")
;n.state=1,oa(r,n),ra.appendChild(r),e.replaceWith(ta)})).catch((e=>{o("Failed to send friend request. Message: "+e)}))})).catch((e=>{o("Failed to retrieve user information. Message: "+e)}))},a.onclick=()=>{e.replaceWith(ta)},ta.replaceWith(e)}}{
const aa=n("home-btn"),ia=n("apps-btn"),sa=n("info-btn"),ca=n("home-page"),la=n("gamemu-page"),da=n("desmos-page"),ua=n("webemu-page"),ha=n("console-page"),pa=n("unbl0ck-page"),fa=n("services-page"),ma=n("mirrorlink-page"),ga=n("uploadgames-page"),ba=n("settings-page"),ya=E.pathname,va=new URLSearchParams(E.search);switch(n("logo").onclick=aa.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");q.checked=!1,ca.setAttribute("data-current",""),
aa.setAttribute("data-current",""),H.scrollTo({top:0,left:0,behavior:"instant"})},n("goto-apps").onclick=ia.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,behavior:"instant"}),q.checked=!1,ia.setAttribute("data-current",""),fa.setAttribute("data-current",""),O||(X||(t.title="NettleWeb Apps"),ie=v,A.replaceState(void 0,"","/apps"))},sa.onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");H.scrollTo({top:0,left:0,
behavior:"instant"}),q.checked=!1,sa.setAttribute("data-current",""),ma.setAttribute("data-current",""),O||(X||(t.title="About NettleWeb"),ie=v,A.replaceState(void 0,"","/about"))},n("u").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");pa.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},n("e").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");la.setAttribute("data-current",""),q.checked=!1,
H.scrollTo({top:0,left:0,behavior:"instant"})},n("p").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");ua.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},n("c").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");ha.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},n("d").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current")
;da.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},n("ug").onclick=()=>{null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");ga.setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},n("settings").onclick=()=>{const e=ba.hasAttribute("data-current");null!=ie&&ie();for(const e of we)e.removeAttribute("data-current");e?(aa.setAttribute("data-current","1"),
ca.setAttribute("data-current","1")):ba.setAttribute("data-current","1"),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})},A.scrollRestoration="manual",A.replaceState(void 0,"","/"),ya){case"/":break;case"/g":case"/g/":case"/game":case"/game/":case"/games":case"/games/":R.click();break;case"/v":case"/v/":case"/video":case"/video/":case"/videos":case"/videos/":z.click();break;case"/about":case"/about/":sa.click();break;case"/a":case"/a/":case"/apps":case"/apps/":ia.click();break
;default:if("/@"===ya.slice(0,2)){const wa=ya.slice(1);if(wa.length<=50)try{await ne(wa)}catch(ka){o("Failed to open user profile. Message: "+ka)}}else if("/join/"===ya.slice(0,6)){const Ca=ya.slice(6);if(12===Ca.length)try{const Ea=await h(73,Ca);n("igrcode").textContent=Ca,n("igrname").textContent=Ea.name,n("gr-users").textContent=Ea.users,n("gr-accept").onclick=()=>{null!=K?h(70,[K,Ca]).then((({id:e})=>{re(e).catch((e=>{o("Failed to open chat channel. Message: "+e)}))})).catch((e=>{
o("Failed to join group chat. Message: "+e)})):U.click()};for(const Aa of we)Aa.removeAttribute("data-current");n("group-invite-page").setAttribute("data-current",""),q.checked=!1,H.scrollTo({top:0,left:0,behavior:"instant"})}catch(xa){o("Failed to open invite link. Message: "+xa)}}else if("/reset/"===ya.slice(0,7)){const Ta=ya.slice(7);if(256===Ta.length){const Sa=n("account-reset-page");for(const Ia of we)Ia.removeAttribute("data-current");Sa.setAttribute("data-current",""),q.checked=!1,
H.scrollTo({top:0,left:0,behavior:"instant"});const Ma=n("np"),ja=n("rp");n("reset").onclick=()=>{const e=Ma.value;e.length<8||e.length>30?o("The new password must have 8 to 30 characters."):e===ja.value?h(76,[Ta,e]).then((()=>{Sa.remove(),U.click()})).catch((e=>{o("Failed to reset password. Message: "+e)})):o("The confirm password does not match the new password.")}}}else if(ya.length>4&&ya.length<20){const _a=parseInt(ya.slice(1),36);if(Number.isSafeInteger(_a)&&_a>0){await oe()
;for(const Oa of J){const Pa=Oa.date;if(Pa===_a){if("1"===va.get("hidegui"))return M.innerHTML="",M.appendChild(g(Oa.type,m(Oa.file,Pa.toString(36)))),void C();try{await te(Oa)}catch(Na){o("Failed to launch game. Message: "+Na)}break}}}}else o("Error: Page does not exist: "+ya)}"1"===va.get("m")&&setTimeout((()=>{H.scrollTo({top:H.scrollHeight,left:0,behavior:"instant"})}),5e3),n("loading").remove(),H.style.display="block"}{const Fa=n("headlines");await oe();try{const Ba=await h(47)
;if(Ba.length<1)return void(Fa.innerHTML="No articles are available at this moment.");Fa.innerHTML="";for(const Da of Ba){const Ha=t.createElement("div"),Ua=Da.urlToImage||null;{const Ra=t.createElement("img");Ra.src=null==Ua?"/res/preview.svg":s(Ua),Ra.alt="Preview",Ra.width=160,Ra.height=90,Ra.loading="lazy",Ra.decoding="async",Ra.draggable=!1,Ha.appendChild(Ra)}{const za=t.createElement("div");{const Wa=t.createElement("div");Wa.className="title",Wa.textContent=Da.title,za.appendChild(Wa)}{
const qa=t.createElement("div");qa.className="desc",qa.textContent=Da.description||"Description is not available for this article.",za.appendChild(qa)}{const Va=t.createElement("div");Va.className="time",Va.textContent="Source: "+(Da.source.name||"unknown")+"; Author: "+(Da.author||"unknown")+"; Published at "+c(Da.publishedAt),za.appendChild(Va)}Ha.appendChild(za)}Ha.onclick=()=>{w(Da.url)},Fa.appendChild(Ha)}}catch(Ga){Fa.textContent="Failed to fetch from the API server. Message: "+Ga}}
if("https://nettleweb.com"===e.origin){G=se(f({appId:"1:176227430389:web:94270de43b7eb971c03abc",apiKey:"AIzaSyCPXTy7dt3fpcLd8kVTBtXy0xuBdeuhbFc",projectId:"whitespider",authDomain:"whitespider.firebaseapp.com",databaseURL:"https://whitespider-default-rtdb.firebaseio.com",storageBucket:"whitespider.firebasestorage.app",measurementId:"G-F72WBJT57S",messagingSenderId:"176227430389"},"NettleWeb"))
;const Ka=await d("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7505521340110301");if(null!=Ka&&Ka.length>0){{const Ya=t.createElement("ins");Ya.className="adsbygoogle",Ya.setAttribute("data-ad-slot","5345722600"),Ya.setAttribute("data-ad-client","ca-pub-7505521340110301"),Ya.setAttribute("data-ad-format","auto"),Ya.setAttribute("data-full-width-responsive","true"),V.appendChild(Ya)}{const $a=t.createElement.bind(t);Object.defineProperty(t,"createElement",{
value:(e,t)=>{const n=$a(e,t);return"iframe"===n.tagName.toLowerCase()&&n.setAttribute("credentialless","true"),n},writable:!1,enumerable:!1,configurable:!1})}{const Xa=t.createElementNS.bind(t);Object.defineProperty(t,"createElementNS",{value:(e,t,n)=>{const r=Xa(e,t,n);return"iframe"===r.tagName.toLowerCase()&&r.setAttribute("credentialless","true"),r},writable:!1,enumerable:!1,configurable:!1})}try{
Function("arguments","globalThis","window","frames","self","document",Ka).call(e,void 0,e,e,e,e,t)}catch(Ja){}(e.adsbygoogle||=[]).push(1)}else o("You are using an ad blocker. Please disable it to support this website's development.")}else C();{async function Za(){Q(),U.title="My Account",U.setAttribute("data-ac",""),n("ac-prof").style.display="block",n("chat-login").remove(),n("login-dialog").remove()
;const e=n("ac-bio"),r=n("ac-name"),a=n("ac-email"),i=n("ac-un"),c=n("ac-edit"),l=n("ac-link"),d=n("ac-bio-edit"),p=n("ac-name-edit"),f=n("ac-email-edit"),m=n("cp"),g=n("rs"),y=n("tf");"1"===F.getItem("__?2fa")&&(y.setAttribute("data-enabled",""),y.textContent="Disable Two-Factor");const v=n("ch-avatar"),w=v.firstElementChild,k=t.createElement("img");k.alt="Avatar",k.width=40,k.height=40,k.loading="eager",k.decoding="sync",k.draggable=!1,ve.appendChild(k);const C=t.createElement("div")
;C.className="user",ve.appendChild(C),ve.style.display="block";const A=await h(2,K);ae=A.likes;const x=A.id,T=A.uid,S=A.name;if(null!=G&&(ce(G,T,{global:!0}),le(G,{id:x,uid:T,name:S},{global:!1})),"string"!=typeof x||x.length<4||"string"!=typeof T||T.length<2)o("Error: Server response parse error.");else{switch(e.textContent=A.bio||"NettleWeb User",r.textContent=S||"Not set",a.textContent=A.email||"Not set",w.src=k.src=s(A.icon),i.textContent=x,C.textContent=x,n("ac-uid").textContent=T,
A.unread&&W.setAttribute("data-unread",""),A.vip){case 3:n("ac-membership").textContent="Gold \u{1f451}",i.setAttribute("data-vip","gold"),C.setAttribute("data-vip","gold");break;case 4:n("ac-membership").textContent="Diamond \u{1f48e}",i.setAttribute("data-vip","diamond"),C.setAttribute("data-vip","diamond");break;default:n("ac-membership").textContent="None"}{const e=n("ac-games"),t=J.filter((e=>e.user===T));let r=25;for(const n of t.slice(0,25))e.appendChild(b(n));e.onscrollend=()=>{
if(r<t.length&&e.scrollTop>=e.scrollHeight-e.clientHeight)for(const n of t.slice(r,r+=25))e.appendChild(b(n))}}v.onclick=()=>{const e=t.createElement("input");e.type="file",e.accept="image/*",e.onchange=async()=>{const t=e.files?.item(0);if(null!=t){const e=await u(t,512,512);if(null==e)return void o("Error: Failed to resize image.");try{await h(4,[K,await e.arrayBuffer()])}catch(e){return void o("Failed to upload the image file. Message: "+e)}const n=URL.createObjectURL(e);w.src=k.src=n,
await w.decode(),await k.decode(),URL.revokeObjectURL(n)}},e.click()},c.onclick=()=>{const e=t.createElement("div"),n=t.createElement("input");n.type="text",n.value=i.innerHTML,n.minLength=4,n.maxLength=20,n.spellcheck=!1,n.placeholder="Username",n.autocomplete="off",e.appendChild(n);const r=t.createElement("button");r.type="button",r.title="Save",r.className="tick",e.appendChild(r);const a=t.createElement("button");a.type="button",a.title="Cancel",a.className="cross",e.appendChild(a),
n.onblur=()=>{const e=n.value.trim().toLowerCase();e.length>0&&(n.value=e)},r.onclick=()=>{const t=n.value.trim().toLowerCase();t.length<4||t.length>20?o("Username must be between 4 and 20 characters long."):/^[\-a-z0-9]+$/.test(t)?h(3,[K,t]).then((()=>{e.replaceWith(i),i.textContent=t,C.textContent=t,c.removeAttribute("style")})).catch((e=>{o("Failed to change username. Message: "+e)})):o("Username must contain only hyphens, 0-9, lowercase a-z")},a.onclick=()=>{e.replaceWith(i),
c.removeAttribute("style")},c.style.display="none",i.replaceWith(e),n.select()},l.onclick=()=>{const e="https://nettleweb.com/@"+x,n=t.createElement("span");n.textContent=e,l.replaceWith(n),navigator.clipboard.writeText(e).catch((e=>{o("Failed to copy link to clipboard. Message: "+e)}))},d.onclick=()=>{const n=t.createElement("div"),r=t.createElement("input");r.type="text",r.value=e.innerHTML,r.minLength=1,r.maxLength=500,r.spellcheck=!1,r.placeholder="Bio",r.autocomplete="off",n.appendChild(r)
;const a=t.createElement("button");a.type="button",a.title="Save",a.className="tick",n.appendChild(a);const i=t.createElement("button");i.type="button",i.title="Cancel",i.className="cross",n.appendChild(i),r.onblur=()=>{const e=r.value.trim();e.length>0&&(r.value=e)},a.onclick=()=>{const t=r.value.trim();t.length>500?o("Bio cannot have more than 500 characters in length."):h(55,[K,t]).then((()=>{n.replaceWith(e),d.removeAttribute("style"),e.textContent=t||"NettleWeb User"})).catch((e=>{
o("Failed to update bio. Message: "+e)}))},i.onclick=()=>{n.replaceWith(e),d.removeAttribute("style")},d.style.display="none",e.replaceWith(n),r.select()},p.onclick=()=>{const e=t.createElement("div"),n=t.createElement("input");n.type="text",n.value=r.innerHTML,n.minLength=2,n.maxLength=30,n.spellcheck=!1,n.placeholder="Name",n.autocomplete="off",e.appendChild(n);const a=t.createElement("button");a.type="button",a.title="Save",a.className="tick",e.appendChild(a);const i=t.createElement("button")
;i.type="button",i.title="Cancel",i.className="cross",e.appendChild(i),n.onblur=()=>{const e=n.value.trim();e.length>0&&(n.value=e)},a.onclick=()=>{const t=n.value.trim();t.length>30?o("Name cannot have more than 30 characters in length."):h(20,[K,t]).then((()=>{e.replaceWith(r),r.textContent=t,p.removeAttribute("style")})).catch((e=>{o("Failed to update name. Message: "+e)}))},i.onclick=()=>{e.replaceWith(r),p.removeAttribute("style")},p.style.display="none",r.replaceWith(e),n.select()},
f.onclick=()=>{const e=t.createElement("div"),n=t.createElement("input");n.type="email",n.value=a.innerHTML,n.minLength=6,n.maxLength=320,n.spellcheck=!1,n.placeholder="Email",n.autocomplete="off",e.appendChild(n);const r=t.createElement("button");r.type="button",r.title="Save",r.className="tick",e.appendChild(r);const i=t.createElement("button");i.type="button",i.title="Cancel",i.className="cross",e.appendChild(i),n.onblur=()=>{const e=n.value.trim().toLowerCase();e.length>0&&(n.value=e)},
r.onclick=()=>{const i=n.value.trim().toLowerCase();i.length<6||i.length>320||i.indexOf("@",1)<0?o("Please provide a valid email address."):h(19,[K,i]).then((()=>{{const n=t.createElement("div");n.textContent="Please check your inbox and fill in the 6-digit verification code below to verify your email address.",e.prepend(n)}n.type="text",n.value="",n.minLength=6,n.maxLength=6,n.placeholder="6-digit verification code",n.onblur=()=>{const e=n.value.trim();e.length>0&&(n.value=e)},r.onclick=()=>{
const t=n.value.trim();6===t.length&&/^\d+$/.test(t)?h(18,[K,t]).then((()=>{e.replaceWith(a),a.textContent=i,f.removeAttribute("style")})).catch((e=>{o("Failed to verify your email. Message: "+e)})):o("The code provided must have exactly 6 digits.")}})).catch((e=>{o("Failed to update your email address. Message: "+e)}))},i.onclick=()=>{e.replaceWith(a),f.removeAttribute("style")},f.style.display="none",a.replaceWith(e),n.select()},m.onclick=()=>{const e=t.createElement("div");{
const n=t.createElement("div");n.setAttribute("style","position:relative;display:block;width:fit-content;height:fit-content;margin:10px 0px;padding:5px;line-height:18px;"),n.innerHTML="Notice: If your account was created with your Google account and does not have a password, set the current password field to 'CHANGEME!'. After changing your password, previously logged-in sessions will still have access to your account. To revoke the access, click the 'logout all sessions' button down below.",
e.appendChild(n)}const n=t.createElement("input");n.type="password",n.minLength=8,n.maxLength=30,n.spellcheck=!1,n.placeholder="Current password",n.autocomplete="off",e.appendChild(n);const r=t.createElement("input");r.type="password",r.minLength=8,r.maxLength=30,r.spellcheck=!1,r.placeholder="New password",r.autocomplete="off",e.appendChild(r);const a=t.createElement("input");a.type="password",a.minLength=8,a.maxLength=30,a.spellcheck=!1,a.placeholder="Confirm password",a.autocomplete="off",
e.appendChild(a);const i=t.createElement("button");i.type="button",i.title="Change",i.className="tick",e.appendChild(i);const s=t.createElement("button");s.type="button",s.title="Cancel",s.className="cross",e.appendChild(s),i.onclick=()=>{const t=n.value;if(t.length<8||t.length>30)return void o("The current password must have 8 to 30 characters.");const i=r.value;i.length<8||i.length>30?o("The new password must have 8 to 30 characters."):t!==i?i===a.value?h(9,[K,t,i]).then((()=>{e.replaceWith(m)
})).catch((e=>{o("Failed to change password. Message: "+e)})):o("The confirm password does not match the new password."):o("The new password must be different from the current password.")},s.onclick=()=>{e.replaceWith(m)},m.replaceWith(e)},g.onclick=()=>{h(43,K).then((e=>{"string"==typeof e&&2048===e.length?($.send(La.UTF_8.encode("\x01"+(K=e))),F.setItem("__secrets_",e),g.disabled=!0):o("Error: Remote returned invalid token.")})).catch((e=>{o("Failed to revoke login tokens. Message: "+e)}))},
y.onclick=()=>{const e=t.createElement("div");if(y.hasAttribute("data-enabled")){const n=t.createElement("input");n.type="text",n.minLength=6,n.maxLength=6,n.spellcheck=!1,n.placeholder="6-digit verification code",n.autocomplete="off",e.appendChild(n);const r=t.createElement("button");r.type="button",r.title="Change",r.className="tick",e.appendChild(r),r.onclick=()=>{const t=n.value.trim();6===t.length&&/^\d+$/.test(t)?h(46,[K,t]).then((()=>{F.setItem("__?2fa","0"),e.replaceWith(y),
y.removeAttribute("data-enabled"),y.textContent="Enable Two-Factor"})).catch((e=>{o("Failed to enable two-factor authentication. Message: "+e)})):o("The code provided must have exactly 6 digits.")}}else{{const n=t.createElement("div");n.setAttribute("style","position:relative;display:block;width:fit-content;height:fit-content;margin:15px 0px;line-height:18px;white-space:pre-wrap;"),
n.innerHTML='In order to enable two-factor authentication (2FA), please follow the steps below:\n1. Install an <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" target="_blank" rel="noopener">authenticator app</a> if you don\'t have one already.\n2. Scan the QR code below or manually input the secret to save your account onto the authenticator.\n3. Input the 6-digit verification code generated below to verify.\n\nAfter enabling 2FA, you will be required to input the generated 6-digit verification code everytime as you login for enhanced account security.\n\nTo avoid being locked out, save the secret or a screenshot of the QR code across multiple devices, so that it could be restored back into the authenticator in case you lost your data.',
e.appendChild(n)}const n=La.Base32.encode(crypto.getRandomValues(new Uint8Array(new ArrayBuffer(32),0,32)));{const r=t.createElement("img");r.alt="QR Code",r.width=147,r.height=147,r.loading="eager",r.decoding="sync",r.draggable=!1,r.src=fs("otpauth://totp/NettleWeb:"+x+"?secret="+n+"&issuer=NettleWeb&algorithm=SHA1").toDataURL({type:"image/png",scale:3}),e.appendChild(r)}{const r=t.createElement("div")
;r.setAttribute("style","position:relative;display:block;width:fit-content;height:fit-content;margin:15px 0px;line-height:18px;"),r.textContent="Secret: "+n,e.appendChild(r)}const r=t.createElement("input");r.type="text",r.minLength=6,r.maxLength=6,r.spellcheck=!1,r.placeholder="6-digit verification code",r.autocomplete="off",e.appendChild(r);const a=t.createElement("button");a.type="button",a.title="Change",a.className="tick",e.appendChild(a),a.onclick=()=>{const t=r.value.trim()
;6===t.length&&/^\d+$/.test(t)?h(44,[K,n,t]).then((()=>{F.setItem("__?2fa","1"),e.replaceWith(y),y.setAttribute("data-enabled",""),y.textContent="Disable Two-Factor"})).catch((e=>{o("Failed to enable two-factor authentication. Message: "+e)})):o("The code provided must have exactly 6 digits.")}}const n=t.createElement("button");n.type="button",n.title="Cancel",n.className="cross",e.appendChild(n),n.onclick=()=>{e.replaceWith(y)},y.replaceWith(e)},n("so").onclick=()=>{F.removeItem("__secrets_"),
setTimeout((()=>E.reload()),200)},n("da").onclick=()=>{o("Error: Operation not permitted.")},n("account-settings").style.display="block"}}if(null!=K){const ci=await new Promise((e=>{de=()=>{de=ue=null,e(null)},ue=t=>{de=ue=null,e(t)},$.send(La.UTF_8.encode("\x01"+K))}));if(null==ci)return void await Za();o("Failed to validate login token. Please login again. Message: "+ci),K=null}const Qa=n("login-dialog");let ei,ti,ni;function ri(){Qa.style.display="none",Qa.innerHTML="";{
const e=t.createElement("h3");e.textContent="Login",Qa.appendChild(e)}const e=t.createElement("input");e.type="text",e.value=ti||"",e.required=!0,e.minLength=4,e.maxLength=320,e.spellcheck=!1,e.placeholder="Username/Email",e.autocomplete="off",Qa.appendChild(e);const n=t.createElement("input");n.type="password",n.value=ni||"",n.required=!0,n.minLength=8,n.maxLength=30,n.spellcheck=!1,n.placeholder="Password",n.autocomplete="off",Qa.appendChild(n);const r=t.createElement("button")
;r.type="button",r.className="pri-button",r.textContent="Login",Qa.appendChild(r);const a=t.createElement("div");a.tabIndex=0,a.textContent="Register",Qa.appendChild(a);const i=t.createElement("div");i.tabIndex=0,i.textContent="Forgot password",Qa.appendChild(i);const s=t.createElement("div");s.tabIndex=0,s.textContent="Sign in with Google",Qa.appendChild(s),e.onblur=()=>{const t=e.value.trim().toLowerCase();t.length>0&&(ti=e.value=t)},n.onblur=()=>{const e=n.value;e.length>0&&(ni=e)},
r.onclick=()=>{const t=ti=e.value.trim().toLowerCase();if(t.indexOf("@",1)<0){if(t.length<4||t.length>20)return void o("Username must be between 4 and 20 characters long.");if(!/^[\-a-z0-9]+$/.test(t))return void o("Username must contain only hyphens, 0-9, lowercase a-z.")}else if(t.length<6||t.length>320)return void o("Invalid email address. (Usernames should not contain a '@' symbol)");const r=ni=n.value
;r.length<8||r.length>30?o("Password must be between 8 and 30 characters long."):h(10,[t,r]).then((e=>{"string"==typeof e?ii(e):o("Error: Remote returned invalid token data.")})).catch((e=>{o("Failed to retrieve login token. Message: "+e)}))},a.onclick=oi,i.onclick=ai,s.onclick=si,Qa.style.display="block"}function oi(){Qa.style.display="none",Qa.innerHTML="";{const e=t.createElement("h3");e.textContent="Register",Qa.appendChild(e)}const e=t.createElement("input");e.type="text",e.value=ti||"",
e.required=!0,e.minLength=4,e.maxLength=20,e.spellcheck=!1,e.placeholder="Username",e.autocomplete="off",Qa.appendChild(e);const n=t.createElement("input");n.type="email",n.value=ei||"",n.required=!0,n.minLength=6,n.maxLength=320,n.spellcheck=!1,n.placeholder="Email",n.autocomplete="off",Qa.appendChild(n);const r=t.createElement("input");r.type="password",r.value=ni||"",r.required=!0,r.minLength=8,r.maxLength=30,r.spellcheck=!1,r.placeholder="Password",r.autocomplete="off",Qa.appendChild(r)
;const a=t.createElement("input");a.type="password",a.value="",a.required=!0,a.minLength=8,a.maxLength=30,a.spellcheck=!1,a.placeholder="Confirm password",a.autocomplete="off",Qa.appendChild(a);const i=t.createElement("input");i.id="tos-check",i.type="checkbox",i.required=!0,Qa.appendChild(i);{const e=t.createElement("label");e.htmlFor="tos-check",e.innerHTML='I have read and accepted NettleWeb\'s <a href="https://nettleweb.com/terms.html" target="blank" rel="noopener">Terms of Service</a>.',
Qa.appendChild(e)}const s=t.createElement("button");s.type="button",s.className="pri-button",s.innerHTML="Register",Qa.appendChild(s);const c=t.createElement("div");c.tabIndex=0,c.innerHTML="Login",Qa.appendChild(c);const l=t.createElement("div");l.tabIndex=0,l.innerHTML="Sign in with Google",Qa.appendChild(l),e.onblur=()=>{const t=e.value.trim().toLowerCase();t.length>0&&(ti=e.value=t)},n.onblur=()=>{const e=n.value.trim().toLowerCase();e.length>0&&(ei=n.value=e)},r.onblur=()=>{const e=r.value
;e.length>0&&(ni=e)},s.onclick=()=>{const s=ti=e.value.trim().toLowerCase();if(s.length<4||s.length>20)return void o("The username must be between 4 and 20 characters long.");if(!/^[\-a-z0-9]+$/.test(s))return void o("The username must contain only hyphens, lowercase a-z and 0-9.");const c=ei=n.value.trim().toLowerCase();if(c.length<6||c.length>320||c.indexOf("@",1)<0)return void o("Please provide a valid email.");const d=ni=r.value
;d.length<8||d.length>30?o("The password must be between 8 and 30 characters long."):d===a.value?i.checked?h(11,[s,d,c]).then((()=>{Qa.style.display="none",Qa.innerHTML="";{const e=t.createElement("h3");e.textContent="Verify Email",Qa.appendChild(e)}{const e=t.createElement("span");e.textContent="Please check your inbox and fill in the 6-digit verification code below to verify your email address.",Qa.appendChild(e)}const e=t.createElement("input");e.type="text",e.value="",e.required=!0,
e.minLength=6,e.maxLength=6,e.spellcheck=!1,e.placeholder="6-digit verification code",e.autocomplete="off",Qa.appendChild(e);const n=t.createElement("button");n.type="button",n.className="pri-button",n.textContent="Verify",Qa.appendChild(n);{const e=t.createElement("span")
;e.textContent="Notice: If you are using a managed email address (ie. school or work) and did not receive a code in your inbox after several attempts, the code is likely to be blocked by your administrator. In this case, using a personal account could help.",Qa.appendChild(e)}Qa.appendChild(l),e.onblur=()=>{const t=e.value.trim();t.length>0&&(e.value=t)},n.onclick=()=>{const t=e.value.trim();6===t.length&&/^\d+$/.test(t)?h(17,[s,t]).then((e=>{
"string"==typeof e&&2048===e.length?($.send(La.UTF_8.encode("\x01"+(K=e))),F.setItem("__secrets_",e),Za()):o("Error: Remote returned invalid token data.")})).catch((e=>{o("Failed to verify your email address. Message: "+e)})):o("The code provided must have exactly 6 digits.")},Qa.style.display="block"})).catch((e=>{o("Failed to send request. Message: "+e)})):o("Please check the checkbox above to accept the Terms of Service."):o("The confirm password does not match.")},c.onclick=ri,l.onclick=si,
Qa.style.display="block"}function ai(){Qa.style.display="none",Qa.innerHTML="";{const e=t.createElement("h3");e.textContent="Reset Password",Qa.appendChild(e)}const e=t.createElement("input");e.type="email",e.value=ei||"",e.required=!0,e.minLength=6,e.maxLength=320,e.spellcheck=!1,e.placeholder="Email",e.autocomplete="off",Qa.appendChild(e);const n=t.createElement("button");n.type="button",n.className="pri-button",n.textContent="Continue",Qa.appendChild(n);const r=t.createElement("div")
;r.tabIndex=0,r.textContent="Login",Qa.appendChild(r);const a=t.createElement("div");a.tabIndex=0,a.textContent="Register",Qa.appendChild(a);const i=t.createElement("div");i.tabIndex=0,i.textContent="Sign in with Google",Qa.appendChild(i),e.onblur=()=>{const t=e.value.trim().toLowerCase();t.length>0&&(ei=e.value=t)},n.onclick=()=>{const n=ei=e.value.trim().toLowerCase();n.length<6||n.length>320||n.indexOf("@",1)<0?o("Please provide a valid email."):h(21,n).then((()=>{Qa.style.display="none",
Qa.innerHTML="";{const e=t.createElement("h3");e.textContent="Reset Password",Qa.appendChild(e)}{const e=t.createElement("span");e.textContent="Please check your inbox and follow the instructions on the email.",Qa.appendChild(e)}Qa.appendChild(r),Qa.appendChild(a),Qa.appendChild(i),Qa.style.display="block"})).catch((e=>{o("Failed to send request. Message: "+e)}))},r.onclick=ri,a.onclick=oi,i.onclick=si,Qa.style.display="block"}function ii(e){
if(2048===e.length)return $.send(La.UTF_8.encode("\x01"+(K=e))),F.setItem("__secrets_",e),F.setItem("__?2fa","0"),void Za();Qa.style.display="none",Qa.innerHTML="";{const e=t.createElement("h3");e.textContent="Two-Factor Authentication",Qa.appendChild(e)}{const e=t.createElement("span");e.textContent="Please open your authenticator app and fill in the generated 6-digit verification code below.",Qa.appendChild(e)}const n=t.createElement("input");n.type="text",n.value="",n.minLength=6,
n.maxLength=6,n.spellcheck=!1,n.placeholder="6-digit verification code",n.autocomplete="off",Qa.appendChild(n);const r=t.createElement("button");r.type="button",r.className="pri-button",r.textContent="Verify",Qa.appendChild(r),n.onblur=()=>{const e=n.value.trim();e.length>0&&(n.value=e)},r.onclick=()=>{const t=n.value.trim();6===t.length&&/^\d+$/.test(t)?h(45,[e,t]).then((e=>{"string"==typeof e&&2048===e.length?($.send(La.UTF_8.encode("\x01"+(K=e))),F.setItem("__secrets_",e),
F.setItem("__?2fa","1"),Za()):o("Error: Remote returned invalid token data.")})).catch((e=>{o("Failed to login with OTP. Message: "+e)})):o("The code provided must have exactly 6 digits.")},Qa.style.display="block"}function si(){const t=new URL("https://accounts.google.com/o/oauth2/v2/auth");{const n=t.searchParams;n.set("client_id","176227430389-qkdboctmfhe9jnvnk2vmarafc5p8amuf.apps.googleusercontent.com"),n.set("redirect_uri",e.origin+"/auth.html"),n.set("response_type","token"),
n.set("state","12"),n.set("scope","email profile"),n.set("include_granted_scopes","true"),n.set("enable_granular_consent","true")}E.replace(t)}{const li=F.getItem("_cre_")||"";if(li.length>0){try{const di=await h(0,li);if("string"!=typeof di)return void o("Error: Remote returned invalid token data.");U.click(),ii(di)}catch(ui){o("Failed to retrieve login token. Message: "+ui)}F.removeItem("_cre_")}else ri()}}})(window)})();